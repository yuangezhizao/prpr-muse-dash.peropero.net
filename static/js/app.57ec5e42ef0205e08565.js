webpackJsonp([1],{"+Cpx":function(e,t){},"4P6j":function(e,t){},"79Yo":function(e,t){},"8W7v":function(e,t){},JqiM:function(e,t){},KRbH:function(e,t){},KUKT:function(e,t){},P3HB:function(e,t){},Qbfk:function(e,t){},Y0h5:function(e,t){},ZYPB:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAwRXhpZgAATU0AKgAAAAgAAQExAAIAAAAOAAAAGgAAAAB3d3cubWVpdHUuY29tAP/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhARExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/AABEIAHgAeAMBEQACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APAbS3kH8bf99GvhObufb2L6QyBeHf8AM1LYWuWre3lxyzfmam40hl9FIMHc/wCZqblWujO8uToXYfia6IPuZyXQrzQv/ebOf7xrZM55JItWEThh87fmaoztqagWT++/51JSJSkm04dvzpITRj6n5oRvnbp6mrTsHKzjNSllyfnf863TuLlRgvdypL/rGH/AjWiZLRYt76UuP3rn/gRqm+xNi+19KR/rW5/2jWbvcLa3IZr6bYR5j/8AfVF7jPV7ayG3pXmNaHpM0IdPyOn5VEkLoXodMyOBzUGhW1DTTgcdKVi2ZTaec5xitoeZhIry2J9K6EYNFiysNpHGfamZ2sXHtiD92kFh6QHZ60il3MfVIDsbIp3CxxOq23J44rWMg5TlLuHbJ3Fa3Jt0EgU7wMmqvoZtF9kPrmp3JsRMpI5oGe9WdrkCuF76noG5aWG5BxUsEaUGnYGcVlY0vqVtQsAcDFSaX6GY2nDB4reJzyKE+m4I4rdHO2y3ZaXyuRV2M2ye500qeh/GpY0xi6fmM8Uh3MfV7D5WAHapehouxw+p2RIbIxVoDkb+yxLnFaJshlWO3xJ0rRX6mZLMpBPFT1FYiOdtMVkfQ+mQ7gM1yM7TqtPswUGahjNiGyBA4pco7orahp+V6YrNrU0uZMlmOmK3iYyepVeyHTGa3SOeTsaFhpucfLWltDG5Zu9KyelRYtPQr/2ZgdKm2ug7mJrGnDDcZqGUmcHqtgBu4/KqRdzjdRsx5nTitESygtqN/AqyGLNbAdqlklGeAL24p7hY+gNJccCudnadfprggVmBu2wG2gLXGX6AoO9IGZMsYPFaIh9hsGnT3cmyC3lmc9kQsf0rdHNJpanTaF4O1i+bbBplwxUZOYyo/WhzjFasxubN14A1qK38+TTpRGPbJH4VPtYdwTOfuNLeHcHjZGHBDDGKtNPYu5zes2Q2nAqJI0iefaxZ7S3ehF7HE6na5c8ZrRE+plm2KsOKom2pHcQ4JqGF7GbcJ8pGKaA9r0yUqRzXOdjOv0xycVLF6nSWhzGO1ILl+x0O98RX0VnYwmSRzgt/CvuTS0W4pSUFdnsngz4FeHbBVm165Oo3AOTErbI1P9acZJ7Hm1K05aR0PX7SXRdKtVFjZWsaxgAGKNcgDjr1rrUZSRx2XVlLWXeWAvGQc4ZQBjvRUwjlHUqFVJnP3MM0caNuO/nkVzvBpRszVVbsw5pbG5maDU7OOeNz/cwfrkV4tb2mGlo9DrglUV0cJ47+DQ1KA3vhwrIvLSQO/I+grsoYyM1aTG7w3PmzxTpdxp11Lb3MLQTIcMjDmvUg1JXQ732OBv4P3jcVogbM9IMtyM0EvzIry1xms2NGTPbdqeg7nr+nwEAe1c99bHazpdOG2kTtsdp4U0ebxFqEdjAwSR+hbJFIicuRXZ69ALHwDYCytGWW9cYmn7sfT6V5Nas5S5ImUU6nvyCHxKVhJd0Kt2LEfrXsYSlFRXMcVV66G34Xu01CZlt5xbvIcrG7ZG7ofz9K+hpUotaHm1ZyW519zczDSoXZQssQMcgHQMpzz+VdXsro5uazMhtVE8zJvCnGAP1zXPUpo3hIpa9DBCQG5fHDZ718/jKKcWrHp0Ju9yjo9/Jaq8oIbbycngivjWnTkz2GlJWOB+NngeHxp4bk1vSoka8tSTJBAuXf1zX0eDxMZwu2ebKMqVTl6HyXe258w5B44IIr2EaWtsUBb/MOO9JiIb2Hk8VIIyJ4DkYpoex7HZWpAHeuK56Fjf06yMkiooyzEAADmlzCa7nozfGHR/h3qum+F9OjjOpygC6lSMGT/dJAzXn/AFmU5tQ+FbmEsNzR55v0MLxJ4juL7W7hThF+8UBJOT61hFJybSNbOMUjqfAGlajfO0mY0iI5V2YZH4nH6V9NgacmeRiqkVuZer+N4tA+J2i6VFf2xd7qNWRnCNFk4yfUdf0r0mmqiSZyrWm20fSzapa3rTtGRJBK7JIw/vDjd+NexFp6nlWZ5+8X/E3ubR3+ZVzG6nnrgVzzhfQ6YytZnknxr+P2mfCbWLJ/EQn+yMqhnEZCB84615zoOpKz1SO1TUY3WlzrPDfxK8O+PfC66ppdzFPb3KgxiNuSO+K+UzKFNSairM9PCupo27or+B/FumXMt1pQvmstR3nyMqDG49Dz1rwOVxTj3PTnDmtK17Hm3xH+GE+uXV1qmiKlxcplruyiGH46uo716mXZim/YV9GjCvQ5ffjseNLbkSlSCCDgg8EV9KcN+pHeWw54pDMia3wenSgLnttlYjHSvJuz1l3L+uaxYeA9ONxfTRpfyD/R4S3zDI+8RXFXr8ydOnv+RUIczUpLQ8K+Hmu61r3xldLfVJdNEq+ZdumC0i5yI+e59uldmEhGlSbv/wAExxT5mo2/4B75rl9FZavPEAxxglVOfzrOlFL3noYVLvRHMeN/j3d+A/Dt5cjRNQktoYzsnWMgySnhEQe/duwBPoK+iwc3J72R5WIpKKvuz5S+Hl5r/wAW/idZ6jq09+1/LdF5JZ3KWqW4wdkYxu3DB9eo75r168qcYXucFFVZT20P038GaxfXljDFaQSxWoUAsVO3b05J4XPvXJLF+yinY1dBSkzsrXwgmnSw3epXSBixZGU5wD2OKmGM5leSsiZUbaIr/Ev4N+G/izpCWNxdx29/EGeyvIwjSxOVI3BXBBGCRgg1TrSjLmg9SeRONpHyr8FP2PLj4O3mt6Zqnil7uO5kLW0MOUjjYZ2yFScgkcHH6181mc5YuzcbJHs4Nxw0Wou9zzf4tXmqfDrX3sZJfKZDvhuYydzH1B+tctGnGrRaR3KbU02eifD7xjrfiCbTdcAMEM9ms8168m2HcGKMM9icA49a+Vq0HGtpumeo5wUGmP1PwWPEHiO7uY9Qgi85ySAvG7ua+lhmkKcYwaPGlQbuzC8TfDrWdFhM/ki7tcZE1v8AMMe4r1KWMpVdE9Tn5ZLU4SZMg8V2k2PoTwvDB9rV5xuSJTJt9cDNeFWlywbPYteyR8s/GzX59e8c6hdPOyqoxEpPAXNYYKnaF3u3qb1XbTsJ+z/rVtZeN9Y1++dmFjaGRIoxku5IAGfqRXpVYWhGC6s893nK6Pc/h74qsvE+qTTXcm2UuS+7GRzXQoKnp0PPnJybsepa0NLvdKktmjiuISpCqRkflWnPFe6ZKMr8yPHND8M2HhPWXnMi2pnlz8qb1RPTaPU8kD2riqYluVoPRHdCm7Xl1PoH4nfF2/8ABP7OOoeIPDNtNf3enCMusKcFCcM+wjOBweRx619FhqPtqKm9Tw60vZ1XHY+GU/bL8deKbuKy1vW7iMxj7TDDaRCMAZ4XjnPbn1r6GhhqE0ozVvQ8arVqxfNF/efTX7L37Slz8TfE1vYywXFvbxRvG098n71ZARhc4wMjJ9c152NwdOMlOldLz3O3DV5uDVT8Nj6z8b6RbfY4dUaBZQy7GlXllb39j7V8nmkXTjzR26nr4R8z5W9T84v2sJD4j+M2kacGMNrFAfPZegH3j+g71wYKXLQnLqenNe+jz7xN8abuBxZ2yiOwt4BHFaIcKoUgg4H0FddLLk1zPdmVTE2bRn+BP2idQutcZbyYpFLMEbzD688flV4rKIcicTGjjXJ2Z698Gf2hBDZ3dlqdwZI7eVmXed26PcT/ACrycTl841FOmdEK8ZRcZl3xylm+tzXVgR9iu1FzEo/hVhnFe1hpudNOW5i9HY9K0XVUtpt7rvQqyMoOOCMf1rzZxU04s9l36Hzj8XPAWuXXjBrDSNLu9Xlu8SWq2kZkZ/wHp79MVGClyv2Ut0aV7OPteh9F/AX9grxBF4Qvo/GOsR6DrevLH9ktrKMXEsChg+ZTkAcgZAJ6da+pp5c6rU5O3ZbnzNTMo07qCuei+Ev2DdI0rRxPpvijUptReSQG6nQBBIpwVMY6D8c813Sy5Wtc4Fj238JwHxKs9e+Dckdl4phhtxMfLtrxJt0cxxxgn7uffpXy2MwtfDy5ZLfqe1ha9KsrxZyOgzx6rqsK3L7opHyZgpJlA6hBkYXtkmuWjSipJTOmpN6uJ9Sy6zD4U8Bhf7NgFm8DbklUOxGPywc8g1+k4TlpQXKrI+KxN6s3zPU/Mz4paJbXniXVLqC2K+a+QoXGxARtjU9QBgYz0r0nVi1exyqk+52HwC8U3Gk67Zw3NxLOjSAMzN+9X0B9/c81wYmUqq953OqjGNO9kfqd4bFv4l+HUqMs0AeHHmOcE47j0NeFisOqlJq1jtp1XTqJ3Pyy8ceKj4l13xc+qyFLy3uG+zSuByEbaq8deO+e9fHU6fsqlOMdmfU35qbk9z558YzXkUrywQtufCse+AelfX4fla5ZHz9dSTvE5S7utRlmhnNq6LCPvIv5mu3lha19zibmnzHq/wAJdEufF99arbq0Anm8k4GDtx8x/KvGxk1SVup6mHjz+8z3vU5Fil8iMnybdRCgPZVGKwpx5YpHWnfU7Cy19So+avHaPbR6n4C8Sw6LBZPJP5NvdxTT3M69Y44yMg/gDx708MpSxKT2OHFfw2+vQ+nf2evinpXxd0mXX9PZZLa2klVHJzsUKBxX6Nh5qpofDYhOmji/2KviS/jm38e6fe3GJLTW5ZIIHPzBcncw9jwaunUVW9ugVIunY4f/AIKS61oF78N9TsTcQHVNN8m4liVxuVGyAcdiM/lXJj6LnT03R04Cqoz8nc+NPgz8ZvD1z4P00z6mllqlnCIZnuXCBcE/MCOa+dr4Zxnoj2Y1eZX6H0po37QHgiPwF/xMdSiu5yRFHF5pklkzzkfh36CvoMNVjCmufoeVWpSlN8p5VrHwt/4W2bb7JqEWmaVqdzJL9ht1zKUUEh5XPJPYL+ldUq0ay0ZzqDpv3jK0P9m3xV4VvRqFrOmqRWQXzrfUR5bLu5XDdcEA/lXO5TTutUbpRe+h6F4l/ax1rwP4Ik0nT7JIJ543tXmlmMphkK8Fcdh6npiuLEV1y2gtzppULyTkz4M1TxHdo9whunlaSTdL5h3AknP868unRTam1sepKrZcqKU2ppqSq5k2OB8y9Qa6rOOljm3Ktvqc9tMIo5MxdWVu4qmtLkq17H0h+zzdafbavBqDlYLWBWJlbARXxyCa+exbfMos9CFlB2On8TRouo3M0DI0EjF12sCQD/Su6lUjNWRltofTf/CgvhpdwhbK81OGZnBHkX6uyJnByGBB+vvXLPD31i2vuO1VKqfvW/E8o+JPwOiutHX+x/FmotHb+ejwyGIBImHzqxXG7jFc8eejJumrvZmrpqqvfOy+CGhar+zZ8MfEnhnSPEUk+p30bNDd3dujpaAgO4VAw+c7+C3Hy9K9qGa16FNtU1f8Dx6mVU601ebsX/2RvhXc/BnxTeeI9R8Z6jqB1SN2ubO4gRgGIJLAryDnjoR0rXA46rzKc4pLyuRisvha0G2YXxa/Zb0Dx1N4n1u/8eeKpn8QXbSXVpLskVGLfdT91wAFUAdhVVczxF20lYdPLaStFs81sP8Agnh8PLa6uYf+Eu8RshjRXIgRSQTzjMfQ8fka53jsRJ25V9zOlYGlFaN/eaF3+wb4Ctrwf2X4y8VQTwsQxkkidguM8KIfTPNZPHVv5Fb0ZosHB9X96J/DPwQ0/wAMax9ug+JfiW08i48pGmeFfMfHIBERwcdOMVMMfV1ail94TwVNJLVmprfgDSLmJzJ448WzDbtEU98WWRQDnlYF5GeuPypPG15DjhKUXscJZ/CvwBcJctd6jqOrxRKQPOu2AQ55BwoJ+h9KxnVrNa6GqoQvocfrfwI+Hk6zXMEl1bngbI5yQGzjoRkVvGvWirESoRb1ORufhH4KgVBHcTs4XLjzTnPfsOK09tVe5i6EEchdeBPD9lOJbaQMxGCruSfpnNVKvVaswjh6d7rcvWs+lafZi3jtYzb7yzQm5kCk9zw4z0rncakndy/Bf5Gns4LoW5fG8VuUaxgtrSSJdoYSSPx6YZ/0qYUGtW2S1Fn6GX2vxWsejLJOhWETxSI91iUEkjPyOc9B0z06V0ycbcsv6/E61CV3b8v+Acz4Y1Owk0WZGhik+1G48yVzJJghM4PyEYPIwefxFZOST11ZooSl6Ciezk1SVVjgVGiVzDOX+Vdgz83lDKkHC596nng00W4Si7mlpWo2LmGzdVW4S24iljkcEAZ4PksM5x7ZrOLW6LkpW12/rzJpPFOnw6RdwmC1uZEV2ktbiykZwSwy6qbbk45yDRJxa95Xv/XYIRlfR2/r1MufWLB72ZI7OJrSe0TINjPgFWGCQLUn8e3vVWhHV2/r5DtKXf8Ar/t4zoPEltIyNBpUbQqJITMmmzSMcDhji2BI6/h15rlc1KO39fcbKm4vV/195z2o6xA1+L+5s4mtFu40EQ0yZQ8ZBGR+7G4ZP54+tJNL3Xb+vkTJPRp/195zuq6nYxXyxzWe8s22F/sMofrwATHkZyOp6VorRjZf1+BLTT3/AK+85m51uBjeQizMUyKw4tHIADE+g69e/X2rXSydv6+4xs3ezOVe/juLNnks1TjLSLavkHsPQ8VrddDBx8zk7u8VJZGCcj+JbYg1rfSxi1d6nL31yFIIVlYnuv8A9lSRWnQy53URncyk9cnA4/76rRbkPYzjdRE5OACTnC//AGVbpGLdz9AtX16PW7qxhkfU8mRzIUe0iGd4HB3MQuOvOea4J62Sv/XzPYiuW70/F/oYml3k1g1lFZRzShdQu2EP9pWsjMTFjAzF0zk84J6jODRZrd3+4N/L7zRutUll129mgtbu4tJLMKkMN7bMIvkG4sDDlsYzkcjFVZNf8MTre3X5kGg+I4YGST7LfyWrhl2yX1thMjBGGiBGR9TWVle7vf1Rpq9Fb7mWovEem6dbRwPbXLWfzrDDNfWIaL97huqHtirbVSNpX09CYxcXdWV/KRjzeI7CK6JupZd628qGIXNgXZS/yAjy+mfT15qdGtvyNLS+y/8A0owX1q1S9jtle5E0AFxNb/abGOU8ZOMR89OmK4pxvK9tPkdMW7efzMLVfGVhe6R5QtNTjKaikistxAu2PDBiAkWB1GT+YOK1io30fTyMJxk/6ZTvNTt7/XVmEF0TJtzJJqSFMjgEbYRnjFKT0/4Ym3b9Tl5b+G4bVIZYcO6bh/pTk7N2Rx5QzgitktrmF7XsZZvwNOVGtpJW3kGZrlvXg/6rpWijZszcro53UbnyZ5GWBS2c5EjFvb+Ctd9DG+tzlr6Z3lz5BweOZH4P5VSViGym2ShUoBkEYJf/AArVdyWU2YKduBuA9W6VrYxbP//Z"},ZgBW:function(e,t){e.exports=[{name:"喵斯",description:"请问你还有小鱼干吗？一点点就好~",skill:"在喵斯的应援下，主角的 Fever 状态持续时间将延长 2 秒。",chipName:"小鱼干",chipDescription:"喵斯那家伙是不是又偷吃小鱼干了？"},{name:"安吉拉",description:"守护天使降临~",skill:"每当主角受伤时，安吉拉将为主角减免 6 点伤害。",chipName:"白色羽毛",chipDescription:"安吉拉大人最近压力好大呀。"},{name:"塔纳托斯",description:"只要跑的够快，死亡就追不上你。",skill:"每当主角受伤或获得红心时，塔纳托斯将使主角进入 2 秒的无敌时间。",chipName:"玩具骨头",chipDescription:"塑料做成的骨头，感觉一点也不可怕。"},{name:"Rabot-233",description:"我……这里……有……用……不完……的……胡……萝卜……",skill:"Rabot-233 可以将 3 个“Miss”判定转化为“Great”判定；\n对乐谱（长按）和连打敌人无效。",chipName:"合金胡萝卜",chipDescription:"这根凝聚了高科技力量的胡萝卜真是太棒了ww"},{name:"小护士",description:"这种情况应该是治不好了吧？",skill:"当主角的生命值不足 50 时，小护士将为主角每秒回复 10 点生命值，持续 15 秒；\n该治疗效果仅生效一次。",chipName:"小螺丝",chipDescription:"机器坏了可以修，人坏了要怎么办呢？"},{name:"小女巫",description:"对不起%>_<%我的魔法还学得不够深入。",skill:"每当主角在 Fever 状态下击退敌人，小女巫将帮助主角获得 20% 的额外分数。",chipName:"西瓜软糖",chipDescription:"用西瓜汁制作的西瓜软糖，唔~~可以以假乱真了。"},{name:"小龙女",description:"我有一条小青龙~~小青龙~~~",skill:"每当主角击退来自 BOSS 的攻击时，小龙女将帮助主角获得 30% 的额外分数。",chipName:"龙珠",chipDescription:"传说中集齐七颗就能召唤神龙了呢。"},{name:"莉莉丝",description:"我是来自地狱的莉莉丝大人呢~哦哈哈哈~~~~",skill:"每当取得“Perfect”判定时，莉莉丝将帮助主角获得 5% 的额外分数；\n若与小恶魔玛莉嘉同行，则每个“Perfect”判定将为玛莉嘉回复 2 点生命值。",chipName:"蝙蝠翅膀",chipDescription:"地狱的使者莉莉丝到处寻找的玩意。"}]},cVJz:function(e,t){},ca86:function(e,t){},d7vZ:function(e,t){},ehA6:function(e,t){},esba:function(e,t){},ftxR:function(e,t){},hSVD:function(e,t){},htOd:function(e,t){},i4kq:function(e,t){},l0qk:function(e,t){},lfYK:function(e,t){},m9dX:function(e,t){},nF1u:function(e,t){},nLMu:function(e,t){},"oR+B":function(e,t){},pwCq:function(e,t){},rIr3:function(e,t){},rdfR:function(e,t){e.exports=[{characterName:"凛",cosName:"贝斯手",description:"我的小宇宙仿佛要燃烧了，如果不是组乐队那就不用找我了。",skill:"贝斯手凛的生命值上限提升 50 点。",chipName:"OK绷",chipDescription:"嘶~一个绑带看起来不够用了",cv:"内田爱美",expressions:[["我在听！别瞎戳啦！","敢打扰本大人？你是想进医院吗？","我说，别摸个没完行不行！"],["嘿，节奏感不错嘛，要来组个乐队吗？","哈，你也喜欢摇滚吗？","规则就是用来打破的，你不觉得吗？"],["呼啊啊——还没准备好吗…","磨磨蹭蹭的，我都要睡着了…呼哇~~","好——闲——啊——一起运动一下吧！"],["我不是可被“攻略”的对象啦！","唔哇！别…别把我当笨蛋！","嗯…这个感觉…好奇怪啊…"]]},{characterName:"凛",cosName:"问题少女",description:"我这一棒子下去，你可能会嗝屁哦~",skill:"问题少女凛可以将 3 个“Great”判定转化为“Perfect”判定；\n对乐谱（长按）和连打敌人无效。",chipName:"棒球",chipDescription:"如果这个棒球是你的，我可不会还哦",cv:"内田爱美",expressions:[["你看起来挺强的嘛，找个机会我们来比试一下吧？","怎么，你是想要比试一下吗？","无论是单挑还是群殴，我可都没输过呢！"],["排行榜？当然要是第一啦！","看到本大人我威武的英姿了吗！~","所以说！能动手就别吵吵嘛！"],["你最好有所觉悟…","喂，别乱碰！你想挨揍吗？","我一棒下去，你可能会死哦…"],["等、等等！你在干什么！","别胡说！谁…谁害羞了啊！！","干、干什么呀突然！？"]]},{characterName:"凛",cosName:"梦游少女",description:"唉？我刚刚是不是又梦游了？……呼噜噜呼~~",skill:"梦游少女凛进入关卡后将自动战斗，全程不受玩家控制。",chipName:"白色枕头",chipDescription:"大姐姐的欧派抱起来好软啊~~~~啊呼呼呼呼",cv:"内田爱美",expressions:[["盲盲盲盲盲…","米饭君…这顿也请多多指教…嗝…","软呼呼…呼…的…布若… Zzzz"],["炒饭，寿司、咖喱…全，全是我的…","笨蛋布若别和我抢吃的呀…","已经吃不下啦…哈哈哈…"],["这个时候…不会很想…睡觉吗？我可是…Zzz","唔…我的大餐呢？…","现在…还不是…起床的时间呢…"],["嗯，Zzz…嗯，Zzz…嗯，Zzz…嗯哼哼，Zzz… ","不…不乱动的话，一起休息也是可以的啦…","啊嗯…感觉好像…有点热…"]]},{characterName:"凛",cosName:"兔女郎",description:"这个样子的我，你真的会喜欢吗……（捂脸）",skill:"兔女郎凛获得红心（满生命值时）、获得音符、击中幽灵与躲避障碍的得分增加 200%。",chipName:"黑色领结",chipDescription:"这个是戴在前面的还是后面的呢？",cv:"内田爱美",expressions:[["满、满足了吧，本大人都这样牺、牺牲了…","喂，可不要得寸进尺哦…","干嘛，我可是很忙的…"],["惩…惩罚到此为止了吧？","性感什么的不适合我吧?","脸红？！是因为今天有点热啦！！"],["你的手好烫…是生病了吗？","快点结束啦，让人看到就不好了…","我能换回原来的衣服了吗...？"],["这，这只是给你通关的奖励，不，不许想歪啦！！","等一下，现，现在是工作时间…","胡萝卜真的只是战、战斗用具啦！！"]]},{characterName:"布若",cosName:"小学生",description:"嘿！给我一块钱！我要去坐摇摇车！",skill:"当小学生布若开启 Fever 状态时，将同时进入无敌形态。",chipName:"纸飞机",chipDescription:"啊呀！刚刚那张纸好像是人家的成绩单",cv:"甘束舞音",expressions:[["唔，要是有甜甜圈的话，陪你玩一会也不是不行啦。","草莓蛋糕跟巧克力蛋糕，哪一个比较好呢…","听说老是摸头会长不高的啦…"],["布若正在执行重要任务呢！","甜食呀，当然是放在另一个胃里哒！","糖果大陆？布若超想去！"],["偷拍玛莉嘉的任务吗？交给我吧！","只有一份甜甜圈是没法收买 Buro 的哦~","猜猜我把玛莉嘉的本子放在哪里~"],["我...我当然也是有在好好长身体呀…","不能看我可爱就小瞧我呀！","我当然有穿裤子啦！！"]]},{characterName:"布若",cosName:"偶像",description:"Niko~niko~ni~~~",skill:"每当成功通过一个关卡，偶像布若所获得经验将增加 50%。",chipName:"能量电池",chipDescription:"这里面满满的都是爱的能量哦~",cv:"甘束舞音",expressions:[["这可是准备了很久的发型呀！再碰就乱掉啦…","突、突然干什么呀！就算是粉丝也不可以乱来啦…","夸奖就行了不要老摸头！"],["现在的我可是电力十足哟！~","让我们去攻占排行榜吧~","Kira~Kira~"],["同步率100%，准备出场！","握手跟合照倒是可以啦~","啦啦啦啦~"],["恩恩，是要签名么？那是合照？诶…诶？！","你在看哪里啦！你个变态萝莉控！","歪，妖妖零吗？这里有变态！"]]},{characterName:"布若",cosName:"僵尸少女",description:"叮铃铃~~~叮铃铃~~~天干物燥小心火烛。",skill:"当生命值耗尽时，僵尸少女布若将进入长达 15 秒的濒死状态；\n当濒死状态结束后，若布若没有获得红心，则不能再度进入濒死状态。",chipName:"巨凶符咒",chipDescription:"贴上就很凶呀",cv:"甘束舞音",expressions:[["变成僵尸后还会不会长高呀…","我可是僵尸呀，我才不怕黑！","幽灵？！你、你是小孩子吗？还信这种东西！"],["你想被布若咬上一口吗？","呜哇——吓到你了吗——","再摸我头的话，咬你哦！"],["你也想变成我的手下吗，把脖子凑过来呀~","啊？僵尸吃甜食不是常识吗？","我现在是僵尸，你们都得怕我！"],["对僵尸也有兴趣…你、你这个…","收、收服本僵尸可不是这样…收服的…","呜哇…我、我要咬你了哦！！"]]},{characterName:"布若",cosName:"华服小丑",description:"来来我给你看一个宝贝~（打开袋子）",skill:"当连击数达到 60/70 以上时，华服小丑布若将获得更高的额外连击分数加成。",chipName:"彩色皮球",chipDescription:"给你们三秒看能不能找到我藏的宝贝~",cv:"甘束舞音",expressions:[["诶嘿嘿嘿嘿~","来当我大变活人的志愿者吧！","今~天~要捉弄一下哪位观众好一点呢~"],["什么样的小丑，会更受欢迎呢？","恩？这样的衣服活动起来会方便一些呀！","老是摸我的话，就要做好被摸回来的准备哦！"],["边走钢丝边吃蛋糕，这种表演怎么样呢！","用甜甜圈替代门票怎么样！","我最擅长的就是把零食变不见啦！"],["就…就算是加油，这也有点…太、太热情啦！","你在想什么？这是表演用的衣服啦！","你说的那种表演…我…我不会啦…"]]},{characterName:"玛莉嘉",cosName:"提琴少女",description:"这一首是贝多芬的《d小调第九交响曲》哦~",skill:"当连击数低于 100 时，即使提琴少女玛莉嘉取得“Miss”判定也不会中断连击。",chipName:"玛莉嘉的日记本",chipDescription:"少女的日记本里面到底会写些什么呢？",cv:"赤司芳歌",expressions:[["有时间发呆的话，不如多看几本书。","你是想看书，还是想看腿？","啊啦，看来你是准备去死了，是吗？"],["布若没有添什么麻烦吧？","恩？要制订作战计划了吗？","你们经常说的本子是什么呀？也是书吗？"],["怎么，难道被我嘲讽两句你才开心吗？","好好玩游戏，别做白日梦。","没有音乐的话，生活会很无趣吧？"],["脸、脸…靠得太近了哦…","喂喂，你的手又开始不听指挥了呀…","喂，警察吗？又是那个人。"]]},{characterName:"玛莉嘉",cosName:"女仆",description:"那个…主人，还需要其它服务吗？",skill:"当生命值不足 100 时，女仆玛莉嘉获得红心时将拥有 2.5 倍的回复效果，并立刻进入 2 秒的无敌时间。",chipName:"咸鱼",chipDescription:"主人你行不行呀(ºOº)",cv:"赤司芳歌",expressions:[["我…我才没有在享受呢…","我…不太擅长应对这种情况…","调…调教？我不是很懂这个意思…"],["主人…也想被打包进垃圾袋吗？","差不多行了吧！…可…可以下班了吗？主人。","希望您能绅士一点…"],["所以说，女仆装什么的...是谁的馊主意…","主人，今天辛苦了…","是要先洗澡，还是先做饭呢...咦？都不是？"],["屏幕脏了可以舔干净呀…","浴室的水也放好了，才、才不是那个意思啦！","全…全都洗干净了…包…包括我自己…"]]},{characterName:"玛莉嘉",cosName:"魔法少女",description:"来不及解释了！快上扫把吧！",skill:"魔法少女玛莉嘉的 Fever 累积速率增加 20%。",chipName:"看不懂的魔法书",chipDescription:"书上写的都是啥呀？随心所欲不好吗~",cv:"赤司芳歌",expressions:[["我才不会喵喵叫呢？别想啦…","就算是魔法师，也不能为所欲为啊。","不要整天想学一些奇奇怪怪的魔法啦！"],["补魔是什么意思？你是在说休息吗？","你的兴趣...是不是有点奇怪…","诶？变成扫把有什么好的？"],["我的驾驶技术可是一流的哦~","恋爱的魔法？想要我教你吗~","把脸凑过来，姐姐给你加个 BUFF ~"],["知道啦知道啦！唔——————喵喵？","按摩也要适可而止！小心把你变成胖次哦！！","啊？！变、变成大人的黑魔法？"]]},{characterName:"玛莉嘉",cosName:"小恶魔",description:"嗯~灵魂的味道真是让人欲罢不能呢~",skill:"每当成功击退敌人，小恶魔玛莉嘉将获得 25% 的额外分数；\n作为代价，玛莉嘉将以 10 点每秒的速率流失生命值。",chipName:"干涸的眼球",chipDescription:"违背誓言的家伙所留下来的东西",cv:"赤司芳歌",expressions:[["特制的酒哦，要和我喝~一~杯~吗？呵呵呵♪","我的尾巴可不止是装饰而已哦…","灵魂奉献给我的话，什么愿望都能帮你实现哦~"],["恩？你想死一遍试试吗？","别以为我不知道你在想什么~","要知道把我惹火是什么下~场~哦"],["和姐姐做个交~易~怎么样？","做我的仆人，可是有好~处~的噢…","嗯哼，被我的魅力迷住了吗♪"],["止血贴？我什么都不知道哟~","杀必死？如果 Full Combo 的话就考虑给你…","偶尔听听你的愿望，也…不是不可以啦…"]]},{characterName:"玛莉嘉",cosName:"黑衣少女",description:"嗯~灵魂的味道真是让人欲罢不能呢~",skill:"黑女少女可以更加轻松地击退敌人和躲避障碍。",chipName:"能量抑制器",chipDescription:"摘除之后不知道会发生什么",cv:"赤司芳歌",expressions:[["呐，下等生物，再多给我找些乐子吧。","臣服于我的裙下吧，下等生物们。","哼哼，你以为它只是用来指挥乐队的么。"],["再瞎戳我可就把你关小黑屋了！","我的矫车被追尾了呢，今天就由你来成为我的坐骑如何？","喂，是想要被我踩在脚下吗？"],["真是不知悔改的下等动物，怎么着急去死吗？","你是想尝尝指挥棒的滋味吧。","喂喂，是谁应许你摸本大人的？"],["在我说可以之前，都要给我忍住哦。","摇摇尾巴的话，本大人就大发慈悲允许你舔一下靴子哦。","虽然是下等动物，不、不过很懂事嘛。"]]},{characterName:"凛",cosName:"圣诞礼物",description:"圣诞凛",skill:"当圣诞礼物凛成功通过一个关卡后，将获得最多 5% 的准确率加成。",chipName:"圣诞礼物",chipDescription:"没人知道里面装了什么。",cv:"内田爱美",expressions:[["这是特别准备的礼物哦，总之给、给本大人收下…","emmmmm，带子好难缠…","呜哇、凉嗖嗖的好冷呀…"],["诶？箱子？当然要一直提着呀？！","被吓到了么…那个…圣、圣诞快乐啦！","不不不不不不不不准说任何评价！！"],["本来是想躲盒子里吓唬人的…怎么跟想象的不太一样…","明明打扮成圣诞老人就好了呀…","你以为我是为了什么才打扮成这样子啊！"],["包装原来这么麻烦，收到圣诞礼物的话可要好好珍惜哦…","请签字…诶？为什么写这里？诶？！","这里只能塞一个人！！而且…总总总总总之不可以过来！"]]}]},tvR6:function(e,t){},uslO:function(e,t,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(e){return a(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="uslO"},x35b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")(null,r,!1,function(e){a("ca86")},null,null).exports,o=a("/ocq"),s=a("mtWM"),l=a.n(s),c=(a("T0qj"),this&&this.__assign||function(){return(c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)}),u=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o};localStorage.setItem("debug","axios");var d=u(["GET","POST","PUT","PATCH","DELETE"],5),p=d[0],f=d[1],m=(d[2],d[3]),h=d[4];l.a.interceptors.request.use(function(e){return _.token,e},function(e){return Promise.reject(e)}),l.a.interceptors.response.use(function(e){return 90001===e.data.code?(localStorage.removeItem("_authorization"),_r.replace({path:"/login",query:{redirect:_r.currentRoute.fullPath}}),e):e},function(e){if(e.response)switch(e.response.code){case 90001:localStorage.removeItem("_authorization"),_r.replace({path:"/login",query:{redirect:_r.currentRoute.fullPath}})}return Promise.reject(e.response.error)});var _=new(function(){return function(){var e=this;this.base="https://stg-prpr-muse-dash.peropero.net",this.token=null,this.user=null,this.setLogin=function(t){e.token=t.auth,e.user=t.profile,localStorage.setItem("_authorization",e.token),localStorage.setItem("_user_profile",JSON.stringify(e.user))},this.requestLogin=function(t){return l.a.post(e.base+"/user/login",t)},this.requestGetUserList=function(t){return l()({baseURL:e.base,url:"/musedash/admin/users/",method:p,params:t,headers:{Authorization:e.token}})},this.requestGetUserDetail=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/users/"+t,method:p,params:a,headers:{Authorization:e.token}})},this.requestCreateUser=function(t,a){return l()({baseURL:e.base,method:f,url:"/musedash/admin/users/",params:t,data:a,headers:{Authorization:e.token}})},this.requestChangeUser=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/users/"+a,method:m,data:n,headers:{Authorization:e.token}})},this.requestDeleteUser=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/users/"+a,method:h,headers:{Authorization:e.token}})},this.requestBanUser=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/users/"+a,method:m,headers:{Authorization:e.token},data:n,params:t})},this.requestSendGiftToUser=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/users/"+t+"?action=sendGift",params:c({},a,{action:"sendGift"}),method:f,data:n,headers:{Authorization:e.token}})},this.requestToggleUserPurchaseState=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/users/"+t+"?action=togglePurchaseValidation",params:c({},a,{action:"togglePurchaseValidation"}),method:f,data:n,headers:{Authorization:e.token}})},this.requestResetEnhancedSave=function(t,a){return l()({baseURL:e.base,url:"/musedash/v2/save",method:f,params:c({},a,{action:"delete"}),data:{uid:t},headers:{Authorization:e.token}})},this.requestGetTodayCash=function(t){return l()({baseURL:e.base,url:"/musedash/admin/cash/today-cash",method:p,params:t,headers:{Authorization:e.token}})},this.requestGetMonthCash=function(t){return l()({baseURL:e.base,url:"/musedash/admin/cash/month-cash",params:t,headers:{Authorization:e.token}})},this.requestGetTodaySale=function(t){return l()({baseURL:e.base,url:"/musedash/admin/sale/today-sale",method:p,params:t,headers:{Authorization:e.token}})},this.requestGetCustomSale=function(t){return l()({baseURL:e.base,url:"/musedash/admin/sale/custom/sale",method:p,params:t,headers:{Authorization:e.token}})},this.requestGetCustomCash=function(t){return l()({baseURL:e.base,url:"/musedash/admin/sale/custom/cash",method:p,params:t,headers:{Authorization:e.token}})},this.requestGetWeekSale=function(t){return l()({baseURL:e.base,url:"/musedash/admin/sale/week-sale",method:p,params:t,headers:{Authorization:e.token}})},this.requestGetMonthSale=function(t){return l()({baseURL:e.base,url:"/musedash/admin/sale/month-sale",params:t,headers:{Authorization:e.token}})},this.requestGetSaleReport=function(t){return l()({baseURL:e.base,url:"/musedash/admin/sale/sale-report",method:p,params:t,headers:{Authorization:e.token}})},this.requestGetLeaderboard=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/leaderboard/"+t,method:p,params:a,headers:{Authorization:e.token}})},this.requestRebuildLeaderboard=function(t,a){return l()({baseURL:e.base,url:"/musedash/v1/leaderboard/rebuild",method:f,params:t,data:a,headers:{Authorization:e.token}})},this.requestPostLeaderboard=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/leaderboard/"+t,params:a,data:n,headers:{Authorization:e.token},method:f})},this.requestDeleteLeaderboardByUser=function(t,a,n,r){return l()({baseURL:e.base,url:"/musedash/admin/leaderboard/"+t+"/"+a,params:n,data:r,headers:{Authorization:e.token},method:h})},this.requestDeletePCLeaderboardByUser=function(t,a,n,r){return l()({baseURL:e.base,url:"/musedash/admin/pcleaderboard/"+t+"/"+a,params:n,data:r,headers:{Authorization:e.token},method:h})},this.requestGetPCLeaderboard=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/pcleaderboard/"+t,method:p,params:a,headers:{Authorization:e.token}})},this.requestRebuildPCLeaderboard=function(t,a){return l()({baseURL:e.base,url:"/musedash/v1/pcleaderboard/rebuild",method:f,params:t,data:a,headers:{Authorization:e.token}})},this.requestPostPCLeaderboard=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/pcleaderboard/"+t,params:a,data:n,headers:{Authorization:e.token}})},this.requestGetEXHILeaderboard=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/exhileaderboard/"+t,method:p,params:a,headers:{Authorization:e.token}})},this.requestRebuildEXHILeaderboard=function(t,a){return l()({baseURL:e.base,url:"/musedash/v1/exhileaderboard/rebuild",method:f,params:t,data:a,headers:{Authorization:e.token}})},this.requestPostEXHILeaderboard=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/exhileaderboard/"+t,params:a,data:n,headers:{Authorization:e.token}})},this.requestGetPakcageList=function(t){return l()({baseURL:e.base,url:"/musedash/admin/package/price",params:t,method:p,headers:{Authorization:e.token}})},this.requestGetPackagePriceDetail=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/package/price/"+t,method:p,params:a,headers:{Authorization:e.token}})},this.requestPostPackagePrice=function(t,a){return l()({baseURL:e.base,method:f,data:a,params:t,url:"/musedash/admin/package/price",headers:{Authorization:e.token}})},this.requestPatchPackagePrice=function(t,a,n){return l()({baseURL:e.base,method:m,url:"/musedash/admin/package/price/"+a,headers:{Authorization:e.token},data:n,params:t})},this.requestGetRefreshAnnounceCache=function(t){return l()({baseURL:e.base,method:p,url:"/musedash/admin/announce/refresh/",headers:{Authorization:e.token},params:t})},this.requestGetAnnounceList=function(t){return l()({baseURL:e.base,method:p,url:"/musedash/admin/announce/",headers:{Authorization:e.token},params:t})},this.requestGetAnnounceDetail=function(t,a){return l()({baseURL:e.base,method:p,url:"/musedash/admin/announce/"+t,headers:{Authorization:e.token},params:a})},this.requestPostAnnounce=function(t,a){return l()({baseURL:e.base,method:f,params:t,data:a,url:"/musedash/admin/announce/",headers:{Authorization:e.token}})},this.requestPatchAnnounce=function(t,a,n){return l()({baseURL:e.base,method:m,url:"/musedash/admin/announce/"+a,headers:{Authorization:e.token},data:n,params:t})},this.requestPostAnnounceForSort=function(t,a,n){return l()({baseURL:e.base,method:f,data:n,params:t,url:"/musedash/admin/announce/"+a,headers:{Authorization:e.token}})},this.requestDeleteAnnounce=function(t,a){return l()({baseURL:e.base,params:t,url:"musedash/admin/announce/"+a,method:h,headers:{Authorization:e.token}})},this.requestPostAnnounceItem=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/announce/item/",method:f,data:a,params:t,headers:{Authorization:e.token}})},this.requestGetLanguageList=function(t){return l()({baseURL:e.base,url:"/musedash/admin/announce/language/",params:t,headers:{Authorization:e.token},method:p})},this.requestGetAnnounceItem=function(t,a){return l()({baseURL:e.base,method:p,headers:{Authorization:e.token},url:"/musedash/admin/announce/item/"+a,params:t})},this.requestPatchAnnounceItem=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/announce/item/"+a,method:m,headers:{Authorization:e.token},params:t,data:n})},this.requestGetRefreshPCAnnounceCache=function(t){return l()({baseURL:e.base,method:p,url:"/musedash/admin/announce/pc/refresh/",headers:{Authorization:e.token},params:t})},this.requestGetPCAnnounceList=function(t){return l()({baseURL:e.base,method:p,url:"/musedash/admin/announce/pc/",headers:{Authorization:e.token},params:t})},this.requestGetPCAnnounceDetail=function(t,a){return l()({baseURL:e.base,method:p,url:"/musedash/admin/announce/pc/"+t,headers:{Authorization:e.token},params:a})},this.requestPostPCAnnounce=function(t,a){return l()({baseURL:e.base,method:f,params:t,data:a,url:"/musedash/admin/announce/pc/",headers:{Authorization:e.token}})},this.requestPatchPCAnnounce=function(t,a,n){return l()({baseURL:e.base,method:m,url:"/musedash/admin/announce/pc/"+a,headers:{Authorization:e.token},data:n,params:t})},this.requestPostPCAnnounceForSort=function(t,a,n){return l()({baseURL:e.base,method:f,data:n,params:t,url:"/musedash/admin/announce/pc/"+a,headers:{Authorization:e.token}})},this.requestDeletePCAnnounce=function(t,a){return l()({baseURL:e.base,params:t,url:"musedash/admin/announce/pc/"+a,method:h,headers:{Authorization:e.token}})},this.requestPostPCAnnounceItem=function(t,a){return l()({baseURL:e.base,url:"/musedash/admin/announce/pc/item/",method:f,data:a,params:t,headers:{Authorization:e.token}})},this.requestGetPCLanguageList=function(t){return l()({baseURL:e.base,url:"/musedash/admin/announce/pc/language/",params:t,headers:{Authorization:e.token},method:p})},this.requestGetPCAnnounceItem=function(t,a){return l()({baseURL:e.base,method:p,headers:{Authorization:e.token},url:"/musedash/admin/announce/pc/item/"+a,params:t})},this.requestPatchPCAnnounceItem=function(t,a,n){return l()({baseURL:e.base,url:"/musedash/admin/announce/pc/item/"+a,method:m,headers:{Authorization:e.token},params:t,data:n})},this.requestGetAuth=function(t){return l()({baseURL:e.base,url:"/auth/",method:p,headers:{Authorization:e.token},params:t})},this.requestGetOrderList=function(t){return l()({baseURL:e.base,url:"/musedash/admin/order/list",params:t,method:p,headers:{Authorization:e.token}})},this.requestGetWeeklyList=function(t){return l()({baseURL:e.base,url:"/musedash/admin/weekly/list",params:t,method:p,headers:{Authorization:e.token}})},this.requestPostWeekly=function(t){return l()({baseURL:e.base,url:"/musedash/admin/weekly/",data:t,method:"POST",headers:{Authorization:e.token}})},localStorage.setItem("debug","axios"),this.token=localStorage.getItem("_authorization");try{this.user=JSON.parse(localStorage.getItem("_user_profile"))}catch(e){}}}()),v=function(){return function(){}}(),b=(function(){}(),function(){}(),function(){return function(){this.account={created_at:0,updated_at:0,Data:""},this.achievement={created_at:0,updated_at:0,Data:""},this.stage_achievement={created_at:0,updated_at:0,Data:""},this.task={created_at:0,updated_at:0,Data:""}}}()),y=function(){return function(){this.created_at=0,this.updated_at=0,this.Account="",this.Achievement="",this.StageAchievement="",this.Tasks=""}}(),g=function(){return function(){this.uid="",this.created_at=0,this.email="",this.nation_code="",this.phone_number="",this.role="",this.permission=[],this.xd_3rd_id="",this.txwy_3rd_id="",this.profile=new v,this.leaderboard=[],this.purchases=[],this.legacy_save=new b,this.save_v1=new y}}(),k=function(){return function(){this.object_id="",this.product_id="",this.price=0,this.modify_price=0,this.expired_time="",this.created_at=0}}(),w=function(){return function(){}}(),x=function(){return function(){this.announce_item=[]}}(),D=function(){return function(){}}(),C=function(){return function(){this.pc_announce_item=[]}}(),P=new n.default,j={data:function(){return{collapse:!1,fullscreen:!1,name:"[unknown]",message:2}},computed:{username:function(){var e=_.user.nickname;return e||this.name}},methods:{handleCommand:function(e){"loginout"==e&&(localStorage.removeItem("ms_username"),this.$router.push("/login"))},collapseChage:function(){this.collapse=!this.collapse,P.$emit("collapse",this.collapse)},handleFullScreen:function(){var e=document.documentElement;this.fullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),this.fullscreen=!this.fullscreen}},mounted:function(){document.body.clientWidth<1500&&this.collapseChage()}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"collapse-btn",on:{click:e.collapseChage}},[a("i",{staticClass:"el-icon-menu"})]),e._v(" "),a("div",{staticClass:"logo"},[e._v("后台管理系统")]),e._v(" "),a("div",{staticClass:"header-right"},[a("div",{staticClass:"header-user-con"},[a("div",{staticClass:"btn-fullscreen",on:{click:e.handleFullScreen}},[a("el-tooltip",{attrs:{effect:"dark",content:e.fullscreen?"取消全屏":"全屏",placement:"bottom"}},[a("i",{staticClass:"el-icon-rank"})])],1),e._v(" "),a("div",{staticClass:"btn-bell"},[a("el-tooltip",{attrs:{effect:"dark",content:e.message?"有"+e.message+"条未读消息":"消息中心",placement:"bottom"}},[a("router-link",{attrs:{to:"/tabs"}},[a("i",{staticClass:"el-icon-bell"})])],1),e._v(" "),e.message?a("span",{staticClass:"btn-bell-badge"}):e._e()],1),e._v(" "),e._m(0),e._v(" "),a("el-dropdown",{staticClass:"user-name",attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                    "+e._s(e.username)+" "),a("i",{staticClass:"el-icon-caret-bottom"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"loginout"}},[e._v("退出登录")])],1)],1)],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user-avator"},[t("img",{attrs:{src:"static/img/img.jpg"}})])}]};var O={data:function(){return{collapse:!1,items:[{icon:"el-icon-setting",index:"dashboard",title:"系统首页"},{icon:"el-icon-info",index:"play-statistics",title:"数据收集"},{icon:"el-icon-phone",index:"user-management",title:"账号管理"},{icon:"el-icon-sort",index:"leaderboard",title:"移动端排行榜"},{icon:"el-icon-sort",index:"pc-leaderboard",title:"PC Steam排行榜"},{icon:"el-icon-sort",index:"exhi-leaderboard",title:"展会排行榜(移动端)"},{icon:"el-icon-view",index:"anti-cheat",title:"反作弊"},{icon:"el-icon-bell",index:"music-package",title:"商品价格"},{icon:"el-icon-goods",index:"order",title:"订单详情"},{icon:"el-icon-setting",index:"weekly",title:"周免设置"},{icon:"el-icon-news",index:"announce-board",title:"移动端公告板"},{icon:"el-icon-news",index:"p-c-announce-board",title:"PC Steam的公告板"}]}},computed:{onRoutes:function(){return this.$route.path.replace("/","")}},created:function(){var e=this;P.$on("collapse",function(t){e.collapse=t})}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sidebar"},[a("el-menu",{staticClass:"sidebar-el-menu",attrs:{"default-active":e.onRoutes,collapse:e.collapse,"background-color":"#324157","text-color":"#bfcbd9","active-text-color":"#20a0ff","unique-opened":"",router:""}},[e._l(e.items,function(t){return[t.subs?[a("el-submenu",{key:t.index,attrs:{index:t.index}},[a("template",{slot:"title"},[a("i",{class:t.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),e._l(t.subs,function(t,n){return a("el-menu-item",{key:n,attrs:{index:t.index}},[e._v("\n                        "+e._s(t.title)+"\n                    ")])})],2)]:[a("el-menu-item",{key:t.index,attrs:{index:t.index}},[a("i",{class:t.icon}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])]]})],2)],1)},staticRenderFns:[]};var z={data:function(){return{tagsList:[]}},methods:{isActive:function(e){return e===this.$route.fullPath},closeTags:function(e){var t=this.tagsList.splice(e,1)[0],a=this.tagsList[e]?this.tagsList[e]:this.tagsList[e-1];a?t.path===this.$route.fullPath&&this.$router.push(a.path):this.$router.push("/")},closeAll:function(){this.tagsList=[],this.$router.push("/")},closeOther:function(){var e=this,t=this.tagsList.filter(function(t){return t.path===e.$route.fullPath});this.tagsList=t},setTags:function(e){!this.tagsList.some(function(t){return t.path===e.fullPath})&&this.tagsList.push({title:e.meta.title,path:e.fullPath,name:e.matched[1].components.default.name}),P.$emit("tags",this.tagsList)},handleTags:function(e){"other"===e?this.closeOther():this.closeAll()}},computed:{showTags:function(){return this.tagsList.length>0}},watch:{$route:function(e,t){this.setTags(e)}},created:function(){this.setTags(this.$route)}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showTags?a("div",{staticClass:"tags"},[a("ul",e._l(e.tagsList,function(t,n){return a("li",{key:n,staticClass:"tags-li",class:{active:e.isActive(t.path)}},[a("router-link",{staticClass:"tags-li-title",attrs:{to:t.path}},[e._v("\n                "+e._s(t.title)+"\n            ")]),e._v(" "),a("span",{staticClass:"tags-li-icon",on:{click:function(t){e.closeTags(n)}}},[a("i",{staticClass:"el-icon-close"})])],1)})),e._v(" "),a("div",{staticClass:"tags-close-box"},[a("el-dropdown",{on:{command:e.handleTags}},[a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("\n                标签选项"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown",size:"small"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"other"}},[e._v("关闭其他")]),e._v(" "),a("el-dropdown-item",{attrs:{command:"all"}},[e._v("关闭所有")])],1)],1)],1)]):e._e()},staticRenderFns:[]};var q={data:function(){return{tagsList:[],collapse:!1}},components:{vHead:a("VU/8")(j,A,!1,function(e){a("ftxR")},"data-v-0b02c1b8",null).exports,vSidebar:a("VU/8")(O,L,!1,function(e){a("x3zY")},"data-v-09ebde64",null).exports,vTags:a("VU/8")(z,R,!1,function(e){a("4P6j")},null,null).exports},created:function(){var e=this;P.$on("collapse",function(t){e.collapse=t}),P.$on("tags",function(t){for(var a=[],n=0,r=t.length;n<r;n++)t[n].name&&a.push(t[n].name);e.tagsList=a})}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wrapper"},[t("v-head"),this._v(" "),t("v-sidebar"),this._v(" "),t("div",{staticClass:"content-box",class:{"content-collapse":this.collapse}},[t("v-tags"),this._v(" "),t("div",{staticClass:"content"},[t("transition",{attrs:{name:"move",mode:"out-in"}},[t("keep-alive",{attrs:{include:this.tagsList}},[t("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]},S=a("VU/8")(q,U,!1,null,null,null).exports,T=a("c+8m"),I=a.n(T),F=[{name:"基础曲包",product:"unlock_base",playlist:[{uid:"0-0",name:"Iyaiya",author:"小野道ono",bpm:"128",music:"iyaiya_music",demo:"iyaiya_demo",cover:"iyaiya_cover",noteJson:"iyaiya_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"1",difficulty2:"4",difficulty3:"0",unlockLevel:"1"},{uid:"0-2",name:"Wonderful Pain",author:"Haloweak",bpm:"138",music:"wonderful_pain_music",demo:"wonderful_pain_demo",cover:"wonderful_pain_cover",noteJson:"wonderful_pain_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"1",difficulty2:"3",difficulty3:"0",unlockLevel:"1"},{uid:"0-3",name:"Breaking Dawn",author:"TetraCalyx",bpm:"140",music:"breaking_dawn_music",demo:"breaking_dawn_demo",cover:"breaking_dawn_cover",noteJson:"breaking_dawn_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"0",unlockLevel:"1"},{uid:"0-4",name:"单向地铁 Feat.karin",author:"小野道ono",bpm:"128",music:"danxiang_ditie_music",demo:"danxiang_ditie_demo",cover:"danxiang_ditie_cover",noteJson:"danxiang_ditie_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"1",difficulty2:"4",difficulty3:"0",unlockLevel:"1"},{uid:"0-1",name:"Frost Land",author:"Zris",bpm:"111",music:"frost_land_music",demo:"frost_land_demo",cover:"frost_land_cover",noteJson:"frost_land_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"1",difficulty2:"3",difficulty3:"6",unlockLevel:"2"},{uid:"0-5",name:"Heart-Pounding Flight",author:"TetraCalyx",bpm:"158",music:"heart_pounding_flight_music",demo:"heart_pounding_flight_demo",cover:"heart_pounding_flight_cover",noteJson:"heart_pounding_flight_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"0",unlockLevel:"3"},{uid:"0-29",name:"Pancake is Love",author:"3R2",bpm:"155",music:"pancake_is_love_music",demo:"pancake_is_love_demo",cover:"pancake_is_love_cover",noteJson:"pancake_is_love_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"6",unlockLevel:"4"},{uid:"0-6",name:"时光涂鸦",author:"TetraCalyx",bpm:"158",music:"shiguang_tuya_music",demo:"shiguang_tuya_demo",cover:"shiguang_tuya_cover",noteJson:"shiguang_tuya_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"0",unlockLevel:"5"},{uid:"0-37",name:"Evolution",author:"Haloweak",bpm:"130",music:"evolution_music",demo:"evolution_demo",cover:"evolution_cover",noteJson:"evolution_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"7",unlockLevel:"6"},{uid:"0-7",name:"海豚与广播 feat.乌拉喵",author:"小野道ono",bpm:"128",music:"haitun_yu_guangbo_music",demo:"haitun_yu_guangbo_demo",cover:"haitun_yu_guangbo_cover",noteJson:"haitun_yu_guangbo_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"0",unlockLevel:"7"},{uid:"0-8",name:"雪の雫・雨の音",author:"天游 feat.东京塔子",bpm:"130",music:"yuki_no_shizuku_ame_no_oto_music",demo:"yuki_no_shizuku_ame_no_oto_demo",cover:"yuki_no_shizuku_ame_no_oto_cover",noteJson:"yuki_no_shizuku_ame_no_oto_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"6",unlockLevel:"8"},{uid:"0-31",name:"糖果色恋爱学",author:"ANK feat.熊子",bpm:"150",music:"tangguose_lianaixue_music",demo:"tangguose_lianaixue_demo",cover:"tangguose_lianaixue_cover",noteJson:"tangguose_lianaixue_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"6",unlockLevel:"9"},{uid:"0-38",name:"Night Wander (cnsouka Remix)",author:"cnsouka",bpm:"132",music:"night_wander_cnsouka_remix_music",demo:"night_wander_cnsouka_remix_demo",cover:"night_wander_cnsouka_remix_cover",noteJson:"night_wander_cnsouka_remix_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"10"},{uid:"0-9",name:"Spring Carnival",author:"3R2",bpm:"180",music:"spring_carnival_music",demo:"spring_carnival_demo",cover:"spring_carnival_cover",noteJson:"spring_carnival_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"7",unlockLevel:"11"},{uid:"0-30",name:"DISCO NIGHT",author:"ANK feat.熊子",bpm:"120",music:"disco_night_music",demo:"disco_night_demo",cover:"disco_night_cover",noteJson:"disco_night_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"7",unlockLevel:"12"},{uid:"0-10",name:"恋爱语音导航 feat.yousa",author:"小野道ono",bpm:"130",music:"lianai_yuyin_daohang_music",demo:"lianai_yuyin_daohang_demo",cover:"lianai_yuyin_daohang_cover",noteJson:"lianai_yuyin_daohang_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"13"},{uid:"0-11",name:"Lights of Muse",author:"Ayatsugu_Otowa",bpm:"180",music:"lights_of_muse_music",demo:"lights_of_muse_demo",cover:"lights_of_muse_cover",noteJson:"lights_of_muse_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"14"},{uid:"0-12",name:"midstream jam",author:"MusMus",bpm:"121",music:"midstream_jam_music",demo:"midstream_jam_demo",cover:"midstream_jam_cover",noteJson:"midstream_jam_map",scene:"scene_04",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"15"},{uid:"0-40",name:"你好",author:"MusikM",bpm:"140",music:"nihao_music",demo:"nihao_demo",cover:"nihao_cover",noteJson:"nihao_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"16"},{uid:"0-13",name:"Confession",author:"Haloweak & G.K",bpm:"175",music:"confession_music",demo:"confession_demo",cover:"confession_cover",noteJson:"confession_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"8",unlockLevel:"17"},{uid:"0-32",name:"Galaxy Striker",author:"M2U",bpm:"170",music:"galaxy_striker_music",demo:"galaxy_striker_demo",cover:"galaxy_striker_cover",noteJson:"galaxy_striker_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"18"},{uid:"0-14",name:"Departure Road",author:"daisan",bpm:"160",music:"departure_road_music",demo:"departure_road_demo",cover:"departure_road_cover",noteJson:"departure_road_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"19"},{uid:"0-15",name:"Bass Telekinesis",author:"Haloweak",bpm:"110",music:"bass_telekinesis_music",demo:"bass_telekinesis_demo",cover:"bass_telekinesis_cover",noteJson:"bass_telekinesis_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"20"},{uid:"0-16",name:"アルメリアの鳥籠",author:"a_hisa",bpm:"150",music:"armeria_no_torikago_music",demo:"armeria_no_torikago_demo",cover:"armeria_no_torikago_cover",noteJson:"armeria_no_torikago_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"21"},{uid:"0-17",name:"Ira",author:"Lactic Acid Bacteria",bpm:"145",music:"ira_music",demo:"ira_demo",cover:"ira_cover",noteJson:"ira_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"22"},{uid:"0-18",name:"Blackest Luxury Car",author:"Chicala Lpis",bpm:"178",music:"blackest_luxury_car_music",demo:"blackest_luxury_car_demo",cover:"blackest_luxury_car_cover",noteJson:"blackest_luxury_car_map",scene:"scene_04",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"8",unlockLevel:"23"},{uid:"0-19",name:"Medicine of Sing",author:"JurokuNeta.",bpm:"190",music:"medicine_of_sing_music",demo:"medicine_of_sing_demo",cover:"medicine_of_sing_cover",noteJson:"medicine_of_sing_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"9",unlockLevel:"24"},{uid:"0-20",name:"irregulyze",author:"daisan",bpm:"135",music:"irregulyze_music",demo:"irregulyze_demo",cover:"irregulyze_cover",noteJson:"irregulyze_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"8",unlockLevel:"25"},{uid:"0-21",name:"Imaginary World",author:"uma",bpm:"180",music:"imaginary_world_music",demo:"imaginary_world_demo",cover:"imaginary_world_cover",noteJson:"imaginary_world_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"26"},{uid:"0-22",name:"Dysthymia",author:"a_hisa",bpm:"190",music:"dysthymia_music",demo:"dysthymia_demo",cover:"dysthymia_cover",noteJson:"dysthymia_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"9",unlockLevel:"28"},{uid:"0-33",name:"僞顏",author:"天游",bpm:"180",music:"nisegao_music",demo:"nisegao_demo",cover:"nisegao_cover",noteJson:"nisegao_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"9",unlockLevel:"32"},{uid:"0-34",name:"流星车手",author:"iKz feat.漆柚",bpm:"160",music:"star_driver_music",demo:"star_driver_demo",cover:"star_driver_cover",noteJson:"star_driver_map",scene:"scene_01",levelDesigner:"CattLelya",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"34"},{uid:"0-23",name:"Formation",author:"SLT",bpm:"180",music:"formation_music",demo:"formation_demo",cover:"formation_cover",noteJson:"formation_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"36"},{uid:"0-24",name:"心層麻酔",author:"iKz",bpm:"168",music:"shinsou_masui_music",demo:"shinsou_masui_demo",cover:"shinsou_masui_cover",noteJson:"shinsou_masui_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"10",unlockLevel:"38"},{uid:"0-25",name:"Latitude",author:"SLT",bpm:"180",music:"latitude_music",demo:"latitude_demo",cover:"latitude_cover",noteJson:"latitude_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"8",unlockLevel:"40"},{uid:"0-39",name:"Aqua Stars",author:"Sound Souler",bpm:"192",music:"aqua_stars_music",demo:"aqua_stars_demo",cover:"aqua_stars_cover",noteJson:"aqua_stars_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"42"},{uid:"0-26",name:"粉骨砕身カジノゥ",author:"モリモリあつし",bpm:"132~198",music:"funkotsu_saishin_casino_music",demo:"funkotsu_saishin_casino_demo",cover:"funkotsu_saishin_casino_cover",noteJson:"funkotsu_saishin_casino_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"44"},{uid:"0-27",name:"時計の部屋と精神世界",author:"a_hisa",bpm:"180",music:"tokei_no_heya_to_seishin_sekai_music",demo:"tokei_no_heya_to_seishin_sekai_demo",cover:"tokei_no_heya_to_seishin_sekai_cover",noteJson:"tokei_no_heya_to_seishin_sekai_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"46"},{uid:"0-35",name:"徒 花",author:"Aya~亜夜罪~",bpm:"125",music:"tu_hua_music",demo:"tu_hua_demo",cover:"tu_hua_cover",noteJson:"tu_hua_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"48"},{uid:"0-28",name:"無人区-Vacuum Track#ADD8E6-",author:"NoKANY",bpm:"203",music:"mujinku_vacuum_track_add8e6_music",demo:"mujinku_vacuum_track_add8e6_demo",cover:"mujinku_vacuum_track_add8e6_cover",noteJson:"mujinku_vacuum_track_add8e6_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"11",unlockLevel:"50"},{uid:"0-36",name:"Milk",author:"モリモリあつし",bpm:"150",music:"milk_music",demo:"milk_demo",cover:"milk_cover",noteJson:"milk_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"0",difficulty2:"7",difficulty3:"0",unlockLevel:"55"},{uid:"0-41",name:"umpopoff",author:"まめこ",bpm:"123~177",music:"umpopoff_music",demo:"umpopoff_demo",cover:"umpopoff_cover",noteJson:"umpopoff_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"0",difficulty2:"1",difficulty3:"0",unlockLevel:"60"}]},{name:"曲包1 - 可爱即正义 Vol.1",product:"music_package_1",playlist:[{uid:"1-0",name:"八月雨后，初晴与彩虹",author:"yk!",bpm:"172",music:"sunshine_and_rainbow_after_august_rain_music",demo:"sunshine_and_rainbow_after_august_rain_demo",cover:"sunshine_and_rainbow_after_august_rain_cover",noteJson:"sunshine_and_rainbow_after_august_rain_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"1-1",name:"魔法数字",author:"味素",bpm:"135",music:"magical_number_music",demo:"magical_number_demo",cover:"magical_number_cover",noteJson:"magical_number_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"1-2",name:"Dreaming Girl",author:"Nano&板烧鹅尼子",bpm:"167",music:"dreaming_girl_music",demo:"dreaming_girl_demo",cover:"dreaming_girl_cover",noteJson:"dreaming_girl_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"6",unlockLevel:"0"},{uid:"1-3",name:"Daruma-san Fell Over",author:"Ncha-P",bpm:"195",music:"daruma_san_fell_over_music",demo:"daruma_san_fell_over_demo",cover:"daruma_san_fell_over_cover",noteJson:"daruma_san_fell_over_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"4",difficulty3:"6",unlockLevel:"0"},{uid:"1-4",name:"Different",author:"Ncha-P",bpm:"109",music:"different_music",demo:"different_demo",cover:"different_cover",noteJson:"different_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"1",difficulty2:"3",difficulty3:"6",unlockLevel:"0"},{uid:"1-5",name:"The Future of the Phantom",author:"Ncha-P",bpm:"104",music:"the_future_of_the_phantom_music",demo:"the_future_of_the_phantom_demo",cover:"the_future_of_the_phantom_cover",noteJson:"the_future_of_the_phantom_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"1",difficulty2:"3",difficulty3:"5",unlockLevel:"0"}]},{name:"曲包2 - 放弃治疗 Vol.1",product:"music_package_2",playlist:[{uid:"2-0",name:"Oriens",author:"ginkiha",bpm:"140~185",music:"oriens_music",demo:"oriens_demo",cover:"oriens_cover",noteJson:"oriens_map",scene:"scene_06",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"2-1",name:"PUPA",author:"モリモリあつし",bpm:"202",music:"pupa_music",demo:"pupa_demo",cover:"pupa_cover",noteJson:"pupa_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"6",difficulty2:"8",difficulty3:"11",unlockLevel:"0"},{uid:"2-2",name:"Luna Express 2032",author:"Sakamiya feat.小宮真央",bpm:"100~155",music:"luna_express_2032_music",demo:"luna_express_2032_demo",cover:"luna_express_2032_cover",noteJson:"luna_express_2032_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"2-3",name:"浮世絵横丁",author:"魔界都市ニイガタ",bpm:"192",music:"ukiyoe_yokochou_music",demo:"ukiyoe_yokochou_demo",cover:"ukiyoe_yokochou_cover",noteJson:"ukiyoe_yokochou_map",scene:"scene_04",levelDesigner:"Howard_Y",difficulty1:"6",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"2-4",name:"Alice in Misanthrope -厭世アリス-",author:"LeaF",bpm:"154~174",music:"alice_in_misanthrope_music",demo:"alice_in_misanthrope_demo",cover:"alice_in_misanthrope_cover",noteJson:"alice_in_misanthrope_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"2-5",name:"GOODMEN",author:"EBIMAYO",bpm:"175",music:"goodmen_music",demo:"goodmen_demo",cover:"goodmen_cover",noteJson:"goodmen_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"}]},{name:"曲包3 - 肥宅快乐包 Vol.1",product:"music_package_3",playlist:[{uid:"3-0",name:"Maharajah",author:"アリスシャッハと魔法の楽団",bpm:"120",music:"maharajah_music",demo:"maharajah_demo",cover:"maharajah_cover",noteJson:"maharajah_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"1",difficulty2:"3",difficulty3:"6",unlockLevel:"0"},{uid:"3-1",name:"keep on running",author:"uma",bpm:"175",music:"keep_on_running_music",demo:"keep_on_running_demo",cover:"keep_on_running_cover",noteJson:"keep_on_running_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"3-2",name:"Käfig",author:"Chicala Lpis",bpm:"66~141",music:"kafig_music",demo:"kafig_demo",cover:"kafig_cover",noteJson:"kafig_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"3-3",name:"-+",author:"daisan",bpm:"185",music:"minus_plus_music",demo:"minus_plus_demo",cover:"minus_plus_cover",noteJson:"minus_plus_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"3-4",name:"天理鶴情",author:"a_hisa",bpm:"150",music:"tenri_kaku_jou_music",demo:"tenri_kaku_jou_demo",cover:"tenri_kaku_jou_cover",noteJson:"tenri_kaku_jou_map",scene:"scene_06",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"3-5",name:"Adjudicatorz-断罪-",author:"JurokuNeta.",bpm:"191",music:"adjudicatorz_danzai_music",demo:"adjudicatorz_danzai_demo",cover:"adjudicatorz_danzai_cover",noteJson:"adjudicatorz_danzai_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"7",difficulty3:"10",unlockLevel:"0"}]},{name:"曲包4 - 肥宅快乐包 Vol.2",product:"music_package_4",playlist:[{uid:"4-0",name:"MUSEDASH!!!!",author:"暖@よみぃ",bpm:"145",music:"musedash_music",demo:"musedash_demo",cover:"musedash_cover",noteJson:"musedash_map",scene:"scene_05",levelDesigner:"nikkukun",difficulty1:"2",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"4-1",name:"Imprinting",author:"Sakuzyo",bpm:"175",music:"imprinting_music",demo:"imprinting_demo",cover:"imprinting_cover",noteJson:"imprinting_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"4-2",name:"Skyward",author:"SLT",bpm:"190",music:"skyward_music",demo:"skyward_demo",cover:"skyward_cover",noteJson:"skyward_map",scene:"scene_01",levelDesigner:"GearMaster_PH",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"4-3",name:"La nuit de vif",author:"Polymath9",bpm:"195",music:"la_nuit_de_vif_music",demo:"la_nuit_de_vif_demo",cover:"la_nuit_de_vif_cover",noteJson:"la_nuit_de_vif_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"4-4",name:"Bit-alize",author:"Yamajet",bpm:"192",music:"bit_alize_music",demo:"bit_alize_demo",cover:"bit_alize_cover",noteJson:"bit_alize_map",scene:"scene_05",levelDesigner:"Amami.A.Myamsar",difficulty1:"3",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"4-5",name:"GOODTEK(Hyper Edit)",author:"EBIMAYO",bpm:"190",music:"goodtek_music",demo:"goodtek_demo",cover:"goodtek_cover",noteJson:"goodtek_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"0"}]},{name:"曲包5 - 肥宅快乐包 Vol.3",product:"music_package_5",playlist:[{uid:"5-0",name:"Thirty Million Persona",author:"アリスシャッハと魔法の楽団",bpm:"160",music:"thirty_million_persona_music",demo:"thirty_million_persona_demo",cover:"thirty_million_persona_cover",noteJson:"thirty_million_persona_map",scene:"scene_05",levelDesigner:"Zpm",difficulty1:"2",difficulty2:"4",difficulty3:"6",unlockLevel:"0"},{uid:"5-1",name:"conflict",author:"siromaru + cranky",bpm:"160",music:"conflict_music",demo:"conflict_demo",cover:"conflict_cover",noteJson:"conflict_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"5-2",name:"演華舞踊 ~Enka Dance Music~",author:"uma with モリモリあつし feat.ましろ",bpm:"110",music:"enka_dance_music_music",demo:"enka_dance_music_demo",cover:"enka_dance_music_cover",noteJson:"enka_dance_music_map",scene:"scene_06",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"0"},{uid:"5-3",name:"XING",author:"ginkiha",bpm:"177",music:"xing_music",demo:"xing_demo",cover:"xing_cover",noteJson:"xing_map",scene:"scene_06",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"5-4",name:"天翔ける蒼穹のセレナーデ",author:"Sakamiya feat.あらたきき",bpm:"165",music:"amakakeru_soukyuu_no_serenade_music",demo:"amakakeru_soukyuu_no_serenade_demo",cover:"amakakeru_soukyuu_no_serenade_cover",noteJson:"amakakeru_soukyuu_no_serenade_map",scene:"scene_01",levelDesigner:"LuiCat",difficulty1:"3",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"5-5",name:"Gift box",author:"K.key",bpm:"185",music:"gift_box_music",demo:"gift_box_demo",cover:"gift_box_cover",noteJson:"gift_box_map",scene:"scene_05",levelDesigner:"èlazao.B",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"}]},{name:"曲包6 - 经费在燃烧",product:"music_package_6",playlist:[{uid:"6-0",name:"Out of Sense",author:"Sound Souler",bpm:"158",music:"out_of_sense_music",demo:"out_of_sense_demo",cover:"out_of_sense_cover",noteJson:"out_of_sense_map",scene:"scene_03",levelDesigner:"CattLelya",difficulty1:"3",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"6-1",name:"My Life Is For You",author:"HyuN feat.Yu-A",bpm:"175",music:"my_life_is_for_you_music",demo:"my_life_is_for_you_demo",cover:"my_life_is_for_you_cover",noteJson:"my_life_is_for_you_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"7",unlockLevel:"0"},{uid:"6-2",name:"Etude -Sunset-",author:"Polymath9",bpm:"159",music:"etude_sunset_music",demo:"etude_sunset_demo",cover:"etude_sunset_cover",noteJson:"etude_sunset_map",scene:"scene_04",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"6-3",name:"翘班",author:"KillerBlood",bpm:"166",music:"goodbye_boss_music",demo:"goodbye_boss_demo",cover:"goodbye_boss_cover",noteJson:"goodbye_boss_map",scene:"scene_04",levelDesigner:"money钱",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"6-4",name:"Stargazer",author:"a_hisa",bpm:"150",music:"stargazer_music",demo:"stargazer_demo",cover:"stargazer_cover",noteJson:"stargazer_map",scene:"scene_01",levelDesigner:"Phizer",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"6-5",name:"Lys Tourbillon",author:"Chicala Lpis",bpm:"160",music:"lys_tourbillon_music",demo:"lys_tourbillon_demo",cover:"lys_tourbillon_cover",noteJson:"lys_tourbillon_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"}]},{name:"曲包7 - 放弃治疗 Vol.2",product:"music_package_7",playlist:[{uid:"7-0",name:"Brave My Soul",author:"uma feat.ましろ",bpm:"164",music:"brave_my_soul_music",demo:"brave_my_soul_demo",cover:"brave_my_soul_cover",noteJson:"brave_my_soul_map",scene:"scene_03",levelDesigner:"nikkukun",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"7-1",name:"Halcyon",author:"xi",bpm:"95.5",music:"halcyon_music",demo:"halcyon_demo",cover:"halcyon_cover",noteJson:"halcyon_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"7-2",name:"Crimson Nightingle",author:"VeetaCrush",bpm:"192",music:"crimson_nightingale_music",demo:"crimson_nightingale_demo",cover:"crimson_nightingale_cover",noteJson:"crimson_nightingale_map",scene:"scene_01",levelDesigner:"Samplex",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"7-3",name:"Invader",author:"SLT",bpm:"180",music:"invader_music",demo:"invader_demo",cover:"invader_cover",noteJson:"invader_map",scene:"scene_01",levelDesigner:"HXJ_ConveX",difficulty1:"3",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"7-4",name:"Lyrith -迷宮リリス-",author:"ユメミド",bpm:"177",music:"lyrith_music",demo:"lyrith_demo",cover:"lyrith_cover",noteJson:"lyrith_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"7-5",name:"GOODBOUNCE (Groove Edit)",author:"EBIMAYO",bpm:"180",music:"goodbounce_music",demo:"goodbounce_demo",cover:"goodbounce_cover",noteJson:"goodbounce_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"0"}]},{name:"曲包8 - 放弃治疗 Vol.3",product:"music_package_8",playlist:[{uid:"8-0",name:"Altale",author:"削除",bpm:"90",music:"altale_music",demo:"altale_demo",cover:"altale_cover",noteJson:"altale_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"0"},{uid:"8-1",name:"Brain Power",author:"NOMA",bpm:"170",music:"brain_power_music",demo:"brain_power_demo",cover:"brain_power_cover",noteJson:"brain_power_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"8-2",name:"Berry Go!!",author:"Freezer feat.妃苺",bpm:"175",music:"berry_go_music",demo:"berry_go_demo",cover:"berry_go_cover",noteJson:"berry_go_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"8-3",name:"Sweet* Witch* Girl* ",author:"モリモリあつし vs. uma",bpm:"180",music:"sweet_witch_girl_music",demo:"sweet_witch_girl_demo",cover:"sweet_witch_girl_cover",noteJson:"sweet_witch_girl_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"6",difficulty2:"8",difficulty3:"10",unlockLevel:"0"},{uid:"8-4",name:"trippers feeling! ",author:"KAH",bpm:"200",music:"trippers_feeling_music",demo:"trippers_feeling_demo",cover:"trippers_feeling_cover",noteJson:"trippers_feeling_map",scene:"scene_05",levelDesigner:"Phizer",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"8-5",name:"Lilith ambivalence lovers",author:"ikaruga_nex",bpm:"155.6",music:"lilith_ambivalence_lovers_music",demo:"lilith_ambivalence_lovers_demo",cover:"lilith_ambivalence_lovers_cover",noteJson:"lilith_ambivalence_lovers_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"8",difficulty3:"10",unlockLevel:"0"}]},{name:"曲包9 - 肥宅快乐包 Vol.4",product:"music_package_9",playlist:[{uid:"9-0",name:"Leave it Alone",author:"a_hisa",bpm:"128",music:"leave_it_alone_music",demo:"leave_it_alone_demo",cover:"leave_it_alone_cover",noteJson:"leave_it_alone_map",scene:"scene_05",levelDesigner:"snowsurvivor",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"9-1",name:"翼の折れた天使たちのレクイエム",author:"Sakamiya feat.前野",bpm:"184",music:"tsubasa_no_oreta_tenshitachi_no_requiem_music",demo:"tsubasa_no_oreta_tenshitachi_no_requiem_demo",cover:"tsubasa_no_oreta_tenshitachi_no_requiem_cover",noteJson:"tsubasa_no_oreta_tenshitachi_no_requiem_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"9-2",name:"Chronomia",author:"Lime",bpm:"227",music:"chronomia_music",demo:"chronomia_demo",cover:"chronomia_cover",noteJson:"chronomia_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"9-3",name:"Dandelion's Daydream",author:"VeetaCrush",bpm:"200",music:"dandelions_daydream_music",demo:"dandelions_daydream_demo",cover:"dandelions_daydream_cover",noteJson:"dandelions_daydream_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"8",unlockLevel:"0"},{uid:"9-4",name:"ロリキート ~Flat design~",author:"黄泉路テヂーモ",bpm:"182",music:"lorikeet_flat_design_music",demo:"lorikeet_flat_design_demo",cover:"lorikeet_flat_design_cover",noteJson:"lorikeet_flat_design_map",scene:"scene_04",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"9-5",name:"GOODRAGE",author:"EBIMAYO",bpm:"222",music:"goodrage_music",demo:"goodrage_demo",cover:"goodrage_cover",noteJson:"goodrage_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"6",difficulty2:"8",difficulty3:"11",unlockLevel:"0"}]},{name:"曲包10 - 放弃治疗 Vol.4",product:"music_package_10",playlist:[{uid:"10-0",name:"Destr0yer",author:"削除 feat.Nikki Simmons",bpm:"90",music:"destr0yer_music",demo:"destr0yer_demo",cover:"destr0yer_cover",noteJson:"destr0yer_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"10-1",name:"Noël",author:"モリモリあつし vs. uma",bpm:"220",music:"noel_music",demo:"noel_demo",cover:"noel_cover",noteJson:"noel_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"8",difficulty3:"10",unlockLevel:"0"},{uid:"10-2",name:"狂喜蘭舞",author:"LeaF",bpm:"230",music:"kyouki_ranbu_music",demo:"kyouki_ranbu_demo",cover:"kyouki_ranbu_cover",noteJson:"kyouki_ranbu_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"7",difficulty2:"9",difficulty3:"11",unlockLevel:"0"},{uid:"10-3",name:"Two Phace",author:"litmus* vs Sound Souler",bpm:"158",music:"two_phace_music",demo:"two_phace_demo",cover:"two_phace_cover",noteJson:"two_phace_map",scene:"scene_01",levelDesigner:"Catcats",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"10-4",name:"Fly Again",author:"HyuN & Ritoru",bpm:"180",music:"fly_again_music",demo:"fly_again_demo",cover:"fly_again_cover",noteJson:"fly_again_map",scene:"scene_05",levelDesigner:"Amami.A.Myamsar",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"10-5",name:"ouroVoros",author:"Negentropy",bpm:"185",music:"ourovoros_music",demo:"ourovoros_demo",cover:"ourovoros_cover",noteJson:"ourovoros_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"7",difficulty2:"9",difficulty3:"11",unlockLevel:"0"}]},{name:"曲包11 - 肥宅快乐包 Vol.5",product:"music_package_11",playlist:[{uid:"11-0",name:"Brave My Heart",author:"uma feat.ましろ",bpm:"165",music:"brave_my_heart_music",demo:"brave_my_heart_demo",cover:"brave_my_heart_cover",noteJson:"brave_my_heart_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"0"},{uid:"11-1",name:"Sakura Fubuki",author:"Street",bpm:"175",music:"sakura_fubuki_music",demo:"sakura_fubuki_demo",cover:"sakura_fubuki_cover",noteJson:"sakura_fubuki_map",scene:"scene_06",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"11-2",name:"8bit Adventurer",author:"Lime",bpm:"197",music:"8bit_adventurer_music",demo:"8bit_adventurer_demo",cover:"8bit_adventurer_cover",noteJson:"8bit_adventurer_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"6",difficulty2:"8",difficulty3:"10",unlockLevel:"0"},{uid:"11-3",name:"Suffering of screw",author:"Sakamiya feat.由地波瑠",bpm:"145",music:"suffering_of_screw_music",demo:"suffering_of_screw_demo",cover:"suffering_of_screw_cover",noteJson:"suffering_of_screw_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"11-4",name:"tiny lady",author:"Chicala Lpis",bpm:"188",music:"tiny_lady_music",demo:"tiny_lady_demo",cover:"tiny_lady_cover",noteJson:"tiny_lady_map",scene:"scene_05",levelDesigner:"HXJ_ConveX",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"11-5",name:"Power Attack",author:"EBIMAYO",bpm:"180",music:"power_attack_music",demo:"power_attack_demo",cover:"power_attack_cover",noteJson:"power_attack_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"0"}]},{name:"曲包12 - 放弃治疗 Vol.5",product:"music_package_12",playlist:[{uid:"12-0",name:"蓋棺クリサリス",author:"Team Grimoire",bpm:"160",music:"futa_hitsugi_chrysalis_music",demo:"futa_hitsugi_chrysalis_demo",cover:"futa_hitsugi_chrysalis_cover",noteJson:"futa_hitsugi_chrysalis_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"12-1",name:"Sterelogue",author:"VeetaCrush",bpm:"202",music:"sterelogue_music",demo:"sterelogue_demo",cover:"sterelogue_cover",noteJson:"sterelogue_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"12-2",name:"Cheshire's Dance",author:"a_hisa",bpm:"120～200",music:"cheshires_dance_music",demo:"cheshires_dance_demo",cover:"cheshires_dance_cover",noteJson:"cheshires_dance_map",scene:"scene_03",levelDesigner:"Phizer",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"12-3",name:"Skrik",author:"Chicala Lpis",bpm:"200",music:"skrik_music",demo:"skrik_demo",cover:"skrik_cover",noteJson:"skrik_map",scene:"scene_03",levelDesigner:"Phizer",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"12-4",name:"Soda Pop Canva5!",author:"モリモリあつし vs. XIzE",bpm:"190",music:"soda_pop_canva5_music",demo:"soda_pop_canva5_demo",cover:"soda_pop_canva5_cover",noteJson:"soda_pop_canva5_map",scene:"scene_05",levelDesigner:"Catcats",difficulty1:"5",difficulty2:"8",difficulty3:"10",unlockLevel:"0"},{uid:"12-5",name:"ЯUBY:LINTe",author:"orangentle",bpm:"100～230",music:"ruby_linte_music",demo:"ruby_linte_demo",cover:"ruby_linte_cover",noteJson:"ruby_linte_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"8",difficulty3:"11",unlockLevel:"0"}]},{name:"曲包13 - 可爱即正义 Vol.2",product:"music_package_13",playlist:[{uid:"13-0",name:"速溶霓虹",author:"ANK feat.熊子",bpm:"124",music:"surong_nihong_music",demo:"surong_nihong_demo",cover:"surong_nihong_cover",noteJson:"surong_nihong_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"4",difficulty3:"7",unlockLevel:"0"},{uid:"13-1",name:"星球上的追溯诗",author:"味素 feat.熊子",bpm:"130",music:"xingqiu_shangde_zhuisushi_music",demo:"xingqiu_shangde_zhuisushi_demo",cover:"xingqiu_shangde_zhuisushi_cover",noteJson:"xingqiu_shangde_zhuisushi_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"0"},{uid:"13-2",name:"我要买买买",author:"iKz",bpm:"175",music:"woyao_maimaimai_music",demo:"woyao_maimaimai_demo",cover:"woyao_maimaimai_cover",noteJson:"woyao_maimaimai_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"13-3",name:"约会宣言",author:"iKz feat.Hanser",bpm:"135",music:"yuehui_xuanyan_music",demo:"yuehui_xuanyan_demo",cover:"yuehui_xuanyan_cover",noteJson:"yuehui_xuanyan_map",scene:"scene_01",levelDesigner:"Phizer",difficulty1:"2",difficulty2:"4",difficulty3:"6",unlockLevel:"0"},{uid:"13-4",name:"初雪",author:"KyuRu☆ feat.清塚幽",bpm:"128",music:"chuxue_music",demo:"chuxue_demo",cover:"chuxue_cover",noteJson:"chuxue_map",scene:"scene_05",levelDesigner:"Phizer",difficulty1:"2",difficulty2:"3",difficulty3:"6",unlockLevel:"0"},{uid:"13-5",name:"心上华海",author:"Nekock·LK",bpm:"128",music:"xinshang_huahai_music",demo:"xinshang_huahai_demo",cover:"xinshang_huahai_cover",noteJson:"xinshang_huahai_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"8",unlockLevel:"0"}]},{name:"曲包14 - 肥宅快乐包 Vol.6",product:"music_package_14",playlist:[{uid:"14-0",name:"Elysion's Old Mans",author:"アリスシャッハと魔法の楽団",bpm:"118.8～120",music:"elysions_old_mans_music",demo:"elysions_old_mans_demo",cover:"elysions_old_mans_cover",noteJson:"elysions_old_mans_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"14-1",name:"AXION",author:"削除",bpm:"160",music:"axion_music",demo:"axion_demo",cover:"axion_cover",noteJson:"axion_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"14-2",name:"Amnesia",author:"a_hisa",bpm:"190",music:"amnesia_music",demo:"amnesia_demo",cover:"amnesia_cover",noteJson:"amnesia_map",scene:"scene_01",levelDesigner:"HXJ_ConveX",difficulty1:"3",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"14-3",name:"温泉大作戦",author:"Freezer feat.妃苺",bpm:"205",music:"onsen_dai_sakusen_music",demo:"onsen_dai_sakusen_demo",cover:"onsen_dai_sakusen_cover",noteJson:"onsen_dai_sakusen_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"14-4",name:"Gleam stone",author:"adaptor",bpm:"140",music:"gleam_stone_music",demo:"gleam_stone_demo",cover:"gleam_stone_cover",noteJson:"gleam_stone_map",scene:"scene_01",levelDesigner:"asdwadsxc",difficulty1:"4",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"14-5",name:"GOODWORLD",author:"EBIMAYO",bpm:"165",music:"goodworld_music",demo:"goodworld_demo",cover:"goodworld_cover",noteJson:"goodworld_map",scene:"scene_01",levelDesigner:"Phizer",difficulty1:"4",difficulty2:"7",difficulty3:"10",unlockLevel:"0"}]},{name:"曲包15 - 可爱即正义 Vol.3",product:"music_package_15",playlist:[{uid:"15-0",name:"魔咒 feat.早木旋子",author:"ANK",bpm:"125",music:"mozhou_music",demo:"mozhou_demo",cover:"mozhou_cover",noteJson:"mozhou_map",scene:"scene_04",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"7",unlockLevel:"0"},{uid:"15-1",name:"斑斓星，彩绘，旅行诗",author:"cnsouka Feat.karin",bpm:"122",music:"banlanxing_caihui_lvxingshi_music",demo:"banlanxing_caihui_lvxingshi_demo",cover:"banlanxing_caihui_lvxingshi_cover",noteJson:"banlanxing_caihui_lvxingshi_map",scene:"scene_05",levelDesigner:"Phizer",difficulty1:"3",difficulty2:"4",difficulty3:"6",unlockLevel:"0"},{uid:"15-2",name:"Satell Knight",author:"UncleWang Feat.熊子",bpm:"128",music:"satell_knight_music",demo:"satell_knight_demo",cover:"satell_knight_cover",noteJson:"satell_knight_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"6",difficulty3:"8",unlockLevel:"0"},{uid:"15-3",name:"Black River Feat.Mes",author:"小野道ono",bpm:"105",music:"black_river_music",demo:"black_river_demo",cover:"black_river_cover",noteJson:"black_river_map",scene:"scene_05",levelDesigner:"Hit me",difficulty1:"1",difficulty2:"4",difficulty3:"6",unlockLevel:"0"},{uid:"15-4",name:"生而为人，我很抱歉",author:"Nekock·LK",bpm:"150",music:"shenger_weiren_wohen_baoqian_music",demo:"shenger_weiren_wohen_baoqian_demo",cover:"shenger_weiren_wohen_baoqian_cover",noteJson:"shenger_weiren_wohen_baoqian_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"7",unlockLevel:"0"},{uid:"15-5",name:"飢えた鳥たち",author:"MusikM",bpm:"126",music:"ueta_tori_tachi_music",demo:"ueta_tori_tachi_demo",cover:"ueta_tori_tachi_cover",noteJson:"ueta_tori_tachi_map",scene:"scene_05",levelDesigner:"Phizer",difficulty1:"3",difficulty2:"6",difficulty3:"8",unlockLevel:"0"}]},{name:"曲包16 - 放弃治疗 Vol.6",product:"music_package_16",playlist:[{uid:"16-0",name:"Future Dive",author:"Lunatic Sounds",bpm:"181",music:"future_dive_music",demo:"future_dive_demo",cover:"future_dive_cover",noteJson:"future_dive_map",scene:"scene_05",levelDesigner:"Trixxxter",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"16-1",name:"Re：End of a Dream",author:"uma vs. モリモリあつし",bpm:"212",music:"re_end_of_a_dream_music",demo:"re_end_of_a_dream_demo",cover:"re_end_of_a_dream_cover",noteJson:"re_end_of_a_dream_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"8",difficulty3:"11",unlockLevel:"0"},{uid:"16-2",name:"Etude -Storm-",author:"Polymath9",bpm:"200",music:"etude_storm_music",demo:"etude_storm_demo",cover:"etude_storm_cover",noteJson:"etude_storm_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"6",difficulty2:"8",difficulty3:"10",unlockLevel:"0"},{uid:"16-3",name:"Unlimited Katharsis",author:"Reku Mochizuki",bpm:"185",music:"unlimited_katharsis_music",demo:"unlimited_katharsis_demo",cover:"unlimited_katharsis_cover",noteJson:"unlimited_katharsis_map",scene:"scene_06",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"10",unlockLevel:"0"},{uid:"16-4",name:"Magic Knight Girl",author:"Nizikawa",bpm:"172",music:"magic_knight_girl_music",demo:"magic_knight_girl_demo",cover:"magic_knight_girl_cover",noteJson:"magic_knight_girl_map",scene:"scene_01",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"16-5",name:"Eeliaas",author:"ミツキ",bpm:"180",music:"eeliaas_music",demo:"eeliaas_demo",cover:"eeliaas_cover",noteJson:"eeliaas_map",scene:"scene_03",levelDesigner:"Amami.A.Myamsar",difficulty1:"6",difficulty2:"9",difficulty3:"11",unlockLevel:"0"}]},{name:"曲包17 - 肥宅快乐包 Vol.7",product:"music_package_16",playlist:[{uid:"17-0",name:"Cotton Candy Wonderland",author:"Endorfin. (sky_delta & 藍月なくる)",bpm:"156",music:"cotton_candy_wonderland_music",demo:"cotton_candy_wonderland_demo",cover:"cotton_candy_wonderland_cover",noteJson:"cotton_candy_wonderland_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"2",difficulty2:"5",difficulty3:"8",unlockLevel:"0"},{uid:"17-1",name:"プナイプナイたいそう",author:"立秋 feat.ちょこ",bpm:"271",music:"punai_punai_taiso_music",demo:"punai_punai_taiso_demo",cover:"punai_punai_taiso_cover",noteJson:"punai_punai_taiso_map",scene:"scene_05",levelDesigner:"Trixxxter٩( 'o' )۶",difficulty1:"2",difficulty2:"7",difficulty3:"10",unlockLevel:"0"},{uid:"17-2",name:"Fly↑High",author:"P4koo(feat.rerone)",bpm:"142",music:"fly_high_music",demo:"fly_high_demo",cover:"fly_high_cover",noteJson:"fly_high_map",scene:"scene_05",levelDesigner:"Howard_Y",difficulty1:"3",difficulty2:"5",difficulty3:"7",unlockLevel:"0"},{uid:"17-3",name:"prejudice",author:"a_hisa",bpm:"135",music:"prejudice_music",demo:"prejudice_demo",cover:"prejudice_cover",noteJson:"prejudice_map",scene:"scene_03",levelDesigner:"Howard_Y",difficulty1:"4",difficulty2:"6",difficulty3:"9",unlockLevel:"0"},{uid:"17-4",name:"The 89's Momentum",author:"MYUKKE.",bpm:"128",music:"the_89s_momentum_music",demo:"the_89s_momentum_demo",cover:"the_89s_momentum_cover",noteJson:"the_89s_momentum_map",scene:"scene_04",levelDesigner:"Howard_Y",difficulty1:"5",difficulty2:"7",difficulty3:"9",unlockLevel:"0"},{uid:"17-5",name:"energy night",author:"KAH",bpm:"156",music:"energy_night_music",demo:"energy_night_demo",cover:"energy_night_cover",noteJson:"energy_night_map",scene:"scene_01",levelDesigner:"Catcats",difficulty1:"5",difficulty2:"7",difficulty3:"10",unlockLevel:"0"}]},{name:"计划通1",product:"unlockall_0",playlist:[]},{name:"计划通2",product:"unlockall_1",playlist:[]},{name:"计划通3",product:"unlockall_2",playlist:[]},{name:"计划通4",product:"unlockall_3",playlist:[]},{name:"计划通5",product:"unlockall_4",playlist:[]},{name:"计划通6",product:"unlockall_5",playlist:[]}];var $=F,V=a("443i");Date.prototype.getYMD=function(){return this.getDate()},String.prototype.getDate=function(){var e=this.split("-");return new Date(e[0],e[1]-1,e[2])};var E,M=function(e,t){for(var a=e.getDate(),n=t.getDate(),r=a.getTime(),i=n.getTime(),o=[];r<=i;r+=864e5)if(o){var s=new Date(r);o.push(s.getYMD())}else o=new Date(r).getYMD();return o},H=this&&this.__extends||(E=function(e,t){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),J=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},G=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},B=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Y=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},N=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Y(arguments[t]));return e},X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.saleStatisticsSelected="todaySale",t.chartData={columns:[],rows:[],dataEmpty:!0},t.chartExtend={title:{text:"TAPTAP"},series:{type:"bar",label:{show:!1,position:"top"}},tooltip:{},legend:{show:!1}},t.chartSettings={type:"histogram",axisSite:{right:["总额(元)"]},yAxisName:["曲包数","当日销售总额"]},t.chartLoading=!0,t.chartEmpty=!0,t.albumNameMapping=new Map,t.products=[],t.todayCash=0,t.monthCash=0,t.name=_.user.nickname,t.chartTypeSelected="histogram",t.customCash=0,t.customCashString="",t.start=(new Date).toLocaleDateString().replace(new RegExp("/","gm"),"-"),t.end=(new Date).toLocaleDateString().replace(new RegExp("/","gm"),"-"),t.dateValue=[t.start,t.end],t}return H(t,e),t.prototype.data=function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4},shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()),e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}}]}}},t.prototype.ensureChartRefresh=function(e){return G(this,void 0,void 0,function(){var t;return B(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,3,4]),this.chartEmpty=!0,this.chartLoading=!0,[4,e];case 1:return t=a.sent(),this.chartEmpty=!1,[2,t];case 2:return a.sent(),this.chartEmpty=!0,[3,4];case 3:return this.chartLoading=!1,[7];case 4:return[2]}})})},t.prototype.refreshTodayCash=function(){return G(this,void 0,void 0,function(){var e;return B(this,function(t){switch(t.label){case 0:return[4,_.requestGetTodayCash({})];case 1:return 0!==(e=t.sent()).data.code?this.$message.error("取得本日净收入失败，错误："+e.data.error):this.todayCash=e.data.cash,[2]}})})},t.prototype.refreshMonthCash=function(){return G(this,void 0,void 0,function(){var e;return B(this,function(t){switch(t.label){case 0:return[4,_.requestGetMonthCash({})];case 1:return 0!==(e=t.sent()).data.code?(this.$message.error("刷新本月净收入失败，错误："+e.data.error),[2]):(this.monthCash=e.data.cash,[2])}})})},t.prototype.refreshTodaySale=function(){return G(this,void 0,void 0,function(){var e,t,a=this;return B(this,function(n){switch(n.label){case 0:return this.chartData.columns=N(["date"],this.products.map(function(e){return a.albumNameMapping[e]}),["总额(元)"]),this.chartData.rows=[],[4,_.requestGetCustomSale({products:this.products.join(","),date_str:this.dateValue.join(",")})];case 1:return 0!==(e=n.sent()).data.code?(this.$message.error("刷新月销售失败，错误："+e.data.error),[2]):(t=M(this.dateValue[0].toString(),this.dateValue[1].toString()),e.data.sale.forEach(function(e,n){var r={date:t[n].toString()+"日"};for(var i in e)e.hasOwnProperty(i)&&(r[a.albumNameMapping[i]]="总额(元)"===i?e[i]/100:e[i]);a.chartData.rows.push(r)}),this.chartData.dataEmpty=!1,this.chartLoading=!1,[2])}})})},t.prototype.refreshChart=function(){return G(this,void 0,void 0,function(){return B(this,function(e){try{this.ensureChartRefresh(this.refreshTodaySale())}catch(e){this.$message.error("网络错误，销售数据刷新失败")}return[2]})})},t.prototype.cashFormatter=function(){return G(this,void 0,void 0,function(){var e;return B(this,function(t){switch(t.label){case 0:return 0!=this.chartLoading?[3,2]:[4,_.requestGetCustomCash({date_str:this.dateValue.join(",")})];case 1:0!=(e=t.sent()).data.code?this.$message.error("获取销售额失败"):this.customCash=e.data.cash/100,this.customCashString=this.dateValue[0].toString()+" 至 "+this.dateValue[1].toString()+" 总的销售额是 "+this.customCash+" 元",t.label=2;case 2:return[2]}})})},t.prototype.onChartTypeChanged=function(e){return G(this,void 0,void 0,function(){return B(this,function(t){return this.chartExtend.series.type="histogram"===e?"bar":e,this.chartSettings.type=e,[2]})})},t.prototype.mounted=function(){return G(this,void 0,void 0,function(){var e=this;return B(this,function(t){return $.forEach(function(t){t.product&&"unlock_base"!==t.product&&"music_package_6"!==t.product&&"unlockall_6"!==t.product&&(e.products.push(t.product),e.albumNameMapping[t.product]=t.name,e.albumNameMapping["总额(元)"]="总额(元)",e.chartData.columns.push(t.name))}),this.refreshChart(),[2]})})},J([Object(V.c)("dateValue")],t.prototype,"refreshChart",null),J([Object(V.c)("chartLoading")],t.prototype,"cashFormatter",null),J([Object(V.c)("chartTypeSelected")],t.prototype,"onChartTypeChanged",null),t=J([I()({name:"Dashboard"})],t)}(n.default),Z={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:8}},[n("el-row",[n("el-col",[n("el-card",{staticClass:"mgb20",attrs:{shadow:"hover"}},[n("div",{staticClass:"user-info"},[n("img",{staticClass:"user-avator",attrs:{src:a("ZYPB"),alt:""}}),e._v(" "),n("div",{staticClass:"user-info-cont"},[n("div",{staticClass:"user-info-name"},[e._v(e._s(e.name))])])])])],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("el-row",[n("el-col",[n("el-card",{staticClass:"mgb20",attrs:{shadow:"hover"}},[n("div",{staticClass:"grid-content grid-con-1"},[n("i",{staticClass:"el-icon-goods grid-con-icon"}),e._v(" "),n("div",{staticClass:"grid-cont-right"},[n("div",{staticClass:"grid-num"},[n("span",[e._v(e._s(e.todayCash/100))])]),e._v(" "),n("div",[e._v("今日净收入")])])])])],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("el-row",[n("el-col",[n("el-card",{staticClass:"mgb20",attrs:{shadow:"hover"}},[n("div",{staticClass:"grid-content grid-con-1"},[n("i",{staticClass:"el-icon-goods grid-con-icon"}),e._v(" "),n("div",{staticClass:"grid-cont-right"},[n("div",{staticClass:"grid-num"},[n("span",[e._v(e._s(e.monthCash/100))])]),e._v(" "),n("div",[e._v("本月净收入")])])])])],1)],1)],1)],1),e._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:24}},[n("el-card",[n("div",{attrs:{slot:"header"},slot:"header"},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-date-picker",{ref:"datepicker",attrs:{type:"daterange",align:"left","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.dateValue,callback:function(t){e.dateValue=t},expression:"dateValue"}})],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{model:{value:e.chartTypeSelected,callback:function(t){e.chartTypeSelected=t},expression:"chartTypeSelected"}},[n("el-option",{attrs:{label:"柱形图",value:"histogram"}}),e._v(" "),n("el-option",{attrs:{label:"折线图",value:"line"}}),e._v(" "),n("el-option",{attrs:{label:"饼图",value:"pie"}})],1)],1),e._v("\n                        "+e._s(e.customCashString)+"\n\n                    ")],1)],1),e._v(" "),n("ve-chart",{ref:"myChart",attrs:{data:e.chartData,extend:e.chartExtend,settings:e.chartSettings,loading:e.chartLoading,empty:e.chartEmpty,height:"530px"}})],1)],1)],1)],1)},staticRenderFns:[]};var K=a("VU/8")(X,Z,!1,function(e){a("esba")},"data-v-7ca6b1a5",null).exports,Q=a("Gu7T"),W=a.n(Q),ee=a("Xxa5"),te=a.n(ee),ae=a("d7EF"),ne=a.n(ae),re=a("exGp"),ie=a.n(re),oe=a("rdfR"),se=a.n(oe);var le=se.a,ce=a("ZgBW"),ue=a.n(ce);var de=ue.a,pe={albums:$,characters:le,elfins:de},fe=a("PJh5"),me=a.n(fe),he=a("JnRc"),_e={name:"CharacterUsage",data:function(){for(var e=[],t=0;t<pe.albums.length;t++){for(var a=pe.albums[t],n={label:a.name,value:t,children:[]},r=0;r<a.playlist.length;r++){var i={label:a.playlist[r].name,value:r};n.children.push(i)}e.push(n)}return{chart_toolbox:{feature:{magicType:{type:["bar"]},saveAsImage:{}}},chart_data:{columns:[],rows:[]},chart_empty:!0,chart_loading:!1,chart_settings:{label:{show:!0,position:"top",formatter:"{c}\n{a}"}},chart_title:{show:!0,text:""},date_range:[me()({hour:0,minutes:0,seconds:0}).toDate(),me()({hour:23,minutes:59,seconds:59}).toDate()],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4},shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()),e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),e.$emit("pick",[a,t])}}]},active_tab_name:"no_filter",by_music_form:{music_options:e,selected_music_idx:[]},by_level_form:{level_range:[0,300],level_group:50}}},methods:{refresh:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i,o,s,l;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.chart_loading=!0,t.prev=1,"filter_by_beatmap"!==e.active_tab_name){t.next=11;break}return a=ne()(e.by_music_form.selected_music_idx,2),n=a[0],r=a[1],i=pe.albums[n].playlist[r],t.next=7,e.fetch_usage_usage_by_music(i);case 7:e.chart_title.text=i.name+" 的角色使用率统计图",e.chart_empty=!1,t.next=29;break;case 11:if("filter_by_player_level"!==e.active_tab_name){t.next=18;break}return o=ne()(e.by_level_form.level_range,2),s=o[0],l=o[1],t.next=15,e.fetch_usage_usage_by_level();case 15:e.chart_title.text=s+"-"+l+" 等级玩家的角色使用率统计图",t.next=29;break;case 18:if("filter_by_mixed_condition"!==e.active_tab_name){t.next=21;break}t.next=29;break;case 21:if("no_filter"!==e.active_tab_name){t.next=27;break}return t.next=24,e.fetch_usage_usage_by_characters();case 24:e.chart_title.text="角色使用率统计图",t.next=29;break;case 27:return e.chart_empty=!0,t.abrupt("return");case 29:e.chart_empty=!1,t.next=36;break;case 32:throw t.prev=32,t.t0=t.catch(1),e.chart_empty=!0,t.t0;case 36:return t.prev=36,e.chart_loading=!1,t.finish(36);case 39:case"end":return t.stop()}},t,e,[[1,32,36,39]])}))()},fetch_usage_usage_by_characters:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chart_data.columns=["角色","使用量"],e.chart_data.rows=[],a=0;case 3:if(!(a<pe.characters.length)){t.next=13;break}return n=pe.characters[a],r=new e.$AV.Query("PlayStatistics").greaterThanOrEqualTo("createdAt",e.date_range[0]).lessThanOrEqualTo("createdAt",e.date_range[1]).equalTo("CharacterUID",a.toString()),t.next=8,r.count();case 8:i=t.sent,e.chart_data.rows.push({"角色":n.cosName+"-"+n.characterName,"使用量":i});case 10:a++,t.next=3;break;case 13:e.$refs.data_chart.echarts.resize();case 14:case"end":return t.stop()}},t,e)}))()},fetch_usage_usage_by_music:function(e){var t=this;return ie()(te.a.mark(function a(){var n,r,i,o,s,l,c,u,d,p,f,m,h;return te.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.chart_data.columns=["谱面"].concat(W()(t.character_dimension)),t.chart_data.rows=[],r=[parseInt(e.difficulty1),parseInt(e.difficulty2),parseInt(e.difficulty3)],i={"谱面":e.name+"-萌新难度"},o={"谱面":e.name+"-普通难度"},s={"谱面":e.name+"-大触难度"},l=0;case 5:if(!(l<pe.characters.length)){a.next=22;break}return c=[t.build_query(e.uid,r[0],l.toString()),t.build_query(e.uid,r[1],l.toString()),t.build_query(e.uid,r[2],l.toString())],u=c[0],d=c[1],p=c[2],a.next=9,u.count();case 9:return f=a.sent,a.next=12,d.count();case 12:return m=a.sent,a.next=15,p.count();case 15:h=a.sent,i[t.character_dimension[l]]=f,o[t.character_dimension[l]]=m,s[t.character_dimension[l]]=h;case 19:l++,a.next=5;break;case 22:(n=t.chart_data.rows).push.apply(n,[i,o,s]),t.$refs.data_chart.echarts.resize();case 24:case"end":return a.stop()}},a,t)}))()},fetch_usage_usage_by_level:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i,o,s,l;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chart_data.columns=["等级范围"].concat(W()(e.character_dimension)),e.chart_data.rows=[],a=0;case 3:if(!(a<e.level_groups.length)){t.next=20;break}n=ne()(e.level_groups[a],2),r=n[0],i=n[1],o={"等级范围":r+"-"+i},s=0;case 7:if(!(s<pe.characters.length)){t.next=16;break}return pe.characters[s],l=new he.Query("PlayStatistics").greaterThanOrEqualTo("createdAt",e.date_range[0]).lessThanOrEqualTo("createdAt",e.date_range[1]).equalTo("CharacterUID",s.toString()).greaterThan("PlayerLevel",r).lessThanOrEqualTo("PlayerLevel",i),t.next=12,l.count();case 12:o[e.character_dimension[s]]=t.sent;case 13:s++,t.next=7;break;case 16:e.chart_data.rows.push(o);case 17:a++,t.next=3;break;case 20:e.$refs.data_chart.echarts.resize();case 21:case"end":return t.stop()}},t,e)}))()},build_query:function(e,t,a){var n=new he.Query("PlayStatistics").greaterThanOrEqualTo("createdAt",this.date_range[0]).lessThanOrEqualTo("createdAt",this.date_range[1]);return e&&n.equalTo("MusicUID",e),t&&n.equalTo("MusicLevel",t),a&&n.equalTo("CharacterUID",a),console.log(n),n}},computed:{level_groups:function(){for(var e=this.by_level_form.level_group,t=ne()(this.by_level_form.level_range,2),a=t[0],n=t[1],r=a>0?[[0,a]]:[],i=a;i+e<n;i+=e)r.push([i,i+e]);return r.push([r[r.length-1][1],n]),r},character_dimension:function(){for(var e=[],t=0;t<pe.characters.length;t++){var a=pe.characters[t];e.push(""+a.cosName)}return e},chart_zoom:function(){return[{type:"slider",start:0,end:3/this.chart_data.rows.length*100-1}]}}},ve={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-row",{attrs:{slot:"header",type:"flex",justify:"left",align:"center",gutter:20},slot:"header"},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"chart-title"},[e._v("角色使用率")])]),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{offset:15,span:6}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,width:"100%"}},[a("ve-histogram",{ref:"data_chart",attrs:{data:e.chart_data,title:e.chart_title,settings:e.chart_settings,"data-empty":e.chart_empty,loading:e.chart_loading,toolbox:e.chart_toolbox,"data-zoom":e.chart_zoom}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{model:{value:e.active_tab_name,callback:function(t){e.active_tab_name=t},expression:"active_tab_name"}},[a("el-tab-pane",{attrs:{label:"不过滤",name:"no_filter"}}),e._v(" "),a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"按谱面过滤",name:"filter_by_beatmap"}},[a("el-row",{attrs:{type:"flex",justify:"left",align:"center",gutter:20}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("查看谱面")])]),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{span:22}},[a("el-cascader",{attrs:{options:e.by_music_form.music_options,clearable:"","expand-trigger":"hover"},model:{value:e.by_music_form.selected_music_idx,callback:function(t){e.$set(e.by_music_form,"selected_music_idx",t)},expression:"by_music_form.selected_music_idx"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"按等级过滤",name:"filter_by_player_level"}},[a("el-row",{attrs:{type:"flex",justify:"left",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("滑动选择等级范围")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-slider",{attrs:{"show-stops":"",range:"",step:e.by_level_form.level_group,min:0,max:999},model:{value:e.by_level_form.level_range,callback:function(t){e.$set(e.by_level_form,"level_range",t)},expression:"by_level_form.level_range"}})],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("滑动选择等级分组")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-slider",{attrs:{"show-stops":"",min:1,max:100},model:{value:e.by_level_form.level_group,callback:function(t){e.$set(e.by_level_form,"level_group",t)},expression:"by_level_form.level_group"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"混合过滤",name:"filter_by_mixed_condition"}},[a("span",[e._v("暂未实现")])])],1)],1)],1)],1)},staticRenderFns:[]};var be=a("VU/8")(_e,ve,!1,function(e){a("cVJz")},"data-v-90f56872",null).exports,ye={name:"ElfinUsage",data:function(){for(var e=[],t=0;t<pe.albums.length;t++){for(var a=pe.albums[t],n={label:a.name,value:t,children:[]},r=0;r<a.playlist.length;r++){var i={label:a.playlist[r].name,value:r};n.children.push(i)}e.push(n)}return{chart_toolbox:{feature:{magicType:{type:["bar"]},saveAsImage:{}}},chart_data:{columns:[],rows:[]},chart_empty:!0,chart_loading:!1,chart_settings:{label:{show:!0,position:"top",formatter:"{c}\n{a}"}},chart_title:{show:!0,text:""},date_range:[me()({hour:0,minutes:0,seconds:0}).toDate(),me()({hour:23,minutes:59,seconds:59}).toDate()],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4},shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()),e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),e.$emit("pick",[a,t])}}]},active_tab_name:"no_filter",by_music_form:{music_options:e,selected_music_idx:[]},by_level_form:{level_range:[0,300],level_group:50}}},methods:{refresh:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i,o,s,l;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.chart_loading=!0,t.prev=1,"filter_by_beatmap"!==e.active_tab_name){t.next=10;break}return a=ne()(e.by_music_form.selected_music_idx,2),n=a[0],r=a[1],i=pe.albums[n].playlist[r],t.next=7,e.fetch_usage_usage_by_music(i);case 7:e.chart_title.text=i.name+" 的精灵使用率统计图",t.next=34;break;case 10:if("filter_by_player_level"!==e.active_tab_name){t.next=17;break}return o=ne()(e.by_level_form.level_range,2),s=o[0],l=o[1],t.next=14,e.fetch_usage_usage_by_level();case 14:e.chart_title.text=s+"-"+l+" 等级玩家的精灵使用率统计图",t.next=34;break;case 17:if("filter_by_mixed_condition"!==e.active_tab_name){t.next=20;break}t.next=34;break;case 20:if("no_filter"!==e.active_tab_name){t.next=26;break}return t.next=23,e.fetch_usage_usage_by_elfin();case 23:e.chart_title.text="精灵使用率统计图",t.next=34;break;case 26:if("filter_by_character"!==e.active_tab_name){t.next=32;break}return t.next=29,e.fetch_usage_usage_by_character();case 29:e.chart_title.text="角色的精灵使用率统计图",t.next=34;break;case 32:return e.chart_empty=!0,t.abrupt("return");case 34:e.chart_empty=!1,t.next=41;break;case 37:throw t.prev=37,t.t0=t.catch(1),e.chart_empty=!0,t.t0;case 41:return t.prev=41,e.chart_loading=!1,t.finish(41);case 44:case"end":return t.stop()}},t,e,[[1,37,41,44]])}))()},fetch_usage_usage_by_elfin:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chart_data.columns=["精灵","使用量"],e.chart_data.rows=[],a=0;case 3:if(!(a<pe.elfins.length)){t.next=12;break}return n=e.build_query().equalTo("ElfinUID",a.toString()),t.next=7,n.count();case 7:r=t.sent,e.chart_data.rows.push({"精灵":e.elfin_dimension[a],"使用量":r});case 9:a++,t.next=3;break;case 12:e.$refs.data_chart.echarts.resize();case 13:case"end":return t.stop()}},t,e)}))()},fetch_usage_usage_by_music:function(e){var t=this;return ie()(te.a.mark(function a(){var n,r,i,o,s,l,c,u,d,p,f,m,h;return te.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t.chart_data.columns=["谱面"].concat(W()(t.elfin_dimension)),t.chart_data.rows=[],r=[parseInt(e.difficulty1),parseInt(e.difficulty2),parseInt(e.difficulty3)],i={"谱面":e.name+"-萌新难度"},o={"谱面":e.name+"-普通难度"},s={"谱面":e.name+"-大触难度"},l=0;case 5:if(!(l<pe.elfins.length)){a.next=22;break}return c=[t.build_query(e.uid,r[0]).equalTo("ElfinUID",l.toString()),t.build_query(e.uid,r[1]).equalTo("ElfinUID",l.toString()),t.build_query(e.uid,r[2]).equalTo("ElfinUID",l.toString())],u=c[0],d=c[1],p=c[2],a.next=9,u.count();case 9:return f=a.sent,a.next=12,d.count();case 12:return m=a.sent,a.next=15,p.count();case 15:h=a.sent,i[t.elfin_dimension[l]]=f,o[t.elfin_dimension[l]]=m,s[t.elfin_dimension[l]]=h;case 19:l++,a.next=5;break;case 22:(n=t.chart_data.rows).push.apply(n,[i,o,s]),t.$refs.data_chart.echarts.resize();case 24:case"end":return a.stop()}},a,t)}))()},fetch_usage_usage_by_level:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i,o,s,l;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chart_data.columns=["等级范围"].concat(W()(e.elfin_dimension)),e.chart_data.rows=[],a=0;case 3:if(!(a<e.level_groups.length)){t.next=20;break}n=ne()(e.level_groups[a],2),r=n[0],i=n[1],o={"等级范围":r+"-"+i},s=0;case 7:if(!(s<pe.elfins.length)){t.next=16;break}return pe.elfins[s],l=e.build_query().equalTo("ElfinUID",s.toString()).greaterThan("PlayerLevel",r).lessThanOrEqualTo("PlayerLevel",i),t.next=12,l.count();case 12:o[e.elfin_dimension[s]]=t.sent;case 13:s++,t.next=7;break;case 16:e.chart_data.rows.push(o);case 17:a++,t.next=3;break;case 20:e.$refs.data_chart.echarts.resize();case 21:case"end":return t.stop()}},t,e)}))()},fetch_usage_usage_by_character:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chart_data.columns=["角色"].concat(W()(e.elfin_dimension)),e.chart_data.rows=[],a=0;case 3:if(!(a<pe.characters.length)){t.next=18;break}n={"角色":e.character_dimension[a]},r=0;case 6:if(!(r<pe.elfins.length)){t.next=14;break}return i=e.build_query(void 0,void 0,a.toString()).equalTo("ElfinUID",r.toString()),t.next=10,i.count();case 10:n[e.elfin_dimension[r]]=t.sent;case 11:r++,t.next=6;break;case 14:e.chart_data.rows.push(n);case 15:a++,t.next=3;break;case 18:e.$refs.data_chart.echarts.resize();case 19:case"end":return t.stop()}},t,e)}))()},build_query:function(e,t,a){var n=new he.Query("PlayStatistics").greaterThanOrEqualTo("createdAt",this.date_range[0]).lessThanOrEqualTo("createdAt",this.date_range[1]);return e&&n.equalTo("MusicUID",e),t&&n.equalTo("MusicLevel",t),a&&n.equalTo("CharacterUID",a),n}},computed:{level_groups:function(){for(var e=this.by_level_form.level_group,t=ne()(this.by_level_form.level_range,2),a=t[0],n=t[1],r=a>0?[[0,a]]:[],i=a;i+e<n;i+=e)r.push([i,i+e]);return r.push([r[r.length-1][1],n]),r},character_dimension:function(){for(var e=[],t=0;t<pe.characters.length;t++){var a=pe.characters[t];e.push(""+a.cosName)}return e},elfin_dimension:function(){for(var e=[],t=0;t<pe.elfins.length;t++){var a=pe.elfins[t];e.push(a.name)}return e},chart_zoom:function(){return[{type:"slider",start:0,end:3/this.chart_data.rows.length*100-1}]}}},ge={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-row",{attrs:{slot:"header",type:"flex",justify:"left",align:"center",gutter:20},slot:"header"},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"chart-title"},[e._v("精灵使用率")])]),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{offset:15,span:6}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,width:"100%"}},[a("ve-histogram",{ref:"data_chart",attrs:{data:e.chart_data,title:e.chart_title,settings:e.chart_settings,"data-empty":e.chart_empty,loading:e.chart_loading,toolbox:e.chart_toolbox,"data-zoom":e.chart_zoom}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{model:{value:e.active_tab_name,callback:function(t){e.active_tab_name=t},expression:"active_tab_name"}},[a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"不过滤",name:"no_filter"}}),e._v(" "),a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"按谱面过滤",name:"filter_by_beatmap"}},[a("el-row",{attrs:{type:"flex",justify:"left",align:"center",gutter:20}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("查看谱面")])]),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{span:22}},[a("el-cascader",{attrs:{options:e.by_music_form.music_options,clearable:"","expand-trigger":"hover"},model:{value:e.by_music_form.selected_music_idx,callback:function(t){e.$set(e.by_music_form,"selected_music_idx",t)},expression:"by_music_form.selected_music_idx"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"按等级过滤",name:"filter_by_player_level"}},[a("el-row",{attrs:{type:"flex",justify:"left",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("滑动选择等级范围")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-slider",{attrs:{"show-stops":"",range:"",step:e.by_level_form.level_group,min:0,max:999},model:{value:e.by_level_form.level_range,callback:function(t){e.$set(e.by_level_form,"level_range",t)},expression:"by_level_form.level_range"}})],1)],1),e._v(" "),a("el-row",{attrs:{type:"flex",justify:"center",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("滑动选择等级分组")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-slider",{attrs:{"show-stops":"",min:1,max:100},model:{value:e.by_level_form.level_group,callback:function(t){e.$set(e.by_level_form,"level_group",t)},expression:"by_level_form.level_group"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"按角色过滤",name:"filter_by_character"}},[a("span",[e._v("暂未实现")])]),e._v(" "),a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"混合过滤",name:"filter_by_mixed_condition"}},[a("span",[e._v("暂未实现")])])],1)],1)],1)],1)},staticRenderFns:[]};var ke=a("VU/8")(ye,ge,!1,function(e){a("m9dX")},"data-v-72f2b7e9",null).exports,we=a("BO1k"),xe=a.n(we),De={name:"MusicAcc",data:function(){var e=[];pe.albums.forEach(function(t,a){var n={label:t.name,value:a,children:[]};t.playlist.forEach(function(e,t){return n.children.push({label:e.name,value:t})}),e.push(n)});var t=[];return pe.albums.forEach(function(e,a){e.playlist.forEach(function(a,n){var r=[parseInt(a.difficulty1),parseInt(a.difficulty2),parseInt(a.difficulty3)];t.push({uid:a.uid,name:a.name,index:n,album:e.name,difficulties:r})})}),{chart_toolbox:{feature:{magicType:{type:["bar"]},saveAsImage:{}}},chart_data:{columns:[],rows:[]},chart_empty:!0,chart_loading:!1,chart_settings:{label:{show:!0,position:"top",formatter:"{c}\n{a}"}},chart_title:{show:!0,text:""},date_range:[me()({hour:0,minutes:0,seconds:0}).toDate(),me()({hour:23,minutes:59,seconds:59}).toDate()],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4},shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()),e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),e.$emit("pick",[a,t])}}]},judged_groups:[{label:"金S",range:[100,100],checked:!0},{label:"银S",range:[95,100],checked:!0},{label:"普通S",range:[90,95],checked:!0},{label:"A",range:[80,90],checked:!1},{label:"B",range:[70,80],checked:!1},{label:"C",range:[60,70],checked:!1},{label:"D",range:[0,60],checked:!1}],acc_groups:[{get_label:function(){return this.range[0]+"% - "+this.range[1]+"%"},range:[60,100]}],as_judged:!1,judge_level:[!0,!0,!0,!0,!1,!1],selected_music:[],music_level_range:[1,19],music_list:t,album_names:pe.albums.map(function(e,t){return{text:e.name,value:e.name}}),active_tab_name:"filter_by_mixed_condition"}},methods:{refresh:function(){var e=this;return ie()(te.a.mark(function t(){return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.chart_loading=!0,t.prev=1,"filter_by_mixed_condition"!==e.active_tab_name){t.next=7;break}e.fetch_acc_data(),e.chart_title.text="综合统计图",t.next=9;break;case 7:return e.chart_empty=!0,t.abrupt("return");case 9:e.chart_empty=!1,t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(1),e.chart_empty=!0,t.t0;case 16:return t.prev=16,e.chart_loading=!1,t.finish(16);case 19:case"end":return t.stop()}},t,e,[[1,12,16,19]])}))()},fetch_acc_data:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i,o,s,l,c,u,d,p,f,m,h,_,v,b,y,g,k,w,x,D,C,P,j,A,O,L,z,R,q,U,S,T,I,F,$,V,E,M,H,J;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.chart_data.columns=["谱面"],e.chart_data.rows=[],a=ne()(e.music_level_range,2),n=a[0],r=a[1],!e.as_judged){t.next=87;break}e.judged_groups.forEach(function(t){return e.chart_data.columns.push(t.label)}),i=!0,o=!1,s=void 0,t.prev=8,l=xe()(e.selected_music);case 10:if(i=(c=l.next()).done){t.next=70;break}u=c.value,d=!0,p=!1,f=void 0,t.prev=15,m=xe()(u.difficulties.filter(function(e){return e>=n&&e<=r}));case 17:if(d=(h=m.next()).done){t.next=53;break}_=h.value,v={"谱面":u.name+": 难度 "+_},b=!0,y=!1,g=void 0,t.prev=23,k=xe()(e.judged_groups.filter(function(e){return e.checked}));case 25:if(b=(w=k.next()).done){t.next=35;break}return x=w.value,D=ne()(x.range,2),C=D[0],P=D[1],t.next=30,e.build_query(u.uid,_).greaterThanOrEqualTo("Acc",C).lessThan("Acc",P).count();case 30:j=t.sent,v[x.label]=j;case 32:b=!0,t.next=25;break;case 35:t.next=41;break;case 37:t.prev=37,t.t0=t.catch(23),y=!0,g=t.t0;case 41:t.prev=41,t.prev=42,!b&&k.return&&k.return();case 44:if(t.prev=44,!y){t.next=47;break}throw g;case 47:return t.finish(44);case 48:return t.finish(41);case 49:e.chart_data.rows.push(v);case 50:d=!0,t.next=17;break;case 53:t.next=59;break;case 55:t.prev=55,t.t1=t.catch(15),p=!0,f=t.t1;case 59:t.prev=59,t.prev=60,!d&&m.return&&m.return();case 62:if(t.prev=62,!p){t.next=65;break}throw f;case 65:return t.finish(62);case 66:return t.finish(59);case 67:i=!0,t.next=10;break;case 70:t.next=76;break;case 72:t.prev=72,t.t2=t.catch(8),o=!0,s=t.t2;case 76:t.prev=76,t.prev=77,!i&&l.return&&l.return();case 79:if(t.prev=79,!o){t.next=82;break}throw s;case 82:return t.finish(79);case 83:return t.finish(76);case 84:e.$refs.data_chart.echarts.resize(),t.next=146;break;case 87:e.acc_groups.forEach(function(t){return e.chart_data.columns.push(t.get_label())}),A=!0,O=!1,L=void 0,t.prev=91,z=xe()(e.selected_music);case 93:if(A=(R=z.next()).done){t.next=131;break}q=R.value,U=!0,S=!1,T=void 0,t.prev=98,I=xe()(q.difficulties.filter(function(e){return e>=n&&e<=r}));case 100:if(U=(F=I.next()).done){t.next=114;break}return $=F.value,V={"谱面":q.name+": 难度 "+$},E=ne()(e.acc_groups[0].range,2),M=E[0],H=E[1],console.log("af:"+M),console.log("at:"+H),t.next=108,e.build_query(q.uid,$).greaterThanOrEqualTo("Acc",M).lessThan("Acc",H).count();case 108:J=t.sent,V[e.acc_groups[0].get_label()]=J,e.chart_data.rows.push(V);case 111:U=!0,t.next=100;break;case 114:t.next=120;break;case 116:t.prev=116,t.t3=t.catch(98),S=!0,T=t.t3;case 120:t.prev=120,t.prev=121,!U&&I.return&&I.return();case 123:if(t.prev=123,!S){t.next=126;break}throw T;case 126:return t.finish(123);case 127:return t.finish(120);case 128:A=!0,t.next=93;break;case 131:t.next=137;break;case 133:t.prev=133,t.t4=t.catch(91),O=!0,L=t.t4;case 137:t.prev=137,t.prev=138,!A&&z.return&&z.return();case 140:if(t.prev=140,!O){t.next=143;break}throw L;case 143:return t.finish(140);case 144:return t.finish(137);case 145:e.$refs.data_chart.echarts.resize();case 146:case"end":return t.stop()}},t,e,[[8,72,76,84],[15,55,59,67],[23,37,41,49],[42,,44,48],[60,,62,66],[77,,79,83],[91,133,137,145],[98,116,120,128],[121,,123,127],[138,,140,144]])}))()},build_query:function(e,t,a){var n=new he.Query("PlayStatistics").greaterThanOrEqualTo("createdAt",this.date_range[0]).lessThanOrEqualTo("createdAt",this.date_range[1]);return e&&n.equalTo("MusicUID",e),t&&n.equalTo("MusicLevel",t),a&&n.equalTo("CharacterUID",a),console.log(n),n},table_album_filter_method:function(e,t,a){return e===t.album},table_album_formatter_method:function(e,t,a,n){return a.join(", ")},table_album_selection_change:function(e){this.selected_music=e},table_acc_add_row:function(e){}},computed:{level_groups:function(){for(var e=this.by_level_form.level_group,t=ne()(this.by_level_form.level_range,2),a=t[0],n=t[1],r=a>0?[[0,a]]:[],i=a;i+e<n;i+=e)r.push([i,i+e]);return r.push([r[r.length-1][1],n]),r},character_dimension:function(){for(var e=[],t=0;t<pe.characters.length;t++){var a=pe.characters[t];e.push(""+a.cosName)}return e},elfin_dimension:function(){for(var e=[],t=0;t<pe.elfins.length;t++){var a=pe.elfins[t];e.push(a.name)}return e},chart_zoom:function(){return[{type:"slider",start:0,end:3/this.chart_data.rows.length*100-1}]}}},Ce={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-row",{attrs:{slot:"header",type:"flex",justify:"left",align:"center",gutter:20},slot:"header"},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"chart-title"},[e._v("关卡准确率")])]),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{offset:15,span:6}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,width:"100%"}},[a("ve-histogram",{ref:"data_chart",attrs:{data:e.chart_data,title:e.chart_title,settings:e.chart_settings,"data-empty":e.chart_empty,loading:e.chart_loading,toolbox:e.chart_toolbox,"data-zoom":e.chart_zoom}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{model:{value:e.active_tab_name,callback:function(t){e.active_tab_name=t},expression:"active_tab_name"}},[a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"综合过滤",name:"filter_by_mixed_condition"}},[a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:2}},[a("span",[e._v("按评级显示")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-switch",{model:{value:e.as_judged,callback:function(t){e.as_judged=t},expression:"as_judged"}})],1)],1),e._v(" "),a("el-row",{staticClass:"form-row",attrs:{type:"flex",justify:"left",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("选择难度区间")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-slider",{attrs:{"show-stops":"",range:"",min:1,max:19},model:{value:e.music_level_range,callback:function(t){e.music_level_range=t},expression:"music_level_range"}})],1)],1),e._v(" "),!1===e.as_judged?a("el-row",{staticClass:"form-row",attrs:{type:"flex",gutter:20,justify:"left",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("Acc分组")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-table",{attrs:{data:e.acc_groups}},[a("el-table-column",{attrs:{fixed:"left",label:"区间数值",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                        "+e._s(t.row.get_label())+"\n                                    ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"选择区间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-slider",{attrs:{range:""},model:{value:t.row.range,callback:function(a){e.$set(t.row,"range",a)},expression:"scope.row.range"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"}},[e._v("移除")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"}},[e._v("插入区间")])]}}])})],1)],1)],1):a("el-row",{staticClass:"form-row",attrs:{type:"flex",gutter:20,justify:"left",align:"center"}},[a("el-col",{attrs:{span:2}},[a("span",[e._v("选择评级")])]),e._v(" "),a("el-col",{attrs:{span:22}},e._l(e.judged_groups,function(t,n){return a("el-checkbox",{key:n,attrs:{value:n},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}},[e._v("\n                                "+e._s(t.label)+"\n                            ")])}))],1),e._v(" "),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:2}},[a("span",[e._v("选择曲目")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-table",{attrs:{data:e.music_list},on:{"selection-change":e.table_album_selection_change}},[a("el-table-column",{attrs:{type:"selection",fixed:"left",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"歌曲名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"来自曲包",prop:"album",filters:e.album_names,"filter-method":e.table_album_filter_method}}),e._v(" "),a("el-table-column",{attrs:{label:"包含难度",prop:"difficulties",formatter:e.table_album_formatter_method}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Pe=a("VU/8")(De,Ce,!1,function(e){a("nLMu")},"data-v-7ddda8c2",null).exports,je={data:function(){var e=[];pe.albums.forEach(function(t,a){var n={label:t.name,value:a,children:[]};t.playlist.forEach(function(e,t){return n.children.push({label:e.name,value:t})}),e.push(n)});var t=[];return pe.albums.forEach(function(e,a){e.playlist.forEach(function(a,n){var r=[parseInt(a.difficulty1),parseInt(a.difficulty2),parseInt(a.difficulty3)];t.push({uid:a.uid,name:a.name,index:n,album:e.name,difficulties:r})})}),{date_range:[me()({hour:0,minutes:0,seconds:0}).toDate(),me()({hour:23,minutes:59,seconds:59}).toDate()],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4},shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()),e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),e.$emit("pick",[a,t])}}]},chart_toolbox:{feature:{magicType:{type:["bar"]},saveAsImage:{}}},chart_data:{columns:[],rows:[]},chart_empty:!0,chart_loading:!1,chart_settings:{label:{show:!0,position:"top",formatter:"{c}\n{a}"}},chart_title:{show:!0,text:""},active_tab_name:"filter_by_mixed_condition",selected_music:[],music_level_range:[1,19],music_list:t,album_names:pe.albums.map(function(e,t){return{text:e.name,value:e.name}})}},methods:{refresh:function(){var e=this;return ie()(te.a.mark(function t(){return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.chart_loading=!0,t.prev=1,"filter_by_mixed_condition"!==e.active_tab_name){t.next=7;break}e.fetch_full_combo_data(),e.chart_title.text="综合统计图",t.next=9;break;case 7:return e.chart_empty=!0,t.abrupt("return");case 9:e.chart_empty=!1,t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(1),e.chart_empty=!0,t.t0;case 16:return t.prev=16,e.chart_loading=!1,t.finish(16);case 19:case"end":return t.stop()}},t,e,[[1,12,16,19]])}))()},fetch_full_combo_data:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i,o,s,l,c,u,d,p,f,m,h,_;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chart_data.columns=["谱面","全连","未全连"],e.chart_data.rows=[],a=ne()(e.music_level_range,2),n=a[0],r=a[1],i=!0,o=!1,s=void 0,t.prev=6,l=xe()(e.selected_music);case 8:if(i=(c=l.next()).done){t.next=47;break}u=c.value,d=!0,p=!1,f=void 0,t.prev=13,m=xe()(u.difficulties.filter(function(e){return e>=n&&e<=r}));case 15:if(d=(h=m.next()).done){t.next=30;break}return _=h.value,t.t0=e.chart_data.rows,t.t1=u.name+": 难度 "+_,t.next=21,e.build_query(u.uid,_).equalTo("FullCombo",!0).count();case 21:return t.t2=t.sent,t.next=24,e.build_query(u.uid,_).equalTo("FullCombo",!1).count();case 24:t.t3=t.sent,t.t4={"谱面":t.t1,"全连":t.t2,"未全连":t.t3},t.t0.push.call(t.t0,t.t4);case 27:d=!0,t.next=15;break;case 30:t.next=36;break;case 32:t.prev=32,t.t5=t.catch(13),p=!0,f=t.t5;case 36:t.prev=36,t.prev=37,!d&&m.return&&m.return();case 39:if(t.prev=39,!p){t.next=42;break}throw f;case 42:return t.finish(39);case 43:return t.finish(36);case 44:i=!0,t.next=8;break;case 47:t.next=53;break;case 49:t.prev=49,t.t6=t.catch(6),o=!0,s=t.t6;case 53:t.prev=53,t.prev=54,!i&&l.return&&l.return();case 56:if(t.prev=56,!o){t.next=59;break}throw s;case 59:return t.finish(56);case 60:return t.finish(53);case 61:e.$refs.data_chart.echarts.resize();case 62:case"end":return t.stop()}},t,e,[[6,49,53,61],[13,32,36,44],[37,,39,43],[54,,56,60]])}))()},build_query:function(e,t,a){var n=new he.Query("PlayStatistics").greaterThanOrEqualTo("createdAt",this.date_range[0]).lessThanOrEqualTo("createdAt",this.date_range[1]);return e&&n.equalTo("MusicUID",e),t&&n.equalTo("MusicLevel",t),a&&n.equalTo("CharacterUID",a),console.log("--------- 通关率"),console.log(n),n},table_album_filter_method:function(e,t,a){return e===t.album},table_album_formatter_method:function(e,t,a,n){return a.join(", ")},table_album_selection_change:function(e){this.selected_music=e},table_full_add_row:function(e){}},computed:{chart_zoom:function(){return[{type:"slider",start:0,end:3/this.chart_data.rows.length*100-1}]}}},Ae={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-row",{attrs:{slot:"header",type:"flex",justify:"left",align:"center",gutter:20},slot:"header"},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"chart-title"},[e._v("关卡全连率")])]),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{offset:15,span:6}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,width:"100%"}},[a("ve-histogram",{ref:"data_chart",attrs:{data:e.chart_data,title:e.chart_title,settings:e.chart_settings,"data-empty":e.chart_empty,loading:e.chart_loading,toolbox:e.chart_toolbox,"data-zoom":e.chart_zoom}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{model:{value:e.active_tab_name,callback:function(t){e.active_tab_name=t},expression:"active_tab_name"}},[a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"综合过滤",name:"filter_by_mixed_condition"}},[a("el-row",{staticClass:"form-row",attrs:{type:"flex",justify:"left",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("选择难度区间")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-slider",{attrs:{"show-stops":"",range:"",min:1,max:19},model:{value:e.music_level_range,callback:function(t){e.music_level_range=t},expression:"music_level_range"}})],1)],1),e._v(" "),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:2}},[a("span",[e._v("选择曲目")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-table",{attrs:{data:e.music_list},on:{"selection-change":e.table_album_selection_change}},[a("el-table-column",{attrs:{type:"selection",fixed:"left",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"歌曲名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"来自曲包",prop:"album",filters:e.album_names,"filter-method":e.table_album_filter_method}}),e._v(" "),a("el-table-column",{attrs:{label:"包含难度",prop:"difficulties",formatter:e.table_album_formatter_method}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Oe=a("VU/8")(je,Ae,!1,function(e){a("Y0h5")},"data-v-5170cb42",null).exports,Le={name:"MusicPass",data:function(){var e=[];pe.albums.forEach(function(t,a){var n={label:t.name,value:a,children:[]};t.playlist.forEach(function(e,t){return n.children.push({label:e.name,value:t})}),e.push(n)});var t=[];return pe.albums.forEach(function(e,a){e.playlist.forEach(function(a,n){var r=[parseInt(a.difficulty1),parseInt(a.difficulty2),parseInt(a.difficulty3)];t.push({uid:a.uid,name:a.name,index:n,album:e.name,difficulties:r})})}),{chart_toolbox:{feature:{magicType:{type:["bar"]},saveAsImage:{}}},chart_data:{columns:[],rows:[]},chart_empty:!0,chart_loading:!1,chart_settings:{label:{show:!0,position:"top",formatter:"{c}\n{a}"}},chart_title:{show:!0,text:""},date_range:[me()({hour:0,minutes:0,seconds:0}).toDate(),me()({hour:23,minutes:59,seconds:59}).toDate()],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()-864e4},shortcuts:[{text:"今天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()),e.$emit("pick",[a,t])}},{text:"昨天",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-864e5),e.$emit("pick",[a,t])}},{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-5184e5),e.$emit("pick",[a,t])}}]},selected_music:[],music_level_range:[1,19],music_list:t,album_names:pe.albums.map(function(e,t){return{text:e.name,value:e.name}}),active_tab_name:"filter_by_mixed_condition"}},methods:{refresh:function(){var e=this;return ie()(te.a.mark(function t(){return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.chart_loading=!0,t.prev=1,"filter_by_mixed_condition"!==e.active_tab_name){t.next=7;break}e.fetch_pass_data(),e.chart_title.text="综合统计图",t.next=9;break;case 7:return e.chart_empty=!0,t.abrupt("return");case 9:e.chart_empty=!1,t.next=16;break;case 12:throw t.prev=12,t.t0=t.catch(1),e.chart_empty=!0,t.t0;case 16:return t.prev=16,e.chart_loading=!1,t.finish(16);case 19:case"end":return t.stop()}},t,e,[[1,12,16,19]])}))()},fetch_pass_data:function(){var e=this;return ie()(te.a.mark(function t(){var a,n,r,i,o,s,l,c,u,d,p,f,m,h,_;return te.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.chart_data.columns=["谱面","通关","未通关"],e.chart_data.rows=[],a=ne()(e.music_level_range,2),n=a[0],r=a[1],i=!0,o=!1,s=void 0,t.prev=6,l=xe()(e.selected_music);case 8:if(i=(c=l.next()).done){t.next=47;break}u=c.value,d=!0,p=!1,f=void 0,t.prev=13,m=xe()(u.difficulties.filter(function(e){return e>=n&&e<=r}));case 15:if(d=(h=m.next()).done){t.next=30;break}return _=h.value,t.t0=e.chart_data.rows,t.t1=u.name+": 难度 "+_,t.next=21,e.build_query(u.uid,_).equalTo("Finished",!0).count();case 21:return t.t2=t.sent,t.next=24,e.build_query(u.uid,_).equalTo("Finished",!1).count();case 24:t.t3=t.sent,t.t4={"谱面":t.t1,"通关":t.t2,"未通关":t.t3},t.t0.push.call(t.t0,t.t4);case 27:d=!0,t.next=15;break;case 30:t.next=36;break;case 32:t.prev=32,t.t5=t.catch(13),p=!0,f=t.t5;case 36:t.prev=36,t.prev=37,!d&&m.return&&m.return();case 39:if(t.prev=39,!p){t.next=42;break}throw f;case 42:return t.finish(39);case 43:return t.finish(36);case 44:i=!0,t.next=8;break;case 47:t.next=53;break;case 49:t.prev=49,t.t6=t.catch(6),o=!0,s=t.t6;case 53:t.prev=53,t.prev=54,!i&&l.return&&l.return();case 56:if(t.prev=56,!o){t.next=59;break}throw s;case 59:return t.finish(56);case 60:return t.finish(53);case 61:e.$refs.data_chart.echarts.resize();case 62:case"end":return t.stop()}},t,e,[[6,49,53,61],[13,32,36,44],[37,,39,43],[54,,56,60]])}))()},build_query:function(e,t,a){var n=new he.Query("PlayStatistics").greaterThanOrEqualTo("createdAt",this.date_range[0]).lessThanOrEqualTo("createdAt",this.date_range[1]);return e&&n.equalTo("MusicUID",e),t&&n.equalTo("MusicLevel",t),a&&n.equalTo("CharacterUID",a),console.log("--------- 通关率"),console.log(n),n},table_album_filter_method:function(e,t,a){return e===t.album},table_album_formatter_method:function(e,t,a,n){return a.join(", ")},table_album_selection_change:function(e){this.selected_music=e},table_acc_add_row:function(e){}},computed:{level_groups:function(){for(var e=this.by_level_form.level_group,t=ne()(this.by_level_form.level_range,2),a=t[0],n=t[1],r=a>0?[[0,a]]:[],i=a;i+e<n;i+=e)r.push([i,i+e]);return r.push([r[r.length-1][1],n]),r},character_dimension:function(){for(var e=[],t=0;t<pe.characters.length;t++){var a=pe.characters[t];e.push(""+a.cosName)}return e},elfin_dimension:function(){for(var e=[],t=0;t<pe.elfins.length;t++){var a=pe.elfins[t];e.push(a.name)}return e},chart_zoom:function(){return[{type:"slider",start:0,end:3/this.chart_data.rows.length*100-1}]}}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-row",{attrs:{slot:"header",type:"flex",justify:"left",align:"center",gutter:20},slot:"header"},[a("el-col",{attrs:{span:4}},[a("span",{staticClass:"chart-title"},[e._v("关卡通关率")])]),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{offset:15,span:6}},[a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.date_range,callback:function(t){e.date_range=t},expression:"date_range"}})],1),e._v(" "),a("el-col",{staticClass:"flex-col-center",attrs:{span:1}},[a("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.refresh}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24,width:"100%"}},[a("ve-histogram",{ref:"data_chart",attrs:{data:e.chart_data,title:e.chart_title,settings:e.chart_settings,"data-empty":e.chart_empty,loading:e.chart_loading,toolbox:e.chart_toolbox,"data-zoom":e.chart_zoom}})],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{model:{value:e.active_tab_name,callback:function(t){e.active_tab_name=t},expression:"active_tab_name"}},[a("el-tab-pane",{staticClass:"tab-pane-padding",attrs:{label:"综合过滤",name:"filter_by_mixed_condition"}},[a("el-row",{staticClass:"form-row",attrs:{type:"flex",justify:"left",align:"center"}},[a("el-col",{staticClass:"flex-col-center",attrs:{span:2}},[a("span",[e._v("选择难度区间")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-slider",{attrs:{"show-stops":"",range:"",min:1,max:19},model:{value:e.music_level_range,callback:function(t){e.music_level_range=t},expression:"music_level_range"}})],1)],1),e._v(" "),a("el-row",{staticClass:"form-row"},[a("el-col",{attrs:{span:2}},[a("span",[e._v("选择曲目")])]),e._v(" "),a("el-col",{attrs:{span:22}},[a("el-table",{attrs:{data:e.music_list},on:{"selection-change":e.table_album_selection_change}},[a("el-table-column",{attrs:{type:"selection",fixed:"left",width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"歌曲名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{label:"来自曲包",prop:"album",filters:e.album_names,"filter-method":e.table_album_filter_method}}),e._v(" "),a("el-table-column",{attrs:{label:"包含难度",prop:"difficulties",formatter:e.table_album_formatter_method}})],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var Re={name:"PlayStatistics",components:{MusicAcc:Pe,ElfinUsage:ke,CharacterUsage:be,MusicPass:a("VU/8")(Le,ze,!1,function(e){a("+Cpx")},"data-v-565bf13c",null).exports,MusicFullCombo:Oe}},qe={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("el-tabs",{attrs:{type:"border-card"}},[t("el-tab-pane",{attrs:{label:"角色使用率查看"}},[t("el-row",{staticClass:"statistics-row"},[t("el-col",{attrs:{span:24}},[t("character-usage")],1)],1)],1),this._v(" "),t("el-tab-pane",{attrs:{label:"精灵使用率查看"}},[t("el-row",{staticClass:"statistics-row"},[t("el-col",{attrs:{span:24}},[t("elfin-usage")],1)],1)],1),this._v(" "),t("el-tab-pane",{attrs:{label:"关卡通关率"}},[t("el-row",{staticClass:"statistics-row"},[t("el-col",{attrs:{span:24}},[t("music-pass")],1)],1)],1),this._v(" "),t("el-tab-pane",{attrs:{label:"关卡全连率"}},[t("el-row",{staticClass:"statistics-row"},[t("el-col",{attrs:{span:24}},[t("music-full-combo")],1)],1)],1),this._v(" "),t("el-tab-pane",{attrs:{label:"关卡准确率查看"}},[t("el-row",{staticClass:"statistics-row"},[t("el-col",{attrs:{span:24}},[t("music-acc")],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ue=a("VU/8")(Re,qe,!1,function(e){a("z5n0")},"data-v-6920f70e",null).exports,Se=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Te=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Ie=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createUserForm={email:"",password:"",nickname:""},t.createUserFormRule={email:[{required:!0,message:"请输入邮箱"}],password:[{required:!0,message:"请输入密码"}],nickname:[{required:!0,message:"请输入昵称"}]},t}return Se(t,e),t.prototype.submitForm=function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error"),!1;t.$emit("submit",t.createUserForm)})},t.prototype.resetForm=function(e){this.$refs[e].resetFields()},Te([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=Te([I()({name:"CreateUserDialog"})],t)}(n.default),Fe={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"创建用户",visible:t.visible},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"createUserForm",attrs:{model:t.createUserForm,rules:t.createUserFormRule,inline:"inline"}},[n("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[n("el-input",{attrs:{type:"email"},model:{value:t.createUserForm.email,callback:function(e){t.$set(t.createUserForm,"email",e)},expression:"createUserForm.email"}})],1),n("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[n("el-input",{model:{value:t.createUserForm.nickname,callback:function(e){t.$set(t.createUserForm,"nickname",e)},expression:"createUserForm.nickname"}})],1),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password"},model:{value:t.createUserForm.password,callback:function(e){t.$set(t.createUserForm,"password",e)},expression:"createUserForm.password"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitForm("createUserForm")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.resetForm("createUserForm")}}},[t._v("重置")]),n("el-button",{on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)],1)},staticRenderFns:[]};var $e=a("VU/8")(Ie,Fe,!1,function(e){a("rIr3")},"data-v-1b36427a",null).exports,Ve=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},Ee={formatUTCUnixTimestamp:He,getMusicNameByUID:function(e){for(var t=0;t<F.length;t++)for(var a=F[t],n=0;n<a.playlist.length;n++){var r=a.playlist[n];if(r.uid==e)return r.name}return"unknown"},getCharacterNameByUID:function(e){var t=se.a[parseInt(e)];return t?t.cosName+" - "+t.characterName:e?'未知角色 "'+e+'"':"无"},getElfinNameByUID:function(e){var t=ue.a[parseInt(e)];return t?t.name+" - "+t.chipName:e?'未知精灵 "'+e+'"':"无"},formatPlayerExp:function(e){return e/100+1},getDifficultyNameByLevel:function(e){return{1:"萌新难度",2:"高手难度",3:"大触难度"}[e]},getProductNameByID:function(e){return F.filter(function(t){return t.product===e}).map(function(e){return e.name}).pop()}},Me=$.filter(function(e){return e.product}).map(function(e){return{label:e.name,value:e.product}});function He(e){var t=me.a.utc(new Date(1e3*e)).toDate();return me()(t).format("YYYY-MM-DD hh:mm a")}function Je(e,t){var a=Ve(e.split("-").map(function(e){return parseInt(e)}),2),n=a[0],r=a[1];return 65536*parseInt(n,10)+256*parseInt(r,10)+parseInt(t,10)}var Ge=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Be=this&&this.__assign||function(){return(Be=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ye=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Ne=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},Xe=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.giftProduct="music_package_1",t.difficultyLevelTextStyle={1:"text-easy",2:"text-hard",3:"text-insane"},t.products=Me,t}return Ge(t,e),t.prototype.togglePurchaseValidation=function(e,t){return Ne(this,void 0,void 0,function(){var a;return Xe(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.requestToggleUserPurchaseState(e,{},{purchase_id:t})];case 1:return 0!==(a=n.sent()).data.code&&this.$message.error("无法切换内购状态，错误："+a.data.error),[3,3];case 2:return n.sent(),this.$message.error("网络错误，无法切换内购状态。"),[3,3];case 3:return this.refresh(),[2]}})})},t.prototype.changeNickname=function(){return Ne(this,void 0,void 0,function(){var e;return Xe(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.requestChangeUser({},this.userDetail.uid,{nickname:this.userDetail.profile.nickname})];case 1:return 0!==(e=t.sent()).data.code&&this.$message.error("无法修改昵称，错误："+e.data.error),[3,3];case 2:return t.sent(),this.$message.error("网络错误，无法修改昵称。"),[3,3];case 3:return this.refresh(),[2]}})})},t.prototype.displayPlayerExp=function(e){if(e.save_v1&&e.save_v1.Account){var t=JSON.parse(e.save_v1.Account).Exp;return Math.floor(t/100+1)}return"无数据"},t.prototype.resetEnhancedSave=function(){return Ne(this,void 0,void 0,function(){var e;return Xe(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.requestResetEnhancedSave(this.userDetail.uid,{})];case 1:return 0!==(e=t.sent()).data.code?this.$message.error("无法重置存档，错误："+e.data.error):this.$message.success("存档已经重置。"),[3,3];case 2:return t.sent(),this.$message.error("网络错误，无法重置存档。"),[3,3];case 3:return this.refresh(),[2]}})})},t.prototype.sendGiftToUser=function(){return Ne(this,void 0,void 0,function(){var e;return Xe(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_.requestSendGiftToUser(this.userDetail.uid,{},{product:this.giftProduct})];case 1:return 0!==(e=t.sent()).data.code&&this.$message.error("无法赠送礼物，错误："+e.data.error),[3,3];case 2:return t.sent(),this.$message.error("网络错误，无法赠送礼物。"),[3,3];case 3:return this.refresh(),[2]}})})},t.prototype.refresh=function(){this.$emit("refresh")},Ye([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),Ye([Object(V.a)({default:function(){return new g}})],t.prototype,"userDetail",void 0),t=Ye([I()({filters:Be({},Ee)})],t)}(n.default),Ke={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"用户详情",visible:e.visible,width:"70%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"玩家ID"}},[e._v(e._s(e.userDetail.uid))]),a("el-form-item",{attrs:{label:"心动ID"}},[e._v(e._s(e.userDetail.xd_3rd_id))]),a("el-form-item",{attrs:{label:"天下网游ID"}},[e._v(e._s(e.userDetail.txwy_3rd_id))]),a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{staticClass:"nickname-input",model:{value:e.userDetail.profile.nickname,callback:function(t){e.$set(e.userDetail.profile,"nickname",t)},expression:"userDetail.profile.nickname"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.changeNickname},slot:"append"},[a("el-icon",{staticClass:"el-icon-check"})],1)],1)],1),a("el-form-item",{attrs:{label:"注册于"}},[e._v(e._s(e._f("formatUTCUnixTimestamp")(e.userDetail.created_at)))]),a("el-form-item",{attrs:{label:"近期登陆"}},[e._v(e._s(e._f("formatUTCUnixTimestamp")(e.userDetail.updated_at)))]),a("el-form-item",{attrs:{label:"玩家等级"}},[a("span",{staticClass:"text-success"},[e._v(e._s(e.displayPlayerExp(e.userDetail)))])]),a("el-form-item",{attrs:{label:"存档legacy"}},[a("div",[a("el-row",{staticClass:"function-area-row"},[a("el-col",{attrs:{span:2}},[a("span",[e._v("最后更新时间")])]),a("el-col",{attrs:{span:2}},[e.userDetail.legacy_save.account?a("span",{staticClass:"text-success"},[e._v(e._s(e._f("formatUTCUnixTimestamp")(e.userDetail.legacy_save.account.updated_at)))]):a("span",{staticClass:"text-warning"},[e._v("无数据")])])],1),a("el-row",{staticClass:"function-area-row"},[a("el-col",[a("el-button",{attrs:{type:"danger",plain:"plain"}},[e._v("重置")])],1)],1)],1)]),a("el-form-item",{attrs:{label:"存档v1"}},[a("el-row",{staticClass:"function-area-row"},[a("el-col",{attrs:{span:2}},[a("span",[e._v("最后更新时间")])]),a("el-col",{attrs:{span:2}},[e.userDetail.save_v1?a("span",{staticClass:"text-success"},[e._v(e._s(e._f("formatUTCUnixTimestamp")(e.userDetail.save_v1.updated_at)))]):a("span",{staticClass:"text-warning"},[e._v("无数据")])])],1),a("el-row",{staticClass:"function-area-row"},[a("el-col",[a("el-button",{attrs:{type:"danger",plain:"plain"}},[e._v("重置")])],1)],1)],1),a("el-form-item",{attrs:{label:"内购记录"}},[a("div",[a("el-row",[a("el-table",{attrs:{data:e.userDetail.purchases}},[a("el-table-column",{attrs:{label:"购买时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatUTCUnixTimestamp")(t.row.created_at)))])]}}])}),a("el-table-column",{attrs:{label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.order_id))])]}}])}),a("el-table-column",{attrs:{label:"产品名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("getProductNameByID")(t.row.product_id)))])]}}])}),a("el-table-column",{attrs:{label:"支付金额"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.gold/100))])]}}])}),a("el-table-column",{attrs:{prop:"price",label:"单价"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.price/100))])]}}])}),a("el-table-column",{attrs:{label:"购买时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("formatUTCUnixTimestamp")(t.row.created_at)))])]}}])}),a("el-table-column",{attrs:{label:"校验"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{value:t.row.validation,"inactive-text":"无效","active-text":"有效","inactive-color":"#797979","active-color":"#ff99d0"},on:{change:function(a){e.togglePurchaseValidation(e.userDetail.uid,t.row.object_id)}}})]}}])})],1)],1),a("el-row",[a("el-col",[a("el-select",{staticStyle:{width:"230px","margin-right":"18px"},attrs:{value:""},model:{value:e.giftProduct,callback:function(t){e.giftProduct=t},expression:"giftProduct"}},e._l(e.products,function(e){return a("el-option",{key:e.order_id,attrs:{value:e.value,label:e.label}})})),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.sendGiftToUser}},[e._v("赠送曲包")])],1)],1)],1)]),a("el-form-item",{attrs:{label:"个人排行"}},[a("el-table",{attrs:{data:e.userDetail.leaderboard}},[a("el-table-column",{attrs:{prop:"music_uid",label:"曲目"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.music_uid)+" - "+e._s(e._f("getMusicNameByUID")(t.row.music_uid)))])]}}])}),a("el-table-column",{attrs:{prop:"music_difficulty",label:"难度",width:"98px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:e.difficultyLevelTextStyle[t.row.music_difficulty]},[e._v(e._s(e._f("getDifficultyNameByLevel")(t.row.music_difficulty)))])]}}])}),a("el-table-column",{attrs:{prop:"score",label:"分数",width:"64px"}}),a("el-table-column",{attrs:{prop:"acc",label:"准确率",width:"120px"}}),a("el-table-column",{attrs:{prop:"character_uid",label:"角色",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.character_uid)+" - "+e._s(e._f("getCharacterNameByUID")(t.row.character_uid)))])]}}])}),a("el-table-column",{attrs:{prop:"elfin_uid",label:"精灵",width:"142px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.elfin_uid?a("span",[e._v(e._s(t.row.elfin_uid)+" - "+e._s(e._f("getElfinNameByUID")(t.row.elfin_uid)))]):a("span",{staticClass:"text-warning"},[e._v("无")])]}}])}),a("el-table-column",{attrs:{label:"功能",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",plain:"plain"}},[e._v("删除")])]}}])})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.$emit("update:visible",!1)}}},[e._v("关闭")])],1)],1)},staticRenderFns:[]};var Qe=a("VU/8")(Ze,Ke,!1,function(e){a("JqiM")},"data-v-43c83362",null).exports,We=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),et=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},tt=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},at=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.userDetailDialogVisible=!1,t.userDetailDialogUser=new g,t.userCreateDialogVisible=!1,t.page=1,t.size=20,t.users=[],t.total=0,t.usersMap=new Map,t.searchText="",t.searchMode="nickname",t}return We(t,e),Object.defineProperty(t.prototype,"userListParams",{get:function(){return{page:this.page,size:this.size,query:this.searchText,mode:this.searchMode}},enumerable:!0,configurable:!0}),t.prototype.createUser=function(e){return tt(this,void 0,void 0,function(){var t;return at(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_.requestCreateUser({email:e.email,password:e.password,nickname:e.nickname},{})];case 1:return 0!==(t=a.sent()).data.code?this.$message.error("创建玩家失败，错误："+t.data.error):(this.$message.success("创建玩家成功，玩家昵称"+t.data.detail.profile.nickname),this.userCreateDialogVisible=!1,this.refresh()),[3,3];case 2:return a.sent(),this.$message.error("网络错误，创建玩家失败。"),[3,3];case 3:return[2]}})})},t.prototype.showUserDetail=function(e){return tt(this,void 0,void 0,function(){var t;return at(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_.requestGetUserDetail(e,{})];case 1:return 0!==(t=a.sent()).data.code?this.$message.error("获取用户详情失败，错误："+t.data.error):(this.userDetailDialogUser=t.data,this.userDetailDialogVisible=!0),[3,3];case 2:return a.sent(),this.$message.error("网络错误，获取用户详情失败。"),[3,3];case 3:return[2]}})})},t.prototype.deleteUser=function(e){var t=this;this.$confirm("真的要删除这个用户吗？删除操作将无法撤回。","确认删除").then(function(a){return tt(t,void 0,void 0,function(){var t;return at(this,function(a){switch(a.label){case 0:return[4,_.requestDeleteUser({},e)];case 1:return 0!==(t=a.sent()).data.code?this.$message.error("删除用户失败，错误："+t.data.error):this.refresh(),[2]}})})}).catch(function(e){})},t.prototype.BanUser=function(e,t,a,n){var r=this;null==n&&(n=!0),this.$confirm("真的要封禁这个用户吗？封禁后可以再次解开。","确认封禁").then(function(i){return tt(r,void 0,void 0,function(){var r;return at(this,function(i){switch(i.label){case 0:return[4,_.requestBanUser({},e,{role:t,ban:n,nickname:a})];case 1:return 0!=(r=i.sent()).data.code?this.$message.error("封禁用户失败，错误："+r.data.error):this.refresh(),[2]}})})}).catch(function(e){})},t.prototype.searchUser=function(){this.page=1,this.refresh()},t.prototype.refresh=function(){return tt(this,void 0,void 0,function(){var e,t=this;return at(this,function(a){switch(a.label){case 0:return[4,_.requestGetUserList(this.userListParams)];case 1:return 0!==(e=a.sent()).data.code?this.$message.error("获取数据失败，错误原因："+e.data.error):(this.$message.success("已更新当前数据"),this.users=e.data.items,this.usersMap.clear(),this.users.forEach(function(e){return t.usersMap[e.uid]=e}),this.total=e.data.total),[2]}})})},t.prototype.mounted=function(){return tt(this,void 0,void 0,function(){return at(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.refresh()];case 1:return e.sent(),[3,3];case 2:return e.sent(),this.$message.error("刷新数据失败：网络错误"),[3,3];case 3:return[2]}})})},et([Object(V.c)("page"),Object(V.c)("size")],t.prototype,"refresh",null),t=et([I()({name:"UserManagement",components:{UserDetailDialog:Qe,CreateUserDialog:$e},filters:{formatUTCUnixTimestamp:He,legacyAccount:function(e){return e.Account?e.Account:{data:"",created_at:0,updated_at:0}}}})],t)}(n.default),rt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",{attrs:{slot:"header"},slot:"header"},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(t){e.userCreateDialogVisible=!0}}},[e._v("创建用户")]),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1)],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"搜索玩家昵称、用户id或心动id"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[a("el-select",{staticClass:"input-with-select",attrs:{slot:"prepend",value:"nickname"},slot:"prepend",model:{value:e.searchMode,callback:function(t){e.searchMode=t},expression:"searchMode"}},[a("el-option",{attrs:{value:"nickname",label:"昵称搜索"}}),a("el-option",{attrs:{value:"id",label:"ID搜索"}})],1),a("el-button",{attrs:{slot:"append"},on:{click:e.searchUser},slot:"append"},[a("el-icon",{staticClass:"el-icon-search"})],1)],1)],1)],1),a("el-table",{attrs:{data:e.users}},[a("el-table-column",{attrs:{fixed:"left",prop:"created_at",label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatUTCUnixTimestamp")(t.row.created_at)))]}}])}),a("el-table-column",{attrs:{prop:"uid",label:"用户ID"}}),a("el-table-column",{attrs:{prop:"profile.nickname",label:"昵称"}}),a("el-table-column",{attrs:{prop:"email",label:"用户邮箱"}}),a("el-table-column",{attrs:{prop:"xd_3rd_id",label:"心动id",width:"130"}}),a("el-table-column",{attrs:{prop:"txwy_3rd_id",label:"天下网游id",width:"130"}}),a("el-table-column",{attrs:{label:"用户手机号"},scopedSlots:e._u([{key:"default",fn:function(t){return[null!==t.row.phone_number?a("span",[e._v("+"+e._s(t.row.nation_code)+" "+e._s(t.row.phone_number))]):e._e()]}}])}),a("el-table-column",{attrs:{label:"权限管理-角色"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{value:t.row.role},on:{change:function(a){return e.changeUserRole(t.row.uid,a)}}},[a("el-option",{attrs:{value:"admin",label:"管理员"}}),a("el-option",{attrs:{value:"player",label:"玩家"}}),a("el-option",{attrs:{value:"guest",label:"访客"}})],1)]}}])}),a("el-table-column",{attrs:{label:"功能","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){e.showUserDetail(t.row.uid)}}},[e._v("详情")]),a("el-button",{attrs:{type:"warning",plain:"plain"},on:{click:function(a){e.BanUser(t.row.uid,t.row.role,t.row.profile.nickname,t.row.ban)}}},[e._v("封禁用户")]),a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(a){e.deleteUser(t.row.uid)}}},[e._v("删除")])]}}])})],1),a("div",{staticStyle:{width:"100%","margin-top":"18px"},attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"total,sizes,prev,pager,next",total:e.total,"current-page":e.page,"page-size":e.size},on:{"current-change":function(t){return e.page=t},"size-change":function(t){return e.size=t}}})],1)],1),a("create-user-dialog",{attrs:{visible:e.userCreateDialogVisible},on:{"update:visible":function(t){e.userCreateDialogVisible=t},submit:e.createUser}}),a("user-detail-dialog",{attrs:{visible:e.userDetailDialogVisible,"user-detail":e.userDetailDialogUser},on:{"update:visible":function(t){e.userDetailDialogVisible=t}}})],1)},staticRenderFns:[]};var it=a("VU/8")(nt,rt,!1,function(e){a("xY57")},null,null).exports,ot=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),st=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},lt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.musicOptions=$.map(function(e){return{value:e.name,label:e.name,children:e.playlist.map(function(e){return{value:e.uid,label:e.uid+" - "+e.name,children:[{label:"萌新 -> "+Je(e.uid,1),value:1,disabled:"0"===e.difficulty1},{label:"高手 -> "+Je(e.uid,2),value:2,disabled:"0"===e.difficulty2},{label:"大触 -> "+Je(e.uid,3),value:3,disabled:"0"===e.difficulty3}]}})}}),t}return ot(t,e),st([Object(V.a)()],t.prototype,"selected",void 0),st([Object(V.a)()],t.prototype,"bmsid",void 0),t=st([I.a],t)}(n.default),ct={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{attrs:{options:e.musicOptions,value:e.selected,placeholder:"请选择谱面..."},on:{change:function(t){return e.$emit("update:selected",t)}}})},staticRenderFns:[]};var ut=a("VU/8")(lt,ct,!1,function(e){a("d7vZ")},"data-v-a8cba3ac",null).exports,dt=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),pt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return dt(t,e),pt([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=pt([I()({name:"DeleteLeaderBoardDialog"})],t)}(n.default),mt={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"删除排行榜条目",visible:t.visible,width:"30%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("span",[t._v("确定要删除这个排行榜条目吗？")]),n("span",[t._v("一旦删除之后，将会无法恢复数据！！！！")]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(e){t.$emit("submit")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)])},staticRenderFns:[]},ht=a("VU/8")(ft,mt,!1,null,null,null).exports,_t=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),vt=this&&this.__assign||function(){return(vt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},bt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},yt=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},gt=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},kt=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},wt=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],a=0;return t?t.call(e):{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}}},xt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rebuilding=!1,t.rebuildingTotal=1,t.rebuildingCurrent=0,t.page=1,t.size=100,t.total=0,t.selectedMusic=[],t.leaderboardData=[],t.bmsId=0,t.userId="",t.LeadBoardDeleteDialogVisible=!1,t}return _t(t,e),t.prototype.refresh=function(){return yt(this,void 0,void 0,function(){var e,t,a,n;return gt(this,function(r){switch(r.label){case 0:return e=kt(this.selectedMusic,3),e[0],t=e[1],a=e[2],[4,_.requestGetLeaderboard(Je(t,a),{music_uid:t,music_difficulty:a,page:this.page,size:this.size})];case 1:return 0!==(n=r.sent()).data.code?this.$message.error("无法取得排名数据，错误："+n.data.error):(this.total=n.data.total,this.leaderboardData=n.data.result),0===n.data.result.length?this.$message.warning("已更新排行, 但是没有数据, 可能需要重建当前歌曲排行榜."):this.$message.success("已更新排行"),[2]}})})},t.prototype.leaderboardFullRebuild=function(){return yt(this,void 0,void 0,function(){var e,t,a,n,r,i,o,s;return gt(this,function(l){switch(l.label){case 0:return[4,this.$confirm("确定要完全重建排行榜吗？该操作可能导致严重后果，耗时数分钟到数十分钟，如果你不了解你在做什么，请取消操作。","确认完全重建排行榜")];case 1:if(!l.sent())return[2];a=[],$.forEach(function(e){return e.playlist.forEach(function(e){return a.push(e)})}),this.rebuilding=!0,this.rebuildingTotal=a.length,this.rebuildingCurrent=0,l.label=2;case 2:l.trys.push([2,,14,15]),l.label=3;case 3:l.trys.push([3,11,12,13]),n=wt(a),r=n.next(),l.label=4;case 4:if(r.done)return[3,10];i=r.value,o=0,l.label=5;case 5:return o<3?[4,this._doLeaderboardRebuild(i.uid,o)]:[3,8];case 6:l.sent(),l.label=7;case 7:return o++,[3,5];case 8:this.rebuildingCurrent+=1,l.label=9;case 9:return r=n.next(),[3,4];case 10:return[3,13];case 11:return s=l.sent(),e={error:s},[3,13];case 12:try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}return[7];case 13:return this.$message.success("重建所有排名完成，请检查重建结果是否符合预期。"),[3,15];case 14:return this.rebuilding=!1,[7];case 15:return[2]}})})},t.prototype.leaderboardDeleteByUser=function(e,t){return yt(this,void 0,void 0,function(){var a;return gt(this,function(n){switch(n.label){case 0:return[4,_.requestDeleteLeaderboardByUser(e,t,{},{})];case 1:return 0!=(a=n.sent()).data.code?this.$message.error("删除排行榜失败，错误："+a.data.error):(this.$message.success("删除公告成功!"),this.LeadBoardDeleteDialogVisible=!1,this.refresh()),[2]}})})},t.prototype.showDeleteLeadBoard=function(e,t){this.LeadBoardDeleteDialogVisible=!0,this.bmsId=e,this.userId=t},t.prototype.leaderboardRebuild=function(){return yt(this,void 0,void 0,function(){var e,t,a,n=this;return gt(this,function(r){switch(r.label){case 0:if(!this.$confirm("确定要重建当前排行榜吗？该操作可能导致严重后果，如果你不了解你在做什么，请取消操作。","确认重建排行榜"))return[2];e=kt(this.selectedMusic,3),e[0],t=e[1],a=e[2],this.rebuilding=!0,this.rebuildingCurrent=0,this.rebuildingTotal=1,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this._doLeaderboardRebuild(t,a)];case 2:return r.sent(),this.rebuildingCurrent=1,this.$message.success("排名重建已经完成，请检查重建结果。"),setTimeout(function(){n.refresh()},3e3),[3,4];case 3:return this.rebuildingCurrent=0,this.rebuilding=!1,[7];case 4:return[2]}})})},t.prototype._doLeaderboardRebuild=function(e,t){return yt(this,void 0,void 0,function(){var a;return gt(this,function(n){switch(n.label){case 0:return[4,_.requestRebuildLeaderboard({},{playlist:[{uid:e,difficulty:t}]})];case 1:return 0!==(a=n.sent()).data.code?(this.$message.error("无法重建排行，错误："+a.data.error),[2]):[2]}})})},bt([Object(V.c)("page"),Object(V.c)("size"),Object(V.c)("selectedMusic")],t.prototype,"refresh",null),t=bt([I()({name:"Leaderboard",components:{DeleteLeaderBoardDialog:ht,MusicOptions:ut},filters:vt({},Ee)})],t)}(n.default),Dt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[e.rebuilding?a("div",{staticClass:"rebuilding-mask",attrs:{align:"center"}},[a("p",{staticStyle:{position:"absolute",top:"45%",left:"45%"}},[a("br"),a("br"),a("el-progress",{attrs:{type:"circle",percentage:Math.floor(e.rebuildingCurrent/e.rebuildingTotal*100)}})],1)]):e._e(),a("el-row",{attrs:{slot:"header",gutter:20},slot:"header"},[a("el-col",{attrs:{span:1}},[a("el-button",{attrs:{plain:"plain",type:"primary"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1)],1),a("el-col",{attrs:{span:6}},[a("music-options",{attrs:{selected:e.selectedMusic},on:{"update:selected":function(t){e.selectedMusic=t}}})],1),a("el-col",{attrs:{span:6}},[a("el-tooltip",{attrs:{content:"危险操作：可能导致排行榜服务长时无响应",placement:"top"}},[a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:e.leaderboardFullRebuild}},[e._v("完全重建排行")])],1),a("el-tooltip",{attrs:{content:"只重建当前排名，可能造成短时间无响应，只在确定自己要做什么的情况下使用",placement:"top"}},[a("el-button",{attrs:{type:"warning",plain:"plain"},on:{click:e.leaderboardRebuild}},[e._v("重建当前排行")])],1)],1)],1),a("el-table",{attrs:{data:e.leaderboardData}},[a("el-table-column",{attrs:{label:"排名",type:"index"}}),a("el-table-column",{attrs:{label:"昵称",prop:"user.nickname"}}),a("el-table-column",{attrs:{label:"分数",prop:"play.score"}}),a("el-table-column",{attrs:{label:"准确率",prop:"play.acc"}}),a("el-table-column",{attrs:{label:"最大连击",prop:"play.combo"}}),a("el-table-column",{attrs:{label:"角色",prop:"play.character_uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.play.character_uid)+" - "+e._s(e._f("getCharacterNameByUID")(t.row.play.character_uid)))])]}}])}),a("el-table-column",{attrs:{label:"精灵",prop:"play.elfin_uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.play.elfin_uid)+" - "+e._s(e._f("getElfinNameByUID")(t.row.play.elfin_uid)))])]}}])}),a("el-table-column",{attrs:{label:"功能"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(a){e.showDeleteLeadBoard(t.row.play.bms_id,t.row.play.user_id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination-box",attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"sizes, prev, pager, next","page-size":e.size,"current-page":e.page,total:e.total},on:{"update:pageSize":function(t){e.size=t},"update:currentPage":function(t){e.page=t}}})],1),a("delete-leader-board-dialog",{attrs:{visible:e.LeadBoardDeleteDialogVisible},on:{"update:visible":function(t){e.LeadBoardDeleteDialogVisible=t},submit:function(t){e.leaderboardDeleteByUser(e.bmsId,e.userId)}}})],1)},staticRenderFns:[]};var Ct=a("VU/8")(xt,Dt,!1,function(e){a("l0qk")},"data-v-334f45fe",null).exports,Pt=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),jt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},At=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pt(t,e),jt([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=jt([I()({name:"DeletePCLeaderBoardDialog"})],t)}(n.default),Ot={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"删除排行榜条目",visible:t.visible,width:"30%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("span",[t._v("确定要删除这个排行榜条目吗？")]),n("span",[t._v("一旦删除之后，将会无法恢复数据！！！！")]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(e){t.$emit("submit")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)])},staticRenderFns:[]},Lt=a("VU/8")(At,Ot,!1,null,null,null).exports,zt=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Rt=this&&this.__assign||function(){return(Rt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},qt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Ut=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},St=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Tt=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},It=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],a=0;return t?t.call(e):{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}}},Ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rebuilding=!1,t.rebuildingTotal=1,t.rebuildingCurrent=0,t.page=1,t.size=100,t.total=0,t.selectedMusic=[],t.leaderboardData=[],t.bmsId=0,t.userId="",t.PCLeadBoardDeleteDialogVisible=!1,t}return zt(t,e),t.prototype.refresh=function(){return Ut(this,void 0,void 0,function(){var e,t,a,n;return St(this,function(r){switch(r.label){case 0:return e=Tt(this.selectedMusic,3),e[0],t=e[1],a=e[2],[4,_.requestGetPCLeaderboard(Je(t,a),{music_uid:t,music_difficulty:a,page:this.page,size:this.size})];case 1:return 0!==(n=r.sent()).data.code?this.$message.error("无法取得排名数据，错误："+n.data.error):(this.total=n.data.total,this.leaderboardData=n.data.result),0===n.data.result.length?this.$message.warning("已更新排行, 但是没有数据, 可能需要重建当前歌曲排行榜."):this.$message.success("已更新排行"),[2]}})})},t.prototype.leaderboardFullRebuild=function(){return Ut(this,void 0,void 0,function(){var e,t,a,n,r,i,o,s;return St(this,function(l){switch(l.label){case 0:return[4,this.$confirm("确定要完全重建排行榜吗？该操作可能导致严重后果，耗时数分钟到数十分钟，如果你不了解你在做什么，请取消操作。","确认完全重建排行榜")];case 1:if(!l.sent())return[2];a=[],$.forEach(function(e){return e.playlist.forEach(function(e){return a.push(e)})}),this.rebuilding=!0,this.rebuildingTotal=a.length,this.rebuildingCurrent=0,l.label=2;case 2:l.trys.push([2,,14,15]),l.label=3;case 3:l.trys.push([3,11,12,13]),n=It(a),r=n.next(),l.label=4;case 4:if(r.done)return[3,10];i=r.value,o=0,l.label=5;case 5:return o<3?[4,this._doLeaderboardRebuild(i.uid,o)]:[3,8];case 6:l.sent(),l.label=7;case 7:return o++,[3,5];case 8:this.rebuildingCurrent+=1,l.label=9;case 9:return r=n.next(),[3,4];case 10:return[3,13];case 11:return s=l.sent(),e={error:s},[3,13];case 12:try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}return[7];case 13:return this.$message.success("重建所有排名完成，请检查重建结果是否符合预期。"),[3,15];case 14:return this.rebuilding=!1,[7];case 15:return[2]}})})},t.prototype.leaderboardRebuild=function(){return Ut(this,void 0,void 0,function(){var e,t,a,n=this;return St(this,function(r){switch(r.label){case 0:if(!this.$confirm("确定要重建当前排行榜吗？该操作可能导致严重后果，如果你不了解你在做什么，请取消操作。","确认重建排行榜"))return[2];e=Tt(this.selectedMusic,3),e[0],t=e[1],a=e[2],this.rebuilding=!0,this.rebuildingCurrent=0,this.rebuildingTotal=1,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this._doLeaderboardRebuild(t,a)];case 2:return r.sent(),this.rebuildingCurrent=1,this.$message.success("排名重建已经完成，请检查重建结果。"),setTimeout(function(){n.refresh()},3e3),[3,4];case 3:return this.rebuildingCurrent=0,this.rebuilding=!1,[7];case 4:return[2]}})})},t.prototype.showDeletePCLeadBoard=function(e,t){this.PCLeadBoardDeleteDialogVisible=!0,this.bmsId=e,this.userId=t},t.prototype.PCleaderboardDeleteByUser=function(e,t){return Ut(this,void 0,void 0,function(){var a;return St(this,function(n){switch(n.label){case 0:return[4,_.requestDeletePCLeaderboardByUser(e,t,{},{})];case 1:return 0!=(a=n.sent()).data.code?this.$message.error("删除排行榜失败，错误："+a.data.error):(this.$message.success("删除公告成功!"),this.PCLeadBoardDeleteDialogVisible=!1,this.refresh()),[2]}})})},t.prototype._doLeaderboardRebuild=function(e,t){return Ut(this,void 0,void 0,function(){var a;return St(this,function(n){switch(n.label){case 0:return[4,_.requestRebuildPCLeaderboard({},{playlist:[{uid:e,difficulty:t}]})];case 1:return 0!==(a=n.sent()).data.code?(this.$message.error("无法重建排行，错误："+a.data.error),[2]):[2]}})})},qt([Object(V.c)("page"),Object(V.c)("size"),Object(V.c)("selectedMusic")],t.prototype,"refresh",null),t=qt([I()({name:"PCLeaderboard",components:{MusicOptions:ut,DeletePCLeaderBoardDialog:Lt},filters:Rt({},Ee)})],t)}(n.default),$t={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[e.rebuilding?a("div",{staticClass:"rebuilding-mask",attrs:{align:"center"}},[a("p",{staticStyle:{position:"absolute",top:"45%",left:"45%"}},[a("br"),a("br"),a("el-progress",{attrs:{type:"circle",percentage:Math.floor(e.rebuildingCurrent/e.rebuildingTotal*100)}})],1)]):e._e(),a("el-row",{attrs:{slot:"header",gutter:20},slot:"header"},[a("el-col",{attrs:{span:1}},[a("el-button",{attrs:{plain:"plain",type:"primary"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1)],1),a("el-col",{attrs:{span:6}},[a("music-options",{attrs:{selected:e.selectedMusic},on:{"update:selected":function(t){e.selectedMusic=t}}})],1),a("el-col",{attrs:{span:6}},[a("el-tooltip",{attrs:{content:"危险操作：可能导致排行榜服务长时无响应",placement:"top"}},[a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:e.leaderboardFullRebuild}},[e._v("完全重建排行")])],1),a("el-tooltip",{attrs:{content:"只重建当前排名，可能造成短时间无响应，只在确定自己要做什么的情况下使用",placement:"top"}},[a("el-button",{attrs:{type:"warning",plain:"plain"},on:{click:e.leaderboardRebuild}},[e._v("重建当前排行")])],1)],1)],1),a("el-table",{attrs:{data:e.leaderboardData}},[a("el-table-column",{attrs:{label:"排名",type:"index"}}),a("el-table-column",{attrs:{label:"昵称",prop:"user.nickname"}}),a("el-table-column",{attrs:{label:"分数",prop:"play.score"}}),a("el-table-column",{attrs:{label:"准确率",prop:"play.acc"}}),a("el-table-column",{attrs:{label:"最大连击",prop:"play.combo"}}),a("el-table-column",{attrs:{label:"角色",prop:"play.character_uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.play.character_uid)+" - "+e._s(e._f("getCharacterNameByUID")(t.row.play.character_uid)))])]}}])}),a("el-table-column",{attrs:{label:"精灵",prop:"play.elfin_uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.play.elfin_uid)+" - "+e._s(e._f("getElfinNameByUID")(t.row.play.elfin_uid)))])]}}])}),a("el-table-column",{attrs:{label:"功能"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(a){e.showDeletePCLeadBoard(t.row.play.bms_id,t.row.play.user_id)}}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination-box",attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"sizes, prev, pager, next","page-size":e.size,"current-page":e.page,total:e.total},on:{"update:pageSize":function(t){e.size=t},"update:currentPage":function(t){e.page=t}}})],1),a("delete-p-c-leader-board-dialog",{attrs:{visible:e.PCLeadBoardDeleteDialogVisible},on:{"update:visible":function(t){e.PCLeadBoardDeleteDialogVisible=t},submit:function(t){e.PCleaderboardDeleteByUser(e.bmsId,e.userId)}}})],1)},staticRenderFns:[]};var Vt=a("VU/8")(Ft,$t,!1,function(e){a("KRbH")},"data-v-411cce42",null).exports,Et=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Mt=this&&this.__assign||function(){return(Mt=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ht=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Jt=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},Gt=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Bt=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,r,i=a.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(a=i.return)&&a.call(i)}finally{if(r)throw r.error}}return o},Yt=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],a=0;return t?t.call(e):{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}}},Nt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rebuilding=!1,t.rebuildingTotal=1,t.rebuildingCurrent=0,t.page=1,t.size=100,t.total=0,t.selectedMusic=[],t.leaderboardData=[],t}return Et(t,e),t.prototype.refresh=function(){return Jt(this,void 0,void 0,function(){var e,t,a,n;return Gt(this,function(r){switch(r.label){case 0:return e=Bt(this.selectedMusic,3),e[0],t=e[1],a=e[2],[4,_.requestGetEXHILeaderboard(Je(t,a),{music_uid:t,music_difficulty:a,page:this.page,size:this.size})];case 1:return 0!==(n=r.sent()).data.code?this.$message.error("无法取得排名数据，错误："+n.data.error):(this.total=n.data.total,this.leaderboardData=n.data.result),0===n.data.result.length?this.$message.warning("已更新排行, 但是没有数据, 可能需要重建当前歌曲排行榜."):this.$message.success("已更新排行"),[2]}})})},t.prototype.leaderboardFullRebuild=function(){return Jt(this,void 0,void 0,function(){var e,t,a,n,r,i,o,s;return Gt(this,function(l){switch(l.label){case 0:return[4,this.$confirm("确定要完全重建排行榜吗？该操作可能导致严重后果，耗时数分钟到数十分钟，如果你不了解你在做什么，请取消操作。","确认完全重建排行榜")];case 1:if(!l.sent())return[2];a=[],$.forEach(function(e){return e.playlist.forEach(function(e){return a.push(e)})}),this.rebuilding=!0,this.rebuildingTotal=a.length,this.rebuildingCurrent=0,l.label=2;case 2:l.trys.push([2,,14,15]),l.label=3;case 3:l.trys.push([3,11,12,13]),n=Yt(a),r=n.next(),l.label=4;case 4:if(r.done)return[3,10];i=r.value,o=0,l.label=5;case 5:return o<3?[4,this._doLeaderboardRebuild(i.uid,o)]:[3,8];case 6:l.sent(),l.label=7;case 7:return o++,[3,5];case 8:this.rebuildingCurrent+=1,l.label=9;case 9:return r=n.next(),[3,4];case 10:return[3,13];case 11:return s=l.sent(),e={error:s},[3,13];case 12:try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}return[7];case 13:return this.$message.success("重建所有排名完成，请检查重建结果是否符合预期。"),[3,15];case 14:return this.rebuilding=!1,[7];case 15:return[2]}})})},t.prototype.leaderboardRebuild=function(){return Jt(this,void 0,void 0,function(){var e,t,a,n=this;return Gt(this,function(r){switch(r.label){case 0:if(!this.$confirm("确定要重建当前排行榜吗？该操作可能导致严重后果，如果你不了解你在做什么，请取消操作。","确认重建排行榜"))return[2];e=Bt(this.selectedMusic,3),e[0],t=e[1],a=e[2],this.rebuilding=!0,this.rebuildingCurrent=0,this.rebuildingTotal=1,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this._doLeaderboardRebuild(t,a)];case 2:return r.sent(),this.rebuildingCurrent=1,this.$message.success("排名重建已经完成，请检查重建结果。"),setTimeout(function(){n.refresh()},3e3),[3,4];case 3:return this.rebuildingCurrent=0,this.rebuilding=!1,[7];case 4:return[2]}})})},t.prototype._doLeaderboardRebuild=function(e,t){return Jt(this,void 0,void 0,function(){var a;return Gt(this,function(n){switch(n.label){case 0:return[4,_.requestRebuildEXHILeaderboard({},{playlist:[{uid:e,difficulty:t}]})];case 1:return 0!==(a=n.sent()).data.code?(this.$message.error("无法重建排行，错误："+a.data.error),[2]):[2]}})})},Ht([Object(V.c)("page"),Object(V.c)("size"),Object(V.c)("selectedMusic")],t.prototype,"refresh",null),t=Ht([I()({name:"PCLeaderboard",components:{MusicOptions:ut},filters:Mt({},Ee)})],t)}(n.default),Xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[e.rebuilding?a("div",{staticClass:"rebuilding-mask",attrs:{align:"center"}},[a("p",{staticStyle:{position:"absolute",top:"45%",left:"45%"}},[a("br"),a("br"),a("el-progress",{attrs:{type:"circle",percentage:Math.floor(e.rebuildingCurrent/e.rebuildingTotal*100)}})],1)]):e._e(),a("el-row",{attrs:{slot:"header",gutter:20},slot:"header"},[a("el-col",{attrs:{span:1}},[a("el-button",{attrs:{plain:"plain",type:"primary"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1)],1),a("el-col",{attrs:{span:6}},[a("music-options",{attrs:{selected:e.selectedMusic},on:{"update:selected":function(t){e.selectedMusic=t}}})],1),a("el-col",{attrs:{span:6}},[a("el-tooltip",{attrs:{content:"危险操作：可能导致排行榜服务长时无响应",placement:"top"}},[a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:e.leaderboardFullRebuild}},[e._v("完全重建排行")])],1),a("el-tooltip",{attrs:{content:"只重建当前排名，可能造成短时间无响应，只在确定自己要做什么的情况下使用",placement:"top"}},[a("el-button",{attrs:{type:"warning",plain:"plain"},on:{click:e.leaderboardRebuild}},[e._v("重建当前排行")])],1)],1)],1),a("el-table",{attrs:{data:e.leaderboardData}},[a("el-table-column",{attrs:{label:"排名",type:"index"}}),a("el-table-column",{attrs:{label:"昵称",prop:"user.nickname"}}),a("el-table-column",{attrs:{label:"分数",prop:"play.score"}}),a("el-table-column",{attrs:{label:"准确率",prop:"play.acc"}}),a("el-table-column",{attrs:{label:"最大连击",prop:"play.combo"}}),a("el-table-column",{attrs:{label:"角色",prop:"play.character_uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.play.character_uid)+" - "+e._s(e._f("getCharacterNameByUID")(t.row.play.character_uid)))])]}}])}),a("el-table-column",{attrs:{label:"精灵",prop:"play.elfin_uid"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.play.elfin_uid)+" - "+e._s(e._f("getElfinNameByUID")(t.row.play.elfin_uid)))])]}}])}),a("el-table-column",{attrs:{label:"功能"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",plain:"plain"}},[e._v("删除")])]}}])})],1),a("div",{staticClass:"pagination-box",attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"sizes, prev, pager, next","page-size":e.size,"current-page":e.page,total:e.total},on:{"update:pageSize":function(t){e.size=t},"update:currentPage":function(t){e.page=t}}})],1)],1)},staticRenderFns:[]};var Zt=a("VU/8")(Nt,Xt,!1,function(e){a("pwCq")},"data-v-e6c0b39a",null).exports,Kt=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Qt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Wt=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},ea=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ta=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ruleForm={username:"",password:""},t.rules={username:[{type:"email",required:!0,message:"请输入有效的邮箱地址",trigger:"blur"}],password:[{required:!0,message:"请输入有效的密码",trigger:"blur"}]},t}return Kt(t,e),t.prototype.submitForm=function(e){return Wt(this,void 0,void 0,function(){var t;return ea(this,function(a){switch(a.label){case 0:return[4,this.$refs[e].validate()];case 1:return a.sent()?[4,_.requestLogin({email:this.ruleForm.username,password:this.ruleForm.password})]:(this.$message.warning("无效的邮箱或密码，请确认填写正确。"),[2,!1]);case 2:return 0!==(t=a.sent()).data.code?(this.$message.error("登录失败, 原因是 "+t.data.error),[2,!1]):t.data.auth?(_.setLogin(t.data),this.$message("登陆成功"),this.$router.push("/"),[2]):(this.$message.error("登录失败，无法读取授权 token"),[2,!1])}})})},t=Qt([I()({name:"Login"})],t)}(n.default),aa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("div",{staticClass:"ms-login"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-with":"0px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{placeholder:"邮箱"},model:{value:e.ruleForm.username,callback:function(t){e.$set(e.ruleForm,"username",t)},expression:"ruleForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("ruleForm")}},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),a("div",{staticClass:"login-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)])},staticRenderFns:[]};var na=a("VU/8")(ta,aa,!1,function(e){a("79Yo")},"data-v-1dd5ad22",null).exports,ra=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),ia=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},oa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.createPackageForm={product_id:"",price:0,modify_price:0,expired_time:""},t.createPackageFormRule={product_id:[{required:!0,message:"请输入商品名"}],price:[{required:!0,message:"请输入当前价格"}],modify_price:[{required:!0,message:"请输入计划恢复的价格"}],expired_time:[{required:!0,message:"请输入计划恢复价格的日期"}]},t.pickerOptions={disabledDate:function(e){return e.getTime()<Date.now()-864e5},shortcuts:[{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"半个月后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+1296e6),e.$emit("pick",t)}}]},t}return ra(t,e),t.prototype.submitForm=function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error"),!1;t.$emit("submit",t.createPackageForm)})},t.prototype.resetForm=function(e){this.$refs[e].resetFields()},ia([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=ia([I()({name:"createPackageDialog"})],t)}(n.default),sa={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"创建曲包商品",visible:t.visible},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"createPackageForm",attrs:{model:t.createPackageForm,rules:t.createPackageFormRule,inline:"inline"}},[n("el-form-item",{attrs:{label:"商品名字",prop:"product_id"}},[n("el-input",{model:{value:t.createPackageForm.product_id,callback:function(e){t.$set(t.createPackageForm,"product_id",e)},expression:"createPackageForm.product_id"}})],1),n("el-form-item",{attrs:{label:"价格（分）",prop:"price"}},[n("el-input",{model:{value:t.createPackageForm.price,callback:function(e){t.$set(t.createPackageForm,"price",e)},expression:"createPackageForm.price"}})],1),n("el-form-item",{attrs:{label:"恢复价格（分）",prop:"modify_price"}},[n("el-input",{model:{value:t.createPackageForm.modify_price,callback:function(e){t.$set(t.createPackageForm,"modify_price",e)},expression:"createPackageForm.modify_price"}})],1),n("el-form-item",{attrs:{label:"恢复时间",prop:"modify_price"}},[n("el-date-picker",{attrs:{type:"datetime",align:"right","picker-options":t.pickerOptions,placeholder:"选择恢复价格日期","default-time":"12:00:00","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.createPackageForm.expired_time,callback:function(e){t.$set(t.createPackageForm,"expired_time",e)},expression:"createPackageForm.expired_time"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitForm("createPackageForm")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.resetForm("createPackageForm")}}},[t._v("重置")]),n("el-button",{on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)],1)},staticRenderFns:[]},la=a("VU/8")(oa,sa,!1,null,null,null).exports,ca=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),ua=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},da=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},pa=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},fa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updatePackageFormRule={product_id:[{required:!0,message:"请输入商品名"}],price:[{required:!0,message:"请输入当前价格"}],modify_price:[{required:!0,message:"请输入计划恢复的价格"}],expired_time:[{required:!0,message:"请输入计划恢复价格的日期"}]},t.pickerOptions={disabledDate:function(e){return e.getTime()<Date.now()-864e5},shortcuts:[{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"半个月后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+1296e6),e.$emit("pick",t)}}]},t}return ca(t,e),t.prototype.coverPackageDetailExpiredTime=function(){var e=new Date(1e3*this.packageDetail.expired_time),t=me()(e),a=t.get("year")+"-"+(t.get("month")+1)+"-"+t.get("date")+" "+t.get("hour")+":"+t.get("minute")+":"+t.get("second");this.packageDetail.expired_time=a},t.prototype.updatePackagePrice=function(e){return da(this,void 0,void 0,function(){var t=this;return pa(this,function(a){return this.$refs.packageDetailValid.validate(function(a){return da(t,void 0,void 0,function(){var t;return pa(this,function(n){switch(n.label){case 0:if(!a)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,_.requestPatchPackagePrice({product_id:e.product_id,price:e.price,modify_price:e.modify_price,expired_time:e.expired_time},e.object_id,{})];case 2:return 0!==(t=n.sent()).data.code?this.$message.error("更新商品失败，错误："+t.data.error):this.$message.success("更新商品成功，商品名字："+t.data.product.product_id),[3,4];case 3:return n.sent(),this.$message.error("网络错误，更新商品失败。"),[3,4];case 4:return this.refresh(),this.$emit("update:visible",!1),[3,6];case 5:return console.log("error"),[2,!1];case 6:return[2]}})})}),[2]})})},t.prototype.refresh=function(){this.$emit("refresh")},ua([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),ua([Object(V.a)({default:function(){return new k}})],t.prototype,"packageDetail",void 0),ua([Object(V.c)("packageDetail")],t.prototype,"coverPackageDetailExpiredTime",null),t=ua([I()({name:"PackageDetailDialog",filters:{formatUTCUnixTimestampFilter:He}})],t)}(n.default),ma={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"更新商品",visible:t.visible},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"packageDetailValid",attrs:{model:t.packageDetail,rules:t.updatePackageFormRule,inline:"inline"}},[n("el-form-item",{attrs:{label:"商品名字",prop:"product_id"}},[n("el-input",{model:{value:t.packageDetail.product_id,callback:function(e){t.$set(t.packageDetail,"product_id",e)},expression:"packageDetail.product_id"}})],1),n("el-form-item",{attrs:{label:"价格（分）",prop:"price"}},[n("el-input",{model:{value:t.packageDetail.price,callback:function(e){t.$set(t.packageDetail,"price",e)},expression:"packageDetail.price"}})],1),n("el-form-item",{attrs:{label:"恢复价格（分）",prop:"modify_price"}},[n("el-input",{model:{value:t.packageDetail.modify_price,callback:function(e){t.$set(t.packageDetail,"modify_price",e)},expression:"packageDetail.modify_price"}})],1),n("el-form-item",{attrs:{label:"恢复时间",prop:"expired_time"}},[n("el-date-picker",{attrs:{type:"datetime",align:"right","picker-options":t.pickerOptions,placeholder:"修改恢复价格日期","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"12:00:00"},model:{value:t.packageDetail.expired_time,callback:function(e){t.$set(t.packageDetail,"expired_time",e)},expression:"packageDetail.expired_time"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.updatePackagePrice(t.packageDetail)}}},[t._v("确定")]),n("el-button",{on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)],1)},staticRenderFns:[]},ha=a("VU/8")(fa,ma,!1,null,null,null).exports,_a=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),va=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},ba=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},ya=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ga=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.packageDetailDialogVisible=!1,t.packageCreateDialogVisible=!1,t.packageDetailDialog=new k,t.page=1,t.size=20,t.packages=[],t.total=0,t.searchText="",t.PackagesMap=new Map,t}return _a(t,e),Object.defineProperty(t.prototype,"PackagePriceListParams",{get:function(){return{page:this.page,size:this.size,query:this.searchText}},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){return ba(this,void 0,void 0,function(){var e,t=this;return ya(this,function(a){switch(a.label){case 0:return[4,_.requestGetPakcageList(this.PackagePriceListParams)];case 1:return 0!==(e=a.sent()).data.code?this.$message.error("获取数据失败，错误原因："+e.data.error):(this.$message.success("已更新当前数据"),this.packages=e.data.items,this.PackagesMap.clear(),this.packages.forEach(function(e){return t.PackagesMap[e.object_id]=e}),this.total=e.data.total),[2]}})})},t.prototype.mounted=function(){return ba(this,void 0,void 0,function(){return ya(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.refresh()];case 1:return e.sent(),[3,3];case 2:return e.sent(),this.$message.error("刷新数据失败：网络错误"),[3,3];case 3:return[2]}})})},t.prototype.createPackage=function(e){return ba(this,void 0,void 0,function(){var t;return ya(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_.requestPostPackagePrice({product_id:e.product_id,price:e.price,modify_price:e.modify_price,expired_time:e.expired_time},{})];case 1:return 0!==(t=a.sent()).data.code?this.$message.error("创建商品失败，错误："+t.data.error):(this.$message.success("创建商品成功，商品名字"+t.data.product_id),this.packageCreateDialogVisible=!1,this.refresh()),[3,3];case 2:return a.sent(),this.$message.error("网络错误，创建商品失败。"),[3,3];case 3:return[2]}})})},t.prototype.showPackageDetail=function(e){return ba(this,void 0,void 0,function(){var t;return ya(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_.requestGetPackagePriceDetail(e,{})];case 1:return 0!==(t=a.sent()).data.code?this.$message.error("获取商品详情失败，错误："+t.data.error):(this.packageDetailDialog=t.data,this.packageDetailDialogVisible=!0),[3,3];case 2:return a.sent(),this.$message.error("网络错误，获取商品详情失败。"),[3,3];case 3:return[2]}})})},t.prototype.searchPackage=function(){this.page=1,this.refresh()},va([Object(V.c)("page"),Object(V.c)("size")],t.prototype,"refresh",null),t=va([I()({name:"MusicPackagePriceManager",components:{PackageDetailDialog:ha,CreatePackageDialog:la},filters:{formatUTCUnixTimestamp:He}})],t)}(n.default),ka={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",{attrs:{slot:"header"},slot:"header"},[a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(t){e.packageCreateDialogVisible=!0}}},[e._v("创建商品")]),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1)],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"搜索商品"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.searchPackage},slot:"append"},[a("el-icon",{staticClass:"el-icon-search"})],1)],1)],1)],1),a("el-table",{attrs:{data:e.packages,stripe:!0}},[a("el-table-column",{attrs:{fixed:"left",prop:"object_id",label:"UUID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.object_id))]}}])}),a("el-table-column",{attrs:{prop:"product_id",label:"商品名字"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.product_id))]}}])}),a("el-table-column",{attrs:{prop:"price",label:"金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price/100))]}}])}),a("el-table-column",{attrs:{fixed:"left",prop:"created_at",label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatUTCUnixTimestamp")(t.row.created_at)))]}}])}),a("el-table-column",{attrs:{label:"功能"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){e.showPackageDetail(t.row.object_id)}}},[e._v("更新")])]}}])})],1),a("div",{staticStyle:{width:"100%","margin-top":"18px"},attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"total,sizes,prev,pager,next",total:e.total,"current-page":e.page,"page-size":e.size},on:{"current-change":function(t){return e.page=t},"size-change":function(t){return e.size=t}}})],1)],1),a("create-package-dialog",{attrs:{visible:e.packageCreateDialogVisible},on:{"update:visible":function(t){e.packageCreateDialogVisible=t},submit:e.createPackage}}),a("package-detail-dialog",{attrs:{visible:e.packageDetailDialogVisible,"package-detail":e.packageDetailDialog},on:{"update:visible":function(t){e.packageDetailDialogVisible=t},refresh:e.refresh}})],1)},staticRenderFns:[]},wa=a("VU/8")(ga,ka,!1,null,null,null).exports,xa=a("Lokx"),Da=a.n(xa),Ca=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Pa=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},ja=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.platforms=["apple_ios","xd_taptap","google_play","steam","tencent_wegame","nintendo_switch","other"],t.announceCreate={origin_title:"",category:"",platform:[],is_pop:!0,release:!1},t.createAnnounceRule={origin_title:[{required:!0,message:"请输入引导标题呢"}],category:[{required:!0,message:"请输入类别"}],platform:[{required:!0,message:"请输入平台"}]},t}return Ca(t,e),t.prototype.submitForm=function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error"),!1;t.$emit("submit",t.announceCreate)})},t.prototype.resetForm=function(e){this.$refs[e].resetFields()},t.prototype.closeForm=function(){this.$refs.announceCreate.resetFields(),this.$emit("update:visible",!1)},Pa([Object(V.b)()],t.prototype,"platforms",void 0),Pa([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=Pa([I()({name:"createAnnounceDialog"})],t)}(n.default),Aa={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"创建公告",visible:t.visible},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"announceCreate",attrs:{"label-width":"130px",model:t.announceCreate,rules:t.createAnnounceRule}},[n("el-form-item",{attrs:{label:"引导标题",prop:"origin_title"}},[n("el-input",{staticClass:"announce-title",model:{value:t.announceCreate.origin_title,callback:function(e){t.$set(t.announceCreate,"origin_title",e)},expression:"announceCreate.origin_title"}})],1),n("el-form-item",{attrs:{label:"用途",prop:"category"}},[n("el-select",{staticClass:"input-with-select",attrs:{value:"system",placeholder:"请选择"},model:{value:t.announceCreate.category,callback:function(e){t.$set(t.announceCreate,"category",e)},expression:"announceCreate.category"}},[n("el-option",{attrs:{value:"system",label:"系统"}}),n("el-option",{attrs:{value:"update",label:"更新"}}),n("el-option",{attrs:{value:"active",label:"活动"}}),n("el-option",{attrs:{value:"other",label:"其他"}})],1)],1),n("el-form-item",{attrs:{label:"公告平台",prop:"platform"}},[n("el-checkbox-group",{attrs:{prop:"platform"},model:{value:t.announceCreate.platform,callback:function(e){t.$set(t.announceCreate,"platform",e)},expression:"announceCreate.platform"}},t._l(t.platforms,function(e){return n("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1),n("el-form-item",{attrs:{label:"弹出",prop:"is_pop"}},[n("el-switch",{model:{value:t.announceCreate.is_pop,callback:function(e){t.$set(t.announceCreate,"is_pop",e)},expression:"announceCreate.is_pop"}})],1),n("el-form-item",{attrs:{label:"发布",prop:"release"}},[n("el-switch",{attrs:{disabled:"disabled"},model:{value:t.announceCreate.release,callback:function(e){t.$set(t.announceCreate,"release",e)},expression:"announceCreate.release"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitForm("announceCreate")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.resetForm("announceCreate")}}},[t._v("重置")]),n("el-button",{on:{click:t.closeForm}},[t._v("取消")])],1)],1)},staticRenderFns:[]};var Oa=a("VU/8")(ja,Aa,!1,function(e){a("8W7v")},null,null).exports,La=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),za=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Ra=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},qa=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ua=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateData=new x,t.announceItem=new w,t.itemVisible=!1,t.fileList=[],t.packages=[],t.platforms=["apple_ios","xd_taptap","google_play","steam","tencent_wegame","nintendo_switch","other"],t.PackagesMap=new Map,t.uploadUrl=_.base+"/musedash/admin/announce/upload/",t.uploadHeaders={Authorization:t.getToken()},t.updateDataRule={origin_title:[{required:!0,message:"请输入引导标题"}],release:[{required:!0,message:"发布"}],category:[{required:!0,message:"请输入用途"}],platform:[{required:!0,message:"请输入平台"}],is_pop:[{required:!0,message:"弹出"}]},t.announceItemRule={title:[{required:!0,message:"请输入公告标题"}],title_map:[{required:!0,message:"请上传图片"}],content:[{required:!0,message:"请上传内容"}]},t}return La(t,e),t.prototype.onAnnounceDetailChanged=function(){this.updateData=this.announceDetail,this.packages=this.updateData.announce_item},t.prototype.getToken=function(){return localStorage.getItem("_authorization")},t.prototype.refresh=function(e){return Ra(this,void 0,void 0,function(){var t,a=this;return qa(this,function(n){switch(n.label){case 0:return[4,_.requestGetAnnounceDetail(e,{})];case 1:return t=n.sent(),this.packages=t.data.announce_item,this.PackagesMap.clear(),this.packages.forEach(function(e){return a.PackagesMap[e.item_uid]=e}),[2]}})})},t.prototype.submitAnnounce=function(e){var t=this,a=this;this.$refs[e].validate(function(e){return Ra(t,void 0,void 0,function(){var t;return qa(this,function(n){switch(n.label){case 0:return e?[4,_.requestPatchAnnounce({},a.updateData.uid,{origin_title:a.updateData.origin_title,is_pop:a.updateData.is_pop,release:a.updateData.release,category:a.updateData.category,platform:a.updateData.platform})]:[3,2];case 1:return 0!=(t=n.sent()).data.code?this.$message.error("修改公告失败!"):(this.$message.success("修改公告成功，引导标题是"+t.data.origin_title),this.$emit("update:visible",!1)),[3,3];case 2:return console.log("error"),[2,!1];case 3:return[2]}})})})},t.prototype.submitAnnounceItem=function(e){var t=this;this.$refs[e].validate(function(e){return Ra(this,void 0,void 0,function(){var a;return qa(this,function(n){switch(n.label){case 0:return e?[4,_.requestPatchAnnounceItem({},t.announceItem.item_uid,{title:t.announceItem.title,title_map:t.announceItem.title_map,content:t.announceItem.content})]:[3,2];case 1:return 0!=(a=n.sent()).data.code?t.$message.error("更新公告的语言列表失败!"):(t.itemVisible=!1,t.fileList=[],t.$message.success("更新公告的语言列表成功, 公告标题是"+a.data.title),t.refresh(t.announceItem.announce)),[3,3];case 2:return console.log("error"),[2,!1];case 3:return[2]}})})})},t.prototype.resetForm=function(e){this.$refs[e].resetFields()},t.prototype.handleRemove=function(e,t){console.log(e,t)},t.prototype.handlePreview=function(e){console.log(e)},t.prototype.handleBeforeUpload=function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<1;return t||this.$message.error("上传文件只能是图片格式!"),a||this.$message.error("上传文件大小不能超过 1MB!"),t&&a},t.prototype.handleOnSuccess=function(e,t,a){400===e.code&&this.$message.error("上传错误! 请重新上传"),this.announceItem.title_map=e.url,console.log("success")},t.prototype.showAnnounceItemDetail=function(e){return Ra(this,void 0,void 0,function(){var t,a;return qa(this,function(n){switch(n.label){case 0:return[4,_.requestGetAnnounceItem({},e)];case 1:return 0!=(t=n.sent()).data.code?this.$message.error("获取公告的语言列表详情失败!"):(this.announceItem=t.data,""!==t.data.title_map&&(a={url:this.announceItem.title_map,name:this.announceItem.title_map.substring(this.announceItem.title_map.lastIndexOf("/")+1)},this.fileList.push(a)),this.itemVisible=!0),[2]}})})},t.prototype.closeItemDialog=function(){this.itemVisible=!1,this.fileList=[]},za([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),za([Object(V.a)({default:function(){return x}})],t.prototype,"announceDetail",void 0),za([Object(V.b)()],t.prototype,"updateData",void 0),za([Object(V.b)()],t.prototype,"announceItem",void 0),za([Object(V.b)()],t.prototype,"itemVisible",void 0),za([Object(V.b)()],t.prototype,"fileList",void 0),za([Object(V.b)()],t.prototype,"packages",void 0),za([Object(V.b)()],t.prototype,"platforms",void 0),za([Object(V.b)()],t.prototype,"PackagesMap",void 0),za([Object(V.c)("announceDetail")],t.prototype,"onAnnounceDetailChanged",null),za([Object(V.b)()],t.prototype,"uploadUrl",void 0),t=za([I()({name:"announceDetailDialog"})],t)}(n.default),Sa={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"修改公告",visible:t.visible,width:"80%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"updateData",attrs:{"label-width":"200px",model:t.updateData,rules:t.updateDataRule}},[n("el-form-item",{attrs:{label:"UUID"}},[t._v(t._s(t.updateData.uid))]),n("el-form-item",{attrs:{label:"引导标题",prop:"origin_title"}},[n("el-input",{staticClass:"announce-title",model:{value:t.updateData.origin_title,callback:function(e){t.$set(t.updateData,"origin_title",e)},expression:"updateData.origin_title"}})],1),n("el-form-item",{attrs:{label:"用途",prop:"category"}},[n("el-select",{staticClass:"input-with-select",attrs:{value:"system",placeholder:"请选择"},model:{value:t.updateData.category,callback:function(e){t.$set(t.updateData,"category",e)},expression:"updateData.category"}},[n("el-option",{attrs:{value:"system",label:"系统"}}),n("el-option",{attrs:{value:"update",label:"更新"}}),n("el-option",{attrs:{value:"active",label:"活动"}}),n("el-option",{attrs:{value:"other",label:"其他"}})],1)],1),n("el-form-item",{attrs:{label:"公告平台",prop:"platform"}},[n("el-checkbox-group",{attrs:{prop:"platform"},model:{value:t.updateData.platform,callback:function(e){t.$set(t.updateData,"platform",e)},expression:"updateData.platform"}},t._l(t.platforms,function(e){return n("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1),n("el-form-item",{attrs:{label:"弹出",prop:"is_pop"}},[n("el-switch",{model:{value:t.updateData.is_pop,callback:function(e){t.$set(t.updateData,"is_pop",e)},expression:"updateData.is_pop"}})],1),n("el-form-item",{attrs:{label:"发布",prop:"release"}},[n("el-switch",{model:{value:t.updateData.release,callback:function(e){t.$set(t.updateData,"release",e)},expression:"updateData.release"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公告的各语言子公告"}},[n("el-table",{attrs:{data:t.packages,stripe:!0,height:"400"}},[n("el-table-column",{attrs:{prop:"language_name",label:"语言","min-width":"10px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.language_name))]}}])}),n("el-table-column",{attrs:{prop:"title",label:"公告标题","min-width":"30px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.title))]}}])}),n("el-table-column",{attrs:{prop:"content",label:"公告内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.content))]}}])}),n("el-table-column",{attrs:{label:"功能","min-width":"10px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){t.showAnnounceItemDetail(e.row.item_uid)}}},[t._v("更新")])]}}])})],1)],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitAnnounce("updateData")}}},[t._v("提交")]),n("el-button",{on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1),n("el-dialog",{attrs:{title:"修改语言列表",visible:t.itemVisible,"append-to-body":"append-to-body"},on:{"update:visible":t.closeItemDialog}},[n("el-form",{ref:"announceItem",attrs:{"label-width":"130px",model:t.announceItem,rules:t.announceItemRule}},[n("el-form-item",{attrs:{label:"UUID"}},[t._v(t._s(t.announceItem.item_uid))]),n("el-form-item",{attrs:{label:"语言"}},[t._v(t._s(t.announceItem.language_name))]),n("el-form-item",{attrs:{label:"公告标题",prop:"title"}},[n("el-input",{model:{value:t.announceItem.title,callback:function(e){t.$set(t.announceItem,"title",e)},expression:"announceItem.title"}})],1),n("el-form-item",{attrs:{label:"题图",prop:"title_map"}},[n("el-upload",{ref:"myLoad",attrs:{action:t.uploadUrl,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"list-type":"picture-card","before-upload":t.handleBeforeUpload,name:"announce-image","on-success":t.handleOnSuccess,headers:t.uploadHeaders,limit:1,fileList:t.fileList}},[n("i",{staticClass:"el-icon-plus"})])],1),n("el-form-item",{attrs:{label:"公告内容",prop:"content"}},[n("el-input",{staticClass:"announce-content",attrs:{type:"textarea",rows:16},model:{value:t.announceItem.content,callback:function(e){t.$set(t.announceItem,"content",e)},expression:"announceItem.content"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitAnnounceItem("announceItem")}}},[t._v("确定")]),n("el-button",{on:{click:t.closeItemDialog}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]},Ta=a("VU/8")(Ua,Sa,!1,null,null,null).exports,Ia=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Fa=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},$a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemLanguages=[],t.fileList=[],t.announceItem={title:"",title_map:"",content:"",language:"",announce_uid:""},t.uploadUrl=_.base+"/musedash/admin/announce/upload/",t.uploadHeaders={Authorization:t.getToken()},t.announceItemRule={language:[{required:!0,message:"请选择语言"}],title:[{required:!0,message:"请输入公告标题"}],title_map:[{required:!0,message:"请上传题图"}],content:[{required:!0,message:"请补充内容"}]},t}return Ia(t,e),t.prototype.onAnnounceUidChanged=function(){this.announceItem.announce_uid=this.announceUid},t.prototype.onLanguagesChanged=function(){this.itemLanguages=this.languageList},t.prototype.getToken=function(){return localStorage.getItem("_authorization")},t.prototype.submitForm=function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error"),!1;t.$emit("submit",t.announceItem),t.fileList=[],t.resetForm(e)})},t.prototype.resetForm=function(e){this.$refs[e].resetFields(),this.fileList=[]},t.prototype.handleRemove=function(e,t){console.log(e,t)},t.prototype.handlePreview=function(e){console.log(e)},t.prototype.handleBeforeUpload=function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<1;return t||this.$message.error("上传文件只能是图片格式!"),a||this.$message.error("上传文件大小不能超过 1MB!"),t&&a},t.prototype.handleOnSuccess=function(e,t,a){this.fileList=a,400===e.code&&this.$message.error("上传错误! 请重新上传"),console.log("success"),this.announceItem.title_map=e.url},t.prototype.closeDialog=function(){this.$emit("update:visible",!1),this.fileList=[]},Fa([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),Fa([Object(V.a)({type:String,default:"",required:!0})],t.prototype,"announceUid",void 0),Fa([Object(V.a)({type:Array,default:function(){return[]},required:!0})],t.prototype,"languageList",void 0),Fa([Object(V.c)("announceUid")],t.prototype,"onAnnounceUidChanged",null),Fa([Object(V.c)("languageList")],t.prototype,"onLanguagesChanged",null),t=Fa([I()({name:"createAnnounceItemDialog"})],t)}(n.default),Va={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"创建语言列表",visible:t.visible},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"announceItem",attrs:{"label-width":"130px",model:t.announceItem,rules:t.announceItemRule}},[n("el-form-item",{attrs:{label:"语言",prop:"language"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.announceItem.language,callback:function(e){t.$set(t.announceItem,"language",e)},expression:"announceItem.language"}},t._l(t.itemLanguages,function(e){return n("el-option",{key:e.uid,attrs:{value:e.uid,label:e.language}},[t._v(t._s(e.language))])}))],1),n("el-form-item",{attrs:{label:"公告标题",prop:"title"}},[n("el-input",{model:{value:t.announceItem.title,callback:function(e){t.$set(t.announceItem,"title",e)},expression:"announceItem.title"}})],1),n("el-form-item",{attrs:{label:"题图",prop:"title_map"}},[n("el-upload",{ref:"myLoad",attrs:{action:t.uploadUrl,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"list-type":"picture-card","before-upload":t.handleBeforeUpload,name:"announce-image","on-success":t.handleOnSuccess,headers:t.uploadHeaders,limit:1,fileList:t.fileList}},[n("i",{staticClass:"el-icon-plus"})])],1),n("el-form-item",{attrs:{label:"公告内容",prop:"content"}},[n("el-input",{staticClass:"announce-content",attrs:{type:"textarea",rows:8},model:{value:t.announceItem.content,callback:function(e){t.$set(t.announceItem,"content",e)},expression:"announceItem.content"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitForm("announceItem")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.resetForm("announceItem")}}},[t._v("重置")]),n("el-button",{on:{click:t.closeDialog}},[t._v("取消")])],1)],1)},staticRenderFns:[]},Ea=a("VU/8")($a,Va,!1,null,null,null).exports,Ma=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Ha=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Ja=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ma(t,e),Ha([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=Ha([I()({name:"DeleteAnnounce"})],t)}(n.default),Ga={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"删除公告",visible:t.visible,width:"30%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("span",[t._v("确定要删除这个公告吗？")]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.$emit("submit")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)])},staticRenderFns:[]},Ba=a("VU/8")(Ja,Ga,!1,null,null,null).exports,Ya=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Na=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Xa=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},Za=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Ka=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AnnounceCreateDialogVisible=!1,t.AnnounceDetailDialogVisible=!1,t.AnnounceItemDialogVisible=!1,t.AnnounceDeleteDialogVisible=!1,t.announceDetailData=new x,t.page=1,t.size=20,t.packages=[],t.languageResult=[],t.total=0,t.searchText="",t.auid="",t.delete_auid="",t.PackagesMap=new Map,t}return Ya(t,e),Object.defineProperty(t.prototype,"GetParams",{get:function(){return{page:this.page,size:this.size,query:this.searchText}},enumerable:!0,configurable:!0}),t.prototype.LiveChange=function(e,t){var a=this;this.packages.filter(function(t){return t.uid==e}).forEach(function(e,n){return Xa(a,void 0,void 0,function(){var a;return Za(this,function(n){switch(n.label){case 0:return[4,_.requestPatchAnnounce({},e.uid,{origin_title:e.origin_title,is_pop:e.is_pop,release:e.release,live:t,category:e.category,platform:e.platform})];case 1:return 0!=(a=n.sent()).data.code?this.$message.error("修改公告失败!"):(this.$message.success("修改公告成功，引导标题是"+a.data.origin_title),this.$emit("update:visible",!1)),[2]}})})})},t.prototype.ISPopChange=function(e,t){var a=this;this.packages.filter(function(t){return t.uid==e}).forEach(function(e,n){return Xa(a,void 0,void 0,function(){var a;return Za(this,function(n){switch(n.label){case 0:return[4,_.requestPatchAnnounce({},e.uid,{origin_title:e.origin_title,is_pop:t,release:e.release,live:e.live,category:e.category,platform:e.platform})];case 1:return 0!=(a=n.sent()).data.code?this.$message.error("修改公告失败!"):(this.$message.success("修改公告成功，引导标题是"+a.data.origin_title),this.$emit("update:visible",!1)),[2]}})})})},t.prototype.ReleaseChange=function(e,t){var a=this;this.packages.filter(function(t){return t.uid==e}).forEach(function(e,n){return Xa(a,void 0,void 0,function(){var a;return Za(this,function(n){switch(n.label){case 0:return[4,_.requestPatchAnnounce({},e.uid,{origin_title:e.origin_title,is_pop:e.is_pop,release:t,live:e.live,category:e.category,platform:e.platform})];case 1:return 0!=(a=n.sent()).data.code?this.$message.error("修改公告失败!"):(this.$message.success("修改公告成功，引导标题是"+a.data.origin_title),this.$emit("update:visible",!1)),[2]}})})})},t.prototype.createAnnounce=function(e){return Xa(this,void 0,void 0,function(){var t;return Za(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_.requestPostAnnounce({},{origin_title:e.origin_title,category:e.category,platform:e.platform,is_pop:e.is_pop,release:e.release})];case 1:return 0!==(t=a.sent()).data.code?this.$message.error("创建公告，错误："+t.data.error):(this.$message.success("创建公告成功，公告名字"+t.data.origin_title),this.AnnounceCreateDialogVisible=!1,this.refresh()),[3,3];case 2:return a.sent(),this.$message.error("网络错误，创建公告失败。"),[3,3];case 3:return[2]}})})},t.prototype.refresh=function(){return Xa(this,void 0,void 0,function(){var e,t=this;return Za(this,function(a){switch(a.label){case 0:return[4,_.requestGetAnnounceList(this.GetParams)];case 1:return 0!==(e=a.sent()).data.code?this.$message.error("获取数据失败，错误原因："+e.data.error):(this.$message.success("已更新当前数据"),this.packages=e.data.items,this.PackagesMap.clear(),this.packages.forEach(function(e){return t.PackagesMap[e.uid]=e}),this.total=e.data.total),[2]}})})},t.prototype.mounted=function(){return Xa(this,void 0,void 0,function(){return Za(this,function(e){switch(e.label){case 0:this.rowDrop(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.refresh()];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.$message.error("刷新数据失败：网络错误"),[3,4];case 4:return[2]}})})},t.prototype.searchAnnounce=function(){this.page=1,this.refresh()},t.prototype.showAnnounceItemDetail=function(e){return Xa(this,void 0,void 0,function(){var t,a;return Za(this,function(n){switch(n.label){case 0:this.auid=e,n.label=1;case 1:return n.trys.push([1,4,,5]),[4,_.requestGetAnnounceDetail(e,{})];case 2:return t=n.sent(),[4,_.requestGetLanguageList({announce:this.auid})];case 3:return 0!==(a=n.sent()).data.code?this.$message.error("获取语言列表出错, 请重试"):this.languageResult=a.data.language,0!==t.data.code?this.$message.error("获取公告详情失败，错误："+t.data.error):this.AnnounceItemDialogVisible=!0,[3,5];case 4:return n.sent(),this.$message.error("网络错误，获取公告详情失败。"),[3,5];case 5:return[2]}})})},t.prototype.createAnnounceItem=function(e){return Xa(this,void 0,void 0,function(){var t,a;return Za(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.requestPostAnnounceItem({},{announce_uid:e.announce_uid,language:e.language,content:e.content,title:e.title,title_map:e.title_map})];case 1:return 0!==(t=n.sent()).data.code?this.$message.error("创建公告失败，错误："+t.data.error):(this.$message.success("创建语言版本成功，公告标题是"+t.data.title),this.AnnounceItemDialogVisible=!1,this.refresh()),[3,3];case 2:return a=n.sent(),this.$message.error("网络错误，创建语言失败。"+a.toString()),[3,3];case 3:return[2]}})})},t.prototype.refreshAnnounceCache=function(){return Xa(this,void 0,void 0,function(){return Za(this,function(e){switch(e.label){case 0:return[4,_.requestGetRefreshAnnounceCache({})];case 1:return 0!=e.sent().data.code?this.$message.error("网络错误, 重建失败"):(this.$message.success("重建公告板缓存成功!"),this.refresh()),[2]}})})},t.prototype.showDeleteAnnounce=function(e){this.AnnounceDeleteDialogVisible=!0,this.delete_auid=e},t.prototype.DeletePCAnnounce=function(e){return Xa(this,void 0,void 0,function(){var t;return Za(this,function(a){switch(a.label){case 0:return[4,_.requestDeleteAnnounce({},e)];case 1:return 0!=(t=a.sent()).data.code?this.$message.error("删除公告失败，错误："+t.data.error):(this.$message.success("删除公告成功!"),this.AnnounceDeleteDialogVisible=!1,this.refresh()),[2]}})})},t.prototype.showAnnounceDetail=function(e){return Xa(this,void 0,void 0,function(){var t;return Za(this,function(a){switch(a.label){case 0:return null==e?[3,2]:[4,_.requestGetAnnounceDetail(e,{})];case 1:0!=(t=a.sent()).data.code?this.$message.error("获取公告失败!"):(this.announceDetailData=t.data,this.AnnounceDetailDialogVisible=!0),a.label=2;case 2:return[2]}})})},t.prototype.rowDrop=function(){var e=document.querySelector(".el-table__body-wrapper tbody"),t=this;Da.a.create(e,{onEnd:function(e){var a=e.newIndex,n=e.oldIndex;return Xa(this,void 0,void 0,function(){var e,r,i,o,s;return Za(this,function(l){switch(l.label){case 0:return e=t.packages[a].sort_key,r=t.packages[n].sort_key,[4,_.requestPostAnnounceForSort({},t.packages[n].uid,{sort_key:e})];case 1:return i=l.sent(),[4,_.requestPostAnnounceForSort({},t.packages[a].uid,{sort_key:r})];case 2:return o=l.sent(),0==i.data.code&&0==o.data.code||this.$message.error("拖动出错, 请稍后再试"),s=t.packages.splice(n,1)[0],t.packages.splice(a,0,s),t.refresh(),[2]}})})}})},Na([Object(V.c)("page"),Object(V.c)("size")],t.prototype,"refresh",null),t=Na([I()({name:"AnnounceManager",components:{AnnounceDeleteDialog:Ba,CreateAnnounceItemDialog:Ea,AnnounceDetailDialog:Ta,CreateAnnounceDialog:Oa},filters:{formatUTCUnixTimestamp:He}})],t)}(n.default),Qa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",{attrs:{slot:"header"},slot:"header"},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(t){e.AnnounceCreateDialogVisible=!0}}},[e._v("创建公告板")]),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refreshAnnounceCache}},[e._v("刷新公告缓存")])],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"输入引导标题搜索公告板"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.searchAnnounce},slot:"append"},[a("el-icon",{staticClass:"el-icon-search"})],1)],1)],1)],1),a("el-table",{attrs:{data:e.packages,stripe:!0,"row-key":"sort_key"}},[a("el-table-column",{attrs:{fixed:"left",prop:"sort_key",label:"#",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sort_key))]}}])}),a("el-table-column",{attrs:{prop:"origin_title",label:"引导标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.origin_title))]}}])}),a("el-table-column",{attrs:{prop:"category",label:"用途"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.category))]}}])}),a("el-table-column",{attrs:{prop:"platform",label:"平台"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.platform))]}}])}),a("el-table-column",{attrs:{prop:"is_pop",label:"弹出的"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){e.ISPopChange(t.row.uid,a)}},model:{value:t.row.is_pop,callback:function(a){e.$set(t.row,"is_pop",a)},expression:"props.row.is_pop"}})]}}])}),a("el-table-column",{attrs:{prop:"release",label:"已经发布"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){e.ReleaseChange(t.row.uid,a)}},model:{value:t.row.release,callback:function(a){e.$set(t.row,"release",a)},expression:"props.row.release"}})]}}])}),a("el-table-column",{attrs:{prop:"live",label:"还在线"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:"disabled"},model:{value:t.row.live,callback:function(a){e.$set(t.row,"live",a)},expression:"props.row.live"}})]}}])}),a("el-table-column",{attrs:{label:"功能"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){e.showAnnounceDetail(t.row.uid)}}},[e._v("详情")]),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){e.showAnnounceItemDetail(t.row.uid)}}},[e._v("添加语言")]),a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(a){e.showDeleteAnnounce(t.row.uid)}}},[e._v("删除")])]}}])})],1),a("div",{staticStyle:{width:"100%","margin-top":"18px"},attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"total,sizes,prev,pager,next",total:e.total,"current-page":e.page,"page-size":e.size},on:{"current-change":function(t){return e.page=t},"size-change":function(t){return e.size=t}}})],1)],1),a("create-announce-dialog",{attrs:{visible:e.AnnounceCreateDialogVisible},on:{"update:visible":function(t){e.AnnounceCreateDialogVisible=t},submit:e.createAnnounce}}),a("announce-detail-dialog",{attrs:{visible:e.AnnounceDetailDialogVisible,"announce-detail":e.announceDetailData},on:{"update:visible":function(t){e.AnnounceDetailDialogVisible=t}}}),a("create-announce-item-dialog",{attrs:{visible:e.AnnounceItemDialogVisible,announceUid:e.auid,languageList:e.languageResult},on:{"update:visible":function(t){e.AnnounceItemDialogVisible=t},submit:e.createAnnounceItem}}),a("announce-delete-dialog",{attrs:{visible:e.AnnounceDeleteDialogVisible},on:{"update:visible":function(t){e.AnnounceDeleteDialogVisible=t},submit:function(t){e.DeletePCAnnounce(e.delete_auid)}}})],1)},staticRenderFns:[]},Wa=a("VU/8")(Ka,Qa,!1,null,null,null).exports,en=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),tn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},an=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.platforms=["apple_ios","xd_taptap","google_play","steam","tencent_wegame","nintendo_switch","other"],t.announceCreate={origin_title:"",category:"",platform:[],is_pop:!0,release:!1},t.createAnnounceRule={origin_title:[{required:!0,message:"请输入引导标题呢"}],category:[{required:!0,message:"请输入类别"}],platform:[{required:!0,message:"请输入平台"}]},t}return en(t,e),t.prototype.submitForm=function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error"),!1;t.$emit("submit",t.announceCreate)})},t.prototype.resetForm=function(e){this.$refs[e].resetFields()},t.prototype.closeForm=function(){this.$refs.announceCreate.resetFields(),this.$emit("update:visible",!1)},tn([Object(V.b)()],t.prototype,"platforms",void 0),tn([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=tn([I()({name:"CreatePCAnnounceDialog"})],t)}(n.default),nn={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"创建公告",visible:t.visible},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"announceCreate",attrs:{"label-width":"130px",model:t.announceCreate,rules:t.createAnnounceRule}},[n("el-form-item",{attrs:{label:"引导标题",prop:"origin_title"}},[n("el-input",{staticClass:"announce-title",model:{value:t.announceCreate.origin_title,callback:function(e){t.$set(t.announceCreate,"origin_title",e)},expression:"announceCreate.origin_title"}})],1),n("el-form-item",{attrs:{label:"用途",prop:"category"}},[n("el-select",{staticClass:"input-with-select",attrs:{value:"system",placeholder:"请选择"},model:{value:t.announceCreate.category,callback:function(e){t.$set(t.announceCreate,"category",e)},expression:"announceCreate.category"}},[n("el-option",{attrs:{value:"system",label:"系统"}}),n("el-option",{attrs:{value:"update",label:"更新"}}),n("el-option",{attrs:{value:"active",label:"活动"}}),n("el-option",{attrs:{value:"other",label:"其他"}})],1)],1),n("el-form-item",{attrs:{label:"公告平台",prop:"platform"}},[n("el-checkbox-group",{attrs:{prop:"platform"},model:{value:t.announceCreate.platform,callback:function(e){t.$set(t.announceCreate,"platform",e)},expression:"announceCreate.platform"}},t._l(t.platforms,function(e){return n("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1),n("el-form-item",{attrs:{label:"弹出",prop:"is_pop"}},[n("el-switch",{model:{value:t.announceCreate.is_pop,callback:function(e){t.$set(t.announceCreate,"is_pop",e)},expression:"announceCreate.is_pop"}})],1),n("el-form-item",{attrs:{label:"发布",prop:"release"}},[n("el-switch",{attrs:{disabled:"disabled"},model:{value:t.announceCreate.release,callback:function(e){t.$set(t.announceCreate,"release",e)},expression:"announceCreate.release"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitForm("announceCreate")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.resetForm("announceCreate")}}},[t._v("重置")]),n("el-button",{on:{click:t.closeForm}},[t._v("取消")])],1)],1)},staticRenderFns:[]};var rn=a("VU/8")(an,nn,!1,function(e){a("lfYK")},null,null).exports,on=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),sn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},ln=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},cn=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateData=new C,t.announceItem=new D,t.itemVisible=!1,t.fileList=[],t.packages=[],t.platforms=["apple_ios","xd_taptap","google_play","steam","tencent_wegame","nintendo_switch","other"],t.PackagesMap=new Map,t.uploadUrl=_.base+"/musedash/admin/announce/pc/upload/",t.uploadHeaders={Authorization:t.getToken()},t.updateDataRule={origin_title:[{required:!0,message:"请输入引导标题"}],release:[{required:!0,message:"发布"}],category:[{required:!0,message:"请输入用途"}],platform:[{required:!0,message:"请输入平台"}],is_pop:[{required:!0,message:"弹出"}]},t.announceItemRule={title:[{required:!0,message:"请输入公告标题"}],title_map:[{required:!0,message:"请上传图片"}],content:[{required:!0,message:"请上传内容"}]},t}return on(t,e),t.prototype.onAnnounceDetailChanged=function(){this.updateData=this.announceDetail,this.packages=this.updateData.pc_announce_item},t.prototype.getToken=function(){return localStorage.getItem("_authorization")},t.prototype.refresh=function(e){return ln(this,void 0,void 0,function(){var t,a=this;return cn(this,function(n){switch(n.label){case 0:return[4,_.requestGetPCAnnounceDetail(e,{})];case 1:return t=n.sent(),this.packages=t.data.pc_announce_item,this.PackagesMap.clear(),this.packages.forEach(function(e){return a.PackagesMap[e.item_uid]=e}),[2]}})})},t.prototype.submitAnnounce=function(e){var t=this,a=this;this.$refs[e].validate(function(e){return ln(t,void 0,void 0,function(){var t;return cn(this,function(n){switch(n.label){case 0:return e?[4,_.requestPatchPCAnnounce({},a.updateData.uid,{origin_title:a.updateData.origin_title,is_pop:a.updateData.is_pop,release:a.updateData.release,category:a.updateData.category,platform:a.updateData.platform})]:[3,2];case 1:return 0!=(t=n.sent()).data.code?this.$message.error("修改公告失败!"):(this.$message.success("修改公告成功，引导标题是"+t.data.origin_title),this.$emit("update:visible",!1)),[3,3];case 2:return console.log("error"),[2,!1];case 3:return[2]}})})})},t.prototype.submitAnnounceItem=function(e){var t=this;this.$refs[e].validate(function(e){return ln(this,void 0,void 0,function(){var a;return cn(this,function(n){switch(n.label){case 0:return e?[4,_.requestPatchPCAnnounceItem({},t.announceItem.item_uid,{title:t.announceItem.title,title_map:t.announceItem.title_map,content:t.announceItem.content})]:[3,2];case 1:return 0!=(a=n.sent()).data.code?t.$message.error("更新公告的语言列表失败!"):(t.itemVisible=!1,t.fileList=[],t.$message.success("更新公告的语言列表成功, 公告标题是"+a.data.title),t.refresh(t.announceItem.pc_announce)),[3,3];case 2:return console.log("error"),[2,!1];case 3:return[2]}})})})},t.prototype.resetForm=function(e){this.$refs[e].resetFields()},t.prototype.handleRemove=function(e,t){console.log(e,t)},t.prototype.handlePreview=function(e){console.log(e)},t.prototype.handleBeforeUpload=function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<1;return t||this.$message.error("上传文件只能是图片格式!"),a||this.$message.error("上传文件大小不能超过 1MB!"),t&&a},t.prototype.handleOnSuccess=function(e,t,a){400===e.code&&this.$message.error("上传错误! 请重新上传"),this.announceItem.title_map=e.url,console.log("success")},t.prototype.showAnnounceItemDetail=function(e){return ln(this,void 0,void 0,function(){var t,a;return cn(this,function(n){switch(n.label){case 0:return[4,_.requestGetPCAnnounceItem({},e)];case 1:return 0!=(t=n.sent()).data.code?this.$message.error("获取公告的语言列表详情失败!"):(this.announceItem=t.data,""!==t.data.title_map&&(a={url:this.announceItem.title_map,name:this.announceItem.title_map.substring(this.announceItem.title_map.lastIndexOf("/")+1)},this.fileList.push(a)),this.itemVisible=!0),[2]}})})},t.prototype.closeItemDialog=function(){this.itemVisible=!1,this.fileList=[]},sn([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),sn([Object(V.a)({default:function(){return C}})],t.prototype,"announceDetail",void 0),sn([Object(V.b)()],t.prototype,"updateData",void 0),sn([Object(V.b)()],t.prototype,"announceItem",void 0),sn([Object(V.b)()],t.prototype,"itemVisible",void 0),sn([Object(V.b)()],t.prototype,"fileList",void 0),sn([Object(V.b)()],t.prototype,"packages",void 0),sn([Object(V.b)()],t.prototype,"platforms",void 0),sn([Object(V.b)()],t.prototype,"PackagesMap",void 0),sn([Object(V.c)("announceDetail")],t.prototype,"onAnnounceDetailChanged",null),sn([Object(V.b)()],t.prototype,"uploadUrl",void 0),t=sn([I()({name:"PCAnnounceDetailDialog"})],t)}(n.default),dn={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"修改公告",visible:t.visible,width:"80%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"updateData",attrs:{"label-width":"200px",model:t.updateData,rules:t.updateDataRule}},[n("el-form-item",{attrs:{label:"UUID"}},[t._v(t._s(t.updateData.uid))]),n("el-form-item",{attrs:{label:"引导标题",prop:"origin_title"}},[n("el-input",{staticClass:"announce-title",model:{value:t.updateData.origin_title,callback:function(e){t.$set(t.updateData,"origin_title",e)},expression:"updateData.origin_title"}})],1),n("el-form-item",{attrs:{label:"用途",prop:"category"}},[n("el-select",{staticClass:"input-with-select",attrs:{value:"system",placeholder:"请选择"},model:{value:t.updateData.category,callback:function(e){t.$set(t.updateData,"category",e)},expression:"updateData.category"}},[n("el-option",{attrs:{value:"system",label:"系统"}}),n("el-option",{attrs:{value:"update",label:"更新"}}),n("el-option",{attrs:{value:"active",label:"活动"}}),n("el-option",{attrs:{value:"other",label:"其他"}})],1)],1),n("el-form-item",{attrs:{label:"公告平台",prop:"platform"}},[n("el-checkbox-group",{attrs:{prop:"platform"},model:{value:t.updateData.platform,callback:function(e){t.$set(t.updateData,"platform",e)},expression:"updateData.platform"}},t._l(t.platforms,function(e){return n("el-checkbox",{key:e,attrs:{label:e}},[t._v(t._s(e))])}))],1),n("el-form-item",{attrs:{label:"弹出",prop:"is_pop"}},[n("el-switch",{model:{value:t.updateData.is_pop,callback:function(e){t.$set(t.updateData,"is_pop",e)},expression:"updateData.is_pop"}})],1),n("el-form-item",{attrs:{label:"发布",prop:"release"}},[n("el-switch",{model:{value:t.updateData.release,callback:function(e){t.$set(t.updateData,"release",e)},expression:"updateData.release"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"公告的各语言子公告"}},[n("el-table",{attrs:{data:t.packages,stripe:!0,height:"400"}},[n("el-table-column",{attrs:{prop:"language_name",label:"语言","min-width":"10px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.language_name))]}}])}),n("el-table-column",{attrs:{prop:"title",label:"公告标题","min-width":"30px"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.title))]}}])}),n("el-table-column",{attrs:{prop:"content",label:"公告内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.content))]}}])}),n("el-table-column",{attrs:{label:"功能","min-width":"10px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){t.showAnnounceItemDetail(e.row.item_uid)}}},[t._v("更新")])]}}])})],1)],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitAnnounce("updateData")}}},[t._v("提交")]),n("el-button",{on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1),n("el-dialog",{attrs:{title:"修改语言列表",visible:t.itemVisible,"append-to-body":"append-to-body"},on:{"update:visible":t.closeItemDialog}},[n("el-form",{ref:"announceItem",attrs:{"label-width":"130px",model:t.announceItem,rules:t.announceItemRule}},[n("el-form-item",{attrs:{label:"UUID"}},[t._v(t._s(t.announceItem.item_uid))]),n("el-form-item",{attrs:{label:"语言"}},[t._v(t._s(t.announceItem.language_name))]),n("el-form-item",{attrs:{label:"公告标题",prop:"title"}},[n("el-input",{model:{value:t.announceItem.title,callback:function(e){t.$set(t.announceItem,"title",e)},expression:"announceItem.title"}})],1),n("el-form-item",{attrs:{label:"题图",prop:"title_map"}},[n("el-upload",{ref:"myLoad",attrs:{action:t.uploadUrl,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"list-type":"picture-card","before-upload":t.handleBeforeUpload,name:"announce-image","on-success":t.handleOnSuccess,headers:t.uploadHeaders,limit:1,fileList:t.fileList}},[n("i",{staticClass:"el-icon-plus"})])],1),n("el-form-item",{attrs:{label:"公告内容",prop:"content"}},[n("el-input",{staticClass:"announce-content",attrs:{type:"textarea",rows:16},model:{value:t.announceItem.content,callback:function(e){t.$set(t.announceItem,"content",e)},expression:"announceItem.content"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitAnnounceItem("announceItem")}}},[t._v("确定")]),n("el-button",{on:{click:t.closeItemDialog}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]},pn=a("VU/8")(un,dn,!1,null,null,null).exports,fn=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),mn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},hn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemLanguages=[],t.fileList=[],t.announceItem={title:"",title_map:"",content:"",language:"",announce_uid:""},t.uploadUrl=_.base+"/musedash/admin/announce/pc/upload/",t.uploadHeaders={Authorization:t.getToken()},t.announceItemRule={language:[{required:!0,message:"请选择语言"}],title:[{required:!0,message:"请输入公告标题"}],title_map:[{required:!0,message:"请上传题图"}],content:[{required:!0,message:"请补充内容"}]},t}return fn(t,e),t.prototype.onAnnounceUidChanged=function(){this.announceItem.announce_uid=this.announceUid},t.prototype.onLanguagesChanged=function(){this.itemLanguages=this.languageList},t.prototype.getToken=function(){return localStorage.getItem("_authorization")},t.prototype.submitForm=function(e){var t=this;this.$refs[e].validate(function(a){if(!a)return console.log("error"),!1;t.$emit("submit",t.announceItem),t.fileList=[],t.resetForm(e)})},t.prototype.resetForm=function(e){this.$refs[e].resetFields(),this.fileList=[]},t.prototype.handleRemove=function(e,t){console.log(e,t)},t.prototype.handlePreview=function(e){console.log(e)},t.prototype.handleBeforeUpload=function(e){var t="image/jpeg"===e.type||"image/png",a=e.size/1024/1024<1;return t||this.$message.error("上传文件只能是图片格式!"),a||this.$message.error("上传文件大小不能超过 1MB!"),t&&a},t.prototype.handleOnSuccess=function(e,t,a){this.fileList=a,400===e.code&&this.$message.error("上传错误! 请重新上传"),console.log("success"),this.announceItem.title_map=e.url},t.prototype.closeDialog=function(){this.$emit("update:visible",!1),this.fileList=[]},mn([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),mn([Object(V.a)({type:String,default:"",required:!0})],t.prototype,"announceUid",void 0),mn([Object(V.a)({type:Array,default:function(){return[]},required:!0})],t.prototype,"languageList",void 0),mn([Object(V.c)("announceUid")],t.prototype,"onAnnounceUidChanged",null),mn([Object(V.c)("languageList")],t.prototype,"onLanguagesChanged",null),t=mn([I()({name:"CreatePCAnnounceItemDialog"})],t)}(n.default),_n={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"创建语言列表",visible:t.visible},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",{ref:"announceItem",attrs:{"label-width":"130px",model:t.announceItem,rules:t.announceItemRule}},[n("el-form-item",{attrs:{label:"语言",prop:"language"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.announceItem.language,callback:function(e){t.$set(t.announceItem,"language",e)},expression:"announceItem.language"}},t._l(t.itemLanguages,function(e){return n("el-option",{key:e.uid,attrs:{value:e.uid,label:e.language}},[t._v(t._s(e.language))])}))],1),n("el-form-item",{attrs:{label:"公告标题",prop:"title"}},[n("el-input",{model:{value:t.announceItem.title,callback:function(e){t.$set(t.announceItem,"title",e)},expression:"announceItem.title"}})],1),n("el-form-item",{attrs:{label:"题图",prop:"title_map"}},[n("el-upload",{ref:"myLoad",attrs:{action:t.uploadUrl,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"list-type":"picture-card","before-upload":t.handleBeforeUpload,name:"announce-image","on-success":t.handleOnSuccess,headers:t.uploadHeaders,limit:1,fileList:t.fileList}},[n("i",{staticClass:"el-icon-plus"})])],1),n("el-form-item",{attrs:{label:"公告内容",prop:"content"}},[n("el-input",{staticClass:"announce-content",attrs:{type:"textarea",rows:8},model:{value:t.announceItem.content,callback:function(e){t.$set(t.announceItem,"content",e)},expression:"announceItem.content"}})],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.submitForm("announceItem")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.resetForm("announceItem")}}},[t._v("重置")]),n("el-button",{on:{click:t.closeDialog}},[t._v("取消")])],1)],1)},staticRenderFns:[]},vn=a("VU/8")(hn,_n,!1,null,null,null).exports,bn=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),yn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},gn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bn(t,e),yn([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=yn([I()({name:"DeletePCAnnounce"})],t)}(n.default),kn={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"删除公告",visible:t.visible,width:"30%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("span",[t._v("确定要删除这个公告吗？")]),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(e){t.$emit("submit")}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)])},staticRenderFns:[]},wn=a("VU/8")(gn,kn,!1,null,null,null).exports,xn=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Dn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Cn=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},Pn=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AnnounceCreateDialogVisible=!1,t.PCPCAnnounceDetailDialogVisible=!1,t.AnnounceItemDialogVisible=!1,t.AnnounceDeleteDialogVisible=!1,t.PCAnnounceDetailData=new D,t.page=1,t.size=20,t.packages=[],t.languageResult=[],t.total=0,t.searchText="",t.auid="",t.delete_auid="",t.PackagesMap=new Map,t}return xn(t,e),Object.defineProperty(t.prototype,"GetParams",{get:function(){return{page:this.page,size:this.size,query:this.searchText}},enumerable:!0,configurable:!0}),t.prototype.ISPopChange=function(e,t){var a=this;this.packages.filter(function(t){return t.uid==e}).forEach(function(e,n){return Cn(a,void 0,void 0,function(){var a;return Pn(this,function(n){switch(n.label){case 0:return[4,_.requestPatchPCAnnounce({},e.uid,{origin_title:e.origin_title,is_pop:t,release:e.release,live:e.live,category:e.category,platform:e.platform})];case 1:return 0!=(a=n.sent()).data.code?this.$message.error("修改公告失败!"):(this.$message.success("修改公告成功，引导标题是"+a.data.origin_title),this.$emit("update:visible",!1)),[2]}})})})},t.prototype.ReleaseChange=function(e,t){var a=this;this.packages.filter(function(t){return t.uid==e}).forEach(function(e,n){return Cn(a,void 0,void 0,function(){var a;return Pn(this,function(n){switch(n.label){case 0:return[4,_.requestPatchPCAnnounce({},e.uid,{origin_title:e.origin_title,is_pop:e.is_pop,release:t,live:e.live,category:e.category,platform:e.platform})];case 1:return 0!=(a=n.sent()).data.code?this.$message.error("修改公告失败!"):(this.$message.success("修改公告成功，引导标题是"+a.data.origin_title),this.$emit("update:visible",!1)),[2]}})})})},t.prototype.createAnnounce=function(e){return Cn(this,void 0,void 0,function(){var t;return Pn(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_.requestPostPCAnnounce({},{origin_title:e.origin_title,category:e.category,platform:e.platform,is_pop:e.is_pop,release:e.release})];case 1:return 0!==(t=a.sent()).data.code?this.$message.error("创建公告，错误："+t.data.error):(this.$message.success("创建公告成功，公告名字"+t.data.origin_title),this.AnnounceCreateDialogVisible=!1,this.refresh()),[3,3];case 2:return a.sent(),this.$message.error("网络错误，创建公告失败。"),[3,3];case 3:return[2]}})})},t.prototype.refresh=function(){return Cn(this,void 0,void 0,function(){var e,t=this;return Pn(this,function(a){switch(a.label){case 0:return[4,_.requestGetPCAnnounceList(this.GetParams)];case 1:return 0!==(e=a.sent()).data.code?this.$message.error("获取数据失败，错误原因："+e.data.error):(this.$message.success("已更新当前数据"),this.packages=e.data.items,this.PackagesMap.clear(),this.packages.forEach(function(e){return t.PackagesMap[e.uid]=e}),this.total=e.data.total),[2]}})})},t.prototype.mounted=function(){return Cn(this,void 0,void 0,function(){return Pn(this,function(e){switch(e.label){case 0:this.rowDrop(),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.refresh()];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.$message.error("刷新数据失败：网络错误"),[3,4];case 4:return[2]}})})},t.prototype.searchAnnounce=function(){this.page=1,this.refresh()},t.prototype.showAnnounceItemDetail=function(e){return Cn(this,void 0,void 0,function(){var t,a;return Pn(this,function(n){switch(n.label){case 0:this.auid=e,n.label=1;case 1:return n.trys.push([1,4,,5]),[4,_.requestGetPCAnnounceDetail(e,{})];case 2:return t=n.sent(),[4,_.requestGetPCLanguageList({pc_announce:this.auid})];case 3:return 0!==(a=n.sent()).data.code?this.$message.error("获取语言列表出错, 请重试"):this.languageResult=a.data.language,0!==t.data.code?this.$message.error("获取公告详情失败，错误："+t.data.error):this.AnnounceItemDialogVisible=!0,[3,5];case 4:return n.sent(),this.$message.error("网络错误，获取公告详情失败。"),[3,5];case 5:return[2]}})})},t.prototype.createAnnounceItem=function(e){return Cn(this,void 0,void 0,function(){var t,a;return Pn(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,_.requestPostPCAnnounceItem({},{pc_announce_uid:e.announce_uid,language:e.language,content:e.content,title:e.title,title_map:e.title_map})];case 1:return 0!==(t=n.sent()).data.code?this.$message.error("创建公告失败，错误："+t.data.error):(this.$message.success("创建语言版本成功，公告标题是"+t.data.title),this.AnnounceItemDialogVisible=!1,this.refresh()),[3,3];case 2:return a=n.sent(),this.$message.error("网络错误，创建语言失败。"+a.toString()),[3,3];case 3:return[2]}})})},t.prototype.refreshAnnounceCache=function(){return Cn(this,void 0,void 0,function(){return Pn(this,function(e){switch(e.label){case 0:return[4,_.requestGetRefreshPCAnnounceCache({})];case 1:return 0!=e.sent().data.code?this.$message.error("网络错误, 重建失败"):(this.$message.success("重建公告板缓存成功!"),this.refresh()),[2]}})})},t.prototype.showDeleteAnnounce=function(e){this.AnnounceDeleteDialogVisible=!0,this.delete_auid=e},t.prototype.DeletePCAnnounce=function(e){return Cn(this,void 0,void 0,function(){var t;return Pn(this,function(a){switch(a.label){case 0:return[4,_.requestDeletePCAnnounce({},e)];case 1:return 0!=(t=a.sent()).data.code?this.$message.error("删除公告失败，错误："+t.data.error):(this.$message.success("删除公告成功!"),this.AnnounceDeleteDialogVisible=!1,this.refresh()),[2]}})})},t.prototype.showAnnounceDetail=function(e){return Cn(this,void 0,void 0,function(){var t;return Pn(this,function(a){switch(a.label){case 0:return void 0==e?[3,2]:[4,_.requestGetPCAnnounceDetail(e,{})];case 1:0!=(t=a.sent()).data.code?this.$message.error("获取公告失败!"):(this.PCAnnounceDetailData=t.data,this.PCPCAnnounceDetailDialogVisible=!0),a.label=2;case 2:return[2]}})})},t.prototype.rowDrop=function(){var e=document.querySelector(".el-table__body-wrapper tbody"),t=this;Da.a.create(e,{onEnd:function(e){var a=e.newIndex,n=e.oldIndex;return Cn(this,void 0,void 0,function(){var e,r,i,o,s;return Pn(this,function(l){switch(l.label){case 0:return e=t.packages[a].sort_key,r=t.packages[n].sort_key,[4,_.requestPostPCAnnounceForSort({},t.packages[n].uid,{sort_key:e})];case 1:return i=l.sent(),[4,_.requestPostPCAnnounceForSort({},t.packages[a].uid,{sort_key:r})];case 2:return o=l.sent(),0==i.data.code&&0==o.data.code||this.$message.error("拖动出错, 请稍后再试"),s=t.packages.splice(n,1)[0],t.packages.splice(a,0,s),t.refresh(),[2]}})})}})},Dn([Object(V.c)("page"),Object(V.c)("size")],t.prototype,"refresh",null),t=Dn([I()({name:"PCAnnounceManager",components:{DeletePCAnnounce:wn,CreatePCAnnounceItemDialog:vn,PCAnnounceDetailDialog:pn,CreatePCAnnounceDialog:rn},filters:{formatUTCUnixTimestamp:He}})],t)}(n.default),An={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",{attrs:{slot:"header"},slot:"header"},[a("el-col",{attrs:{span:6}},[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(t){e.AnnounceCreateDialogVisible=!0}}},[e._v("创建公告板")]),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refreshAnnounceCache}},[e._v("刷新公告缓存")])],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"输入引导标题搜索公告板"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[a("el-button",{attrs:{slot:"append"},on:{click:e.searchAnnounce},slot:"append"},[a("el-icon",{staticClass:"el-icon-search"})],1)],1)],1)],1),a("el-table",{attrs:{data:e.packages,stripe:!0,"row-key":"sort_key"}},[a("el-table-column",{attrs:{fixed:"left",prop:"sort_key",label:"#",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.sort_key))]}}])}),a("el-table-column",{attrs:{prop:"origin_title",label:"引导标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.origin_title))]}}])}),a("el-table-column",{attrs:{prop:"category",label:"用途"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.category))]}}])}),a("el-table-column",{attrs:{prop:"platform",label:"平台"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.platform))]}}])}),a("el-table-column",{attrs:{prop:"is_pop",label:"弹出的"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){e.ISPopChange(t.row.uid,a)}},model:{value:t.row.is_pop,callback:function(a){e.$set(t.row,"is_pop",a)},expression:"props.row.is_pop"}})]}}])}),a("el-table-column",{attrs:{prop:"release",label:"已经发布"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{on:{change:function(a){e.ReleaseChange(t.row.uid,a)}},model:{value:t.row.release,callback:function(a){e.$set(t.row,"release",a)},expression:"props.row.release"}})]}}])}),a("el-table-column",{attrs:{prop:"live",label:"还在线"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:"disabled"},model:{value:t.row.live,callback:function(a){e.$set(t.row,"live",a)},expression:"props.row.live"}})]}}])}),a("el-table-column",{attrs:{label:"功能"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){e.showAnnounceDetail(t.row.uid)}}},[e._v("详情")]),a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){e.showAnnounceItemDetail(t.row.uid)}}},[e._v("添加语言")]),a("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(a){e.showDeleteAnnounce(t.row.uid)}}},[e._v("删除")])]}}])})],1),a("div",{staticStyle:{width:"100%","margin-top":"18px"},attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"total,sizes,prev,pager,next",total:e.total,"current-page":e.page,"page-size":e.size},on:{"current-change":function(t){return e.page=t},"size-change":function(t){return e.size=t}}})],1)],1),a("create-p-c-announce-dialog",{attrs:{visible:e.AnnounceCreateDialogVisible},on:{"update:visible":function(t){e.AnnounceCreateDialogVisible=t},submit:e.createAnnounce}}),a("p-c-announce-detail-dialog",{attrs:{visible:e.PCPCAnnounceDetailDialogVisible,"announce-detail":e.PCAnnounceDetailData},on:{"update:visible":function(t){e.PCPCAnnounceDetailDialogVisible=t}}}),a("create-p-c-announce-item-dialog",{attrs:{visible:e.AnnounceItemDialogVisible,announceUid:e.auid,languageList:e.languageResult},on:{"update:visible":function(t){e.AnnounceItemDialogVisible=t},submit:e.createAnnounceItem}}),a("delete-p-c-announce",{attrs:{visible:e.AnnounceDeleteDialogVisible},on:{"update:visible":function(t){e.AnnounceDeleteDialogVisible=t},submit:function(t){e.DeletePCAnnounce(e.delete_auid)}}})],1)},staticRenderFns:[]},On=a("VU/8")(jn,An,!1,null,null,null).exports,Ln=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),zn=this&&this.__assign||function(){return(zn=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Rn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},qn=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},Un=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},Sn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=1,t.size=20,t.packages=[],t.total=0,t.searchText="",t.PackagesMap=new Map,t.searchMode="order_id",t}return Ln(t,e),Object.defineProperty(t.prototype,"PackagePriceListParams",{get:function(){return{page:this.page,size:this.size,query:this.searchText,mode:this.searchMode}},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){return qn(this,void 0,void 0,function(){var e,t=this;return Un(this,function(a){switch(a.label){case 0:return[4,_.requestGetOrderList(this.PackagePriceListParams)];case 1:return 0!==(e=a.sent()).data.code?this.$message.error("获取数据失败，错误原因："+e.data.error):(this.$message.success("已更新当前数据"),this.packages=e.data.items,this.PackagesMap.clear(),this.packages.forEach(function(e){return t.PackagesMap[e.object_id]=e}),this.total=e.data.total),[2]}})})},t.prototype.mounted=function(){return qn(this,void 0,void 0,function(){return Un(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.refresh()];case 1:return e.sent(),[3,3];case 2:return e.sent(),this.$message.error("刷新数据失败：网络错误"),[3,3];case 3:return[2]}})})},t.prototype.searchPackage=function(){this.page=1,this.refresh()},Rn([Object(V.c)("page"),Object(V.c)("size")],t.prototype,"refresh",null),t=Rn([I()({name:"Order",components:{MusicOptions:ut},filters:zn({},Ee)})],t)}(n.default),Tn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",{attrs:{slot:"header"},slot:"header"},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1)],1),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"订单号或者心动ID搜索"},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}},[a("el-select",{staticClass:"input-with-select",attrs:{slot:"prepend",value:"order_id"},slot:"prepend",model:{value:e.searchMode,callback:function(t){e.searchMode=t},expression:"searchMode"}},[a("el-option",{attrs:{value:"order_id",label:"订单号搜索"}}),a("el-option",{attrs:{value:"user_id",label:"心动ID搜索"}})],1),a("el-button",{attrs:{slot:"append"},on:{click:e.searchPackage},slot:"append"},[a("el-icon",{staticClass:"el-icon-search"})],1)],1)],1)],1),a("el-table",{attrs:{data:e.packages,stripe:!0}},[a("el-table-column",{attrs:{fixed:"left",prop:"object_id",label:"UUID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.object_id))]}}])}),a("el-table-column",{attrs:{prop:"order_id",label:"订单号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.order_id))]}}])}),a("el-table-column",{attrs:{prop:"user_id",label:"心动ID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.user_id))]}}])}),a("el-table-column",{attrs:{prop:"gold",label:"金额(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.gold/100))]}}])}),a("el-table-column",{attrs:{prop:"product_id",label:"商品"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.product_id))]}}])}),a("el-table-column",{attrs:{prop:"payment_way",label:"支付方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.payment_way))]}}])}),a("el-table-column",{attrs:{prop:"validation",label:"校验"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.validation))]}}])}),a("el-table-column",{attrs:{fixed:"right",prop:"created_at",label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatUTCUnixTimestamp")(t.row.created_at)))]}}])})],1),a("div",{staticStyle:{width:"100%","margin-top":"18px"},attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"total,sizes,prev,pager,next",total:e.total,"current-page":e.page,"page-size":e.size},on:{"current-change":function(t){return e.page=t},"size-change":function(t){return e.size=t}}})],1)],1)],1)},staticRenderFns:[]};var In=a("VU/8")(Sn,Tn,!1,function(e){a("nF1u")},null,null).exports,Fn=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),$n=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.musicOptions=$.map(function(e){return{value:e.name,label:e.name,disabled:!0,children:e.playlist.map(function(e){return{value:e.uid,label:e.uid+" - "+e.name}})}}),t}return Fn(t,e),$n([Object(V.a)()],t.prototype,"selected",void 0),t=$n([I.a],t)}(n.default),En={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{attrs:{options:e.musicOptions,value:e.selected,placeholder:"请选择谱面...",size:"medium"},on:{change:function(t){return e.$emit("update:selected",t)}}})},staticRenderFns:[]};var Mn=a("VU/8")(Vn,En,!1,function(e){a("hSVD")},"data-v-68c90ad4",null).exports,Hn=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Jn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Gn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.packageOptions=$.map(function(e){return{value:e.name,label:e.name}}),t}return Hn(t,e),Jn([Object(V.a)()],t.prototype,"selected",void 0),t=Jn([I.a],t)}(n.default),Bn={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-cascader",{attrs:{options:e.packageOptions,value:e.selected,placeholder:"请选择曲包...",size:"medium"},on:{change:function(t){return e.$emit("update:selected",t)}}})},staticRenderFns:[]};var Yn=a("VU/8")(Gn,Bn,!1,function(e){a("ehA6")},"data-v-bd317d44",null).exports,Nn=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),Xn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},Zn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedMusic=[],t.price=2500,t}return Nn(t,e),t.prototype.updateWeekly=function(e){var t=this,a=e[1];if(void 0==e[1])return this.$message.error("music uid 为空, 修改失败"),!1;_.requestPostWeekly({music_uid:a,price:this.price}).then(function(e){if(0!=e.data.code)return t.$message.error("修改失败"),!1}).catch(function(e){t.$message.error("未知错误")}),this.$message.success("修改成功"),this.$emit("submit")},Xn([Object(V.a)({type:Boolean,default:!0})],t.prototype,"visible",void 0),t=Xn([I()({name:"UpdateWeeklyDialog",components:{WeeklyMusicOptions:Mn,WeeklyPackageOptions:Yn}})],t)}(n.default),Kn={render:function(){var e=this,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{attrs:{title:"修改周免歌曲",visible:t.visible,width:"30%"},on:{"update:visible":function(t){return e.$emit("update:visible",t)}}},[n("el-form",[n("el-form-item",{attrs:{label:"周免曲包"}},[n("el-col",{attrs:{span:12}},[n("weekly-package-options",{attrs:{selected:t.selectedMusic},on:{"update:selected":function(e){t.selectedMusic=e}}})],1)],1),n("el-form-item",{attrs:{label:"周免歌曲"}},[n("el-col",{attrs:{span:12}},[n("weekly-music-options",{attrs:{selected:t.selectedMusic},on:{"update:selected":function(e){t.selectedMusic=e}}})],1)],1),n("el-form-item",{attrs:{label:"周免价格"}},[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{placeholder:"修改周免价格(分)"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)],1),n("el-form-item",[n("el-col",{staticClass:"warning",attrs:{span:12}},[n("span",[t._v("修改新的曲包周免价格前, 记得先把当前的曲包周免价格修改为未优惠价格后, 再修改新的曲包的周免信息和价格(｡･∀･)ﾉﾞ")])])],1)],1),n("span",{attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"danger",plain:"plain"},on:{click:function(e){t.updateWeekly(t.selectedMusic)}}},[t._v("确定")]),n("el-button",{attrs:{plain:"plain"},on:{click:function(e){t.$emit("update:visible",!1)}}},[t._v("取消")])],1)],1)},staticRenderFns:[]};var Qn=a("VU/8")(Zn,Kn,!1,function(e){a("i4kq")},null,null).exports,Wn=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),er=this&&this.__assign||function(){return(er=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},tr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},ar=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))(function(r,i){function o(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new a(function(t){t(e.value)}).then(o,s)}l((n=n.apply(e,t||[])).next())})},nr=this&&this.__generator||function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&i[0]?n.return:i[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},rr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.page=1,t.size=20,t.packages=[],t.total=0,t.searchText="",t.PackagesMap=new Map,t.searchMode="order_id",t.weeklyUpdateDialogVisible=!1,t}return Wn(t,e),Object.defineProperty(t.prototype,"PackagePriceListParams",{get:function(){return{page:this.page,size:this.size}},enumerable:!0,configurable:!0}),t.prototype.refresh=function(){return ar(this,void 0,void 0,function(){var e,t=this;return nr(this,function(a){switch(a.label){case 0:return[4,_.requestGetWeeklyList(this.PackagePriceListParams)];case 1:return 0!==(e=a.sent()).data.code?this.$message.error("获取数据失败，错误原因："+e.data.error):(this.$message.success("已更新当前数据"),this.packages=e.data.items,this.PackagesMap.clear(),this.packages.forEach(function(e){return t.PackagesMap[e.object_id]=e}),this.total=e.data.total),[2]}})})},t.prototype.mounted=function(){return ar(this,void 0,void 0,function(){return nr(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.refresh()];case 1:return e.sent(),[3,3];case 2:return e.sent(),this.$message.error("刷新数据失败：网络错误"),[3,3];case 3:return[2]}})})},t.prototype.searchPackage=function(){this.page=1,this.refresh()},t.prototype.closeDialog=function(){this.weeklyUpdateDialogVisible=!1},t.prototype.updateWeekly=function(){this.weeklyUpdateDialogVisible=!0},tr([Object(V.c)("page"),Object(V.c)("size")],t.prototype,"refresh",null),t=tr([I()({name:"Weekly",components:{UpdateWeeklyDialog:Qn},filters:er({},Ee)})],t)}(n.default),ir={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-row",{attrs:{slot:"header"},slot:"header"},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:e.refresh}},[a("el-icon",{staticClass:"el-icon-refresh"})],1)],1)],1),a("el-table",{attrs:{data:e.packages,stripe:!0}},[a("el-table-column",{attrs:{fixed:"left",prop:"object_id",label:"UUID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.object_id))]}}])}),a("el-table-column",{attrs:{fixed:"left",prop:"music_uid",label:"MUSIC_UID"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.music_uid))]}}])}),a("el-table-column",{attrs:{fixed:"left",prop:"price",label:"价格(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.price/100))]}}])}),a("el-table-column",{attrs:{fixed:"left",prop:"created_at",label:"创建日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatUTCUnixTimestamp")(t.row.created_at)))]}}])}),a("el-table-column",{attrs:{fixed:"left",prop:"updated_at",label:"修改日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e._f("formatUTCUnixTimestamp")(t.row.updated_at)))]}}])}),a("el-table-column",{attrs:{label:"功能"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"plain"},on:{click:function(a){e.updateWeekly(t.row.object_id)}}},[e._v("修改")])]}}])})],1),a("div",{staticStyle:{width:"100%","margin-top":"18px"},attrs:{align:"center"}},[a("el-pagination",{attrs:{layout:"total,sizes,prev,pager,next",total:e.total,"current-page":e.page,"page-size":e.size},on:{"current-change":function(t){return e.page=t},"size-change":function(t){return e.size=t}}})],1)],1),a("update-weekly-dialog",{attrs:{visible:e.weeklyUpdateDialogVisible},on:{"update:visible":function(t){e.weeklyUpdateDialogVisible=t},submit:e.closeDialog}})],1)},staticRenderFns:[]};var or=a("VU/8")(rr,ir,!1,function(e){a("P3HB")},null,null).exports,sr=this&&this.__extends||function(){var e=function(t,a){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),lr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,o=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,a,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(t,a,o):r(t,a))||o);return i>3&&o&&Object.defineProperty(t,a,o),o},cr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectedMusic=[],t}return sr(t,e),t=lr([I()({components:{MusicOptions:ut}})],t)}(n.default),ur={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-card",[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-col",[t("h2",[this._v("自动告警参考分数")])])],1),t("el-table",[t("el-table-column")],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-card",[t("el-row",{attrs:{slot:"header"},slot:"header"},[t("el-col",[t("h2",[this._v("自动封禁参考分数")])])],1),t("el-table",[t("el-table-column")],1)],1)],1)],1)},staticRenderFns:[]};var dr=a("VU/8")(cr,ur,!1,function(e){a("oR+B")},"data-v-b3e839b0",null).exports,pr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[e._m(0),e._v(" "),a("div",{staticClass:"error-desc"},[e._v("啊哦~ 你所访问的页面不存在")]),e._v(" "),a("div",{staticClass:"error-handle"},[a("router-link",{attrs:{to:"/"}},[a("el-button",{attrs:{type:"primary",size:"large"}},[e._v("返回首页")])],1),e._v(" "),a("el-button",{staticClass:"error-btn",attrs:{type:"primary",size:"large"},on:{click:e.goBack}},[e._v("返回上一页")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"error-code"},[this._v("4"),t("span",[this._v("0")]),this._v("4")])}]};var fr=a("VU/8")({methods:{goBack:function(){this.$router.go(-1)}}},pr,!1,function(e){a("KUKT")},"data-v-9a1b8522",null).exports,mr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[e._m(0),e._v(" "),a("div",{staticClass:"error-desc"},[e._v("啊哦~ 你没有权限访问该页面哦")]),e._v(" "),a("div",{staticClass:"error-handle"},[a("router-link",{attrs:{to:"/"}},[a("el-button",{attrs:{type:"primary",size:"large"}},[e._v("返回首页")])],1),e._v(" "),a("el-button",{staticClass:"error-btn",attrs:{type:"primary",size:"large"},on:{click:e.goBack}},[e._v("返回上一页")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"error-code"},[this._v("4"),t("span",[this._v("0")]),this._v("3")])}]};var hr=a("VU/8")({methods:{goBack:function(){this.$router.go(-1)}}},mr,!1,function(e){a("htOd")},"data-v-fd655f1a",null).exports;n.default.use(o.a);var _r=new o.a({routes:[{path:"/",redirect:"/dashboard",meta:{requireAuth:!0}},{path:"/login",component:na},{path:"/404",component:fr},{path:"/403",component:hr},{path:"*",redirect:"/404"},{path:"/",name:"Home",meta:{requireAuth:!0},component:S,children:[{path:"/dashboard",component:K,meta:{title:"系统首页",requireAuth:!0}},{path:"/play-statistics",component:Ue,meta:{title:"数据收集",requireAuth:!0}},{path:"/user-management",component:it,meta:{title:"用户管理",requireAuth:!0}},{path:"/leaderboard",component:Ct,meta:{title:"排行榜",requireAuth:!0}},{path:"/pc-leaderboard",component:Vt,meta:{title:"PC Steam排行榜",requireAuth:!0}},{path:"/exhi-leaderboard",component:Zt,meta:{title:"展会排行榜(移动端)",requireAuth:!0}},{path:"/anti-cheat",component:dr,meta:{title:"反作弊",requireAuth:!0}},{path:"/music-package",component:wa,meta:{title:"商品价格",requireAuth:!0}},{path:"/order",component:In,meta:{title:"订单详情",requireAuth:!0}},{path:"/weekly",component:or,meta:{title:"周免设置",requireAuth:!0}},{path:"/announce-board",component:Wa,meta:{title:"公告板",requireAuth:!0}},{path:"/p-c-announce-board",component:On,meta:{title:"公告板",requireAuth:!0}}]}]}),vr=a("zL8q"),br=a.n(vr),yr=a("vO7p"),gr=a.n(yr);a("YsUA"),a("Qbfk"),a("tvR6"),a("j1ja");n.default.use(gr.a),n.default.use(br.a,{size:"small"}),n.default.prototype.$axios=l.a;var kr=a("JnRc");n.default.prototype.$AV=kr,_r.beforeEach(function(e,t,a){e.meta.requireAuth?_.token?a():a({path:"/login",query:{redirect:e.fullPath}}):a()}),new n.default({router:_r,render:function(e){return e(i)},created:function(){this.$axios({method:"get",url:_.base+"/auth/",params:{},headers:{Authorization:_.token}}).then(function(e){kr.init({appId:e.data.appid,appKey:e.data.appkey})})}}).$mount("#app")},x3zY:function(e,t){},xY57:function(e,t){},z5n0:function(e,t){}},["x35b"]);